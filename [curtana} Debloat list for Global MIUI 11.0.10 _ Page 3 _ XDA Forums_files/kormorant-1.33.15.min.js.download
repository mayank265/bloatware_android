(function(ze){typeof __VM_undefined=="function"&&__VM_undefined.amd?__VM_undefined(ze):ze()})(function(){"use strict";var ze="";function Ae(E){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(E)}var nt=globalThis;function Dt(E,e){var t=typeof Symbol!="undefined"&&E[Symbol.iterator]||E["@@iterator"];if(!t){if(Array.isArray(E)||(t=Mt(E))||e&&E&&typeof E.length=="number"){t&&(E=t);var r=0,n=function(){};return{s:n,n:function(){return r>=E.length?{done:!0}:{done:!1,value:E[r++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,s=!1,u;return{s:function(){t=t.call(E)},n:function(){var c=t.next();return p=c.done,c},e:function(c){s=!0,u=c},f:function(){try{!p&&t.return!=null&&t.return()}finally{if(s)throw u}}}}function Mt(E,e){if(!!E){if(typeof E=="string")return it(E,e);var t=Object.prototype.toString.call(E).slice(8,-1);if(t==="Object"&&E.constructor&&(t=E.constructor.name),t==="Map"||t==="Set")return Array.from(E);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return it(E,e)}}function it(E,e){(e==null||e>E.length)&&(e=E.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=E[t];return r}var ot=/[.*+?^${}()|[\]\/\\]/g,at=/{{([A-Za-z]\w*)}}/g,ve=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n;return function(){var p=arguments;n?clearTimeout(n):r.leading&&e.apply(null,arguments),n=window.setTimeout(function(){n=void 0,r.leading||e.apply(null,p)},t)}},st=function(e){return e.replace(ot,"\\$&")},K=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t[0],p=1,s=t.length;p<s;++p){var u=t[p];if(Ae(u)!=="object")break;for(var i in u)u.hasOwnProperty(i)&&(n[i]=u[i])}return n},ye=function(e,t,r){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(r,e[n],n)},ct=function(e){for(var t=0,r,n=0;n<e.length;++n)r=e.charCodeAt(n),t=(t<<5)-t+r,t|=0;return t},Bt=function(e,t){var r=Dt(Array.isArray(t)?t:[t]),n;try{for(r.s();!(n=r.n()).done;){var p=n.value;if(!e.includes(p))return!1}}catch(s){r.e(s)}finally{r.f()}return!0},Vt=function(e){if(Object.keys)return Object.keys(e).length===0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},Be=function(e){return Ae(e)==="object"&&e!==null&&!Ye(e)},ue=function(){var e=Array.prototype.slice.call(arguments),t=e[0],r=e[1],n=!1;return function(){n||(n=!0,t.apply(r,arguments))}},ce=function(e,t){return e.replace(at,function(n,p){return t.hasOwnProperty(p)?encodeURIComponent(String(t[p])):""})},Ut=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+"="+encodeURIComponent(e[r]));return t.join("&")},lt=function(e,t){return e.length>t?e.substr(0,t-3)+"\u2026":e},Ee=function(e){return typeof e=="number"&&window.isFinite(e)},Ye=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Qe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,n=function(){t()&&e()},p=setInterval(n,r);return function(){return clearInterval(p)}},He=function(e,t,r){var n=Date.now();n-e>=t&&r()},ut=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(n){return n?encodeURIComponent(r(n)):""}function r(n){if(!n)return"";for(var p="",s=0,u,i,c,l,y,w,A;s<n.length;)u=n.charCodeAt(s++),i=n.charCodeAt(s++),c=n.charCodeAt(s++),l=u>>2,y=(u&3)<<4|i>>4,w=(i&15)<<2|c>>6,A=c&63,isNaN(i)?(w=64,A=64):isNaN(c)&&(A=64),p+=e.charAt(l)+e.charAt(y)+e.charAt(w)+e.charAt(A);return p}return{encode:r,encodeURI:t}}(),we=function(){var E=window.navigator.userAgent,e=E.indexOf("MSIE"),t,r,n;if(e>-1){t=3,r=document.createElement("div"),n=r.all||[];do r.innerHTML="<!--[if gt IE "+ ++t+"]><br><![endif]-->";while(n[0]);return t>4?t:!1}else return!1}(),je=function(E){return E?function(t){return t&&typeof t.length=="number"&&typeof t.item!="undefined"&&typeof t.push=="undefined"&&typeof t.pop=="undefined"}:function(t){return t instanceof NodeList}}(!!we),Ft=function(){var e=Date.now();nt.elapsed=function(){return Date.now()-e},nt.reset=function(){e=Date.now()}},Ie=Object.freeze(Object.defineProperty({__proto__:null,REGEXP_SPECIAL_CHARS:ot,URL_PARAM_REGEXP:at,debounce:ve,escapeRegExp:st,extend:K,forOwn:ye,hashString:ct,includesAll:Bt,isEmpty:Vt,isObject:Be,once:ue,replaceUrlParams:ce,toQueryString:Ut,truncate:lt,isFiniteNumber:Ee,isArray:Ye,pollExecute:Qe,executeIfTimePassed:He,Base64:ut,isIE:we,isNodeList:je,Timer:Ft},Symbol.toStringTag,{value:"Module"})),Ve={1:"intext",2:"image",3:"inline",4:"adhesion",5:"inview",6:"adbar",9:"instory"};function be(E,e,t){return e in E?Object.defineProperty(E,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):E[e]=t,E}function dt(E,e){var t=Object.keys(E);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(E);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(E,n).enumerable})),t.push.apply(t,r)}return t}function ft(E){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dt(Object(t),!0).forEach(function(r){be(E,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(t)):dt(Object(t)).forEach(function(r){Object.defineProperty(E,r,Object.getOwnPropertyDescriptor(t,r))})}return E}var Gt=function(e){var t,r=e.partner;if(!!r){var n=r.intext,p=n===void 0?{}:n,s=r.inview,u=s===void 0?{}:s;e.partner.inview=ft(ft({},u),(t=p.inview)!==null&&t!==void 0?t:{})}},Wt=[{type:"execute",args:[[Gt]]}],zt=globalThis,Yt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wt,r={},n={};return r.get=function(s,u){var i=this;return s.split(".").some(function(c){if(Object.hasOwnProperty.call(i,c))i=i[c];else{if(typeof u!="undefined")return i=u,!0;throw new Error('Config item "'+s+'" not found')}}),Be(i)&&K(i,r),i},r.getArray=function(s,u){var i=this.get(s,u);return typeof i=="string"?i.split(","):i},r.getBoolean=function(s,u){var i=this.get(s,u);return typeof i=="string"?i==="1":i},r.getInteger=function(s,u){var i=this.get(s,u);return typeof i=="string"?parseInt(i,10):i},r.getJSON=function(s,u){var i=this.get(s,u);return typeof i=="string"?JSON.parse(i):i},n.execute=function(s,u){u.forEach(function(i){i(s)})},e=K(e,r),t.forEach(function(p){var s=[e].concat(p.args);n[p.type].apply(zt,s)}),e},Qt=function(e){var t=0,r=1,n=2,p=3,s=e.get("debugMode",0),u=function(){return s},i=function(g,m){{w("Debug log: Print Remote mode is disabled, ignoring log request");return}},c=function(g,m,f){if(!!u()){if(f)return i();var a;switch(m){case t:a="color:blue;";break;case r:a="color:green;";break;case n:a="color:orange;";break;case p:a="color:red;";break;default:a="color:green;"}console.log("%cVM: %c"+g,a,"color:black")}},l=function(g,m){c(g,t,m)},y=function(g,m){c(g,r,m)},w=function(g,m){c(g,n,m)},A=function(g,m){c(g,p,m)};if(u()){var h="IPID: "+e.ipid;h+=" PVU: "+e.pvu,h+=" PRODUCTS: "+e.partner.products,h+=" EXCLUDE ADPROVIDERS: "+e.partner.exAdProviders,c(h)}return{trace:l,info:y,warn:w,error:A}};function Ke(E,e){(e==null||e>E.length)&&(e=E.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=E[t];return r}function jt(E){if(Array.isArray(E))return Ke(E)}function Kt(E){if(typeof Symbol!="undefined"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}function vt(E,e){if(!!E){if(typeof E=="string")return Ke(E,e);var t=Object.prototype.toString.call(E).slice(8,-1);if(t==="Object"&&E.constructor&&(t=E.constructor.name),t==="Map"||t==="Set")return Array.from(E);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ke(E,e)}}function Xt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zt(E){return jt(E)||Kt(E)||vt(E)||Xt()}function te(E,e){if(!(E instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(E,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(E,r.key,r)}}function re(E,e,t){return e&&pt(E.prototype,e),t&&pt(E,t),Object.defineProperty(E,"prototype",{writable:!1}),E}var Se="CustomEventsStore__",qt=function(){var e=function(){return document.addEventListener?function(c,l,y){return c.addEventListener(l,y,!1),function(){c.removeEventListener(l,y,!1)}}:function(c,l,y){return l="on"+l,c.attachEvent(l,y),function(){c.detachEvent(l,y)}}}();function t(u){u.stopPropagation?u.stopPropagation():(u.cancelBubble=!0,u.returnValue=!1)}var r=function(){function u(){te(this,u),this[Se]={},this.connections=[]}return re(u,[{key:"on",value:function(c,l,y,w){return this[Se][c]||(this[Se][c]=[]),w=w||[],this[Se][c].push([l,y,w]),this}},{key:"once",value:function(c,l,y,w){var A=this,h=!1,d=function g(){A.unbind(g),h||(h=!0,l.apply(y,arguments))};return this.on(c,d,y,w)}},{key:"fire",value:function(c,l){var y=this[Se][c];if(!!y)return Zt(y).forEach(function(w){var A=w[0],h=w[1],d=w[2];A.apply(h,[new n(l)].concat(d))}),this}},{key:"connect",value:function(c,l,y){y=y||c;var w=function(h){l.fire(y,h.data)};return this.connections.push({leftEvent:c,rightObservable:l,rightEvent:y,callback:w}),this.on(c,w)}},{key:"disconnect",value:function(c,l,y){var w=this,A=[];this.connections.forEach(function(h,d){c===h.leftEvent&&l===h.rightObservable&&y===h.rightEvent&&(w.unbind(c,h.callback),A.push(d))}),A.forEach(function(h){w.connections.splice(h,1)})}},{key:"disconnectAll",value:function(c){var l=this,y=[];this.connections.forEach(function(w,A){c===w.rightObservable&&(l.unbind(w.leftEvent,w.callback),y.push(A))}),y.forEach(function(w){l.connections.splice(w,1)})}},{key:"unbind",value:function(c,l){var y=this[Se][c];!y||y.some(function(w,A){if(w[0]===l)return y.splice(A,1),!0})}},{key:"unbindAll",value:function(){this[Se]={}}}]),u}();function n(u){this.data=u||{}}function p(u,i,c,l){return u.connect(i,c,l)}function s(u,i,c,l){return l=l||i,e(u,i,function(y){c.fire(l,y)})}return{bind:e,bindConnect:s,connect:p,stopPropagation:t,Observable:r,VMEvent:n}},ht="initialise",gt="updatepubx",mt="newAds",Xe="contextKey",Ze="newContent",ke="load",pe="scroll",yt="resize",wt="zoom",At="touchstart",Et="touchend",Jt="contextComplete",bt="manual",kt="inText:closeTooltips",Oe="inView:AnimationStart",Le="inView:AnimationEnd",Tt="inline:AnimationStart",Ct="inline:AnimationEnd",It="headerBidding:Impression",$t=function(e){return new e.Observable},er=function(e,t){var r={},n=[],p={},s={},u={};e.on(mt,function(w){var A=w.data,h=A.product,d=A.ads,g,m,f,a;for(m in d)if(d.hasOwnProperty(m)&&d[m][0]&&d[m][0].vibrantParameters){f=d[m][0],g=f.vibrantParameters.keywordId,a=f.vibrantParameters.setId,g&&!r[g]&&(r[g]=1,n.push(g)),p[h]=p[h]||{},s[h]=s[h]||[],u[h]=a,a&&!p[h][a]&&(p[h][a]=1,s[h].push(a));var o=f.ads[0].creative||{};t.info("AD: Product:"+f.vibrantParameters.product+" keyword: "+(f.term||{}).keyword+" creativeId: "+o.value+" setId: "+a)}});function i(y){return y==="image"?c(y):s[y]||[]}function c(y){var w=u[y];return w?[w]:[]}function l(){return n||[]}return{getUsedSets:i,getUsedKeywords:l,getLastUsedSet:c}},tr=function(e,t){var r=document.head||document.getElementsByTagName("head")[0],n,p=50,s=10,u=2500,i="-1000px",c=["<img src","<span ","<iframe "],l=["html"];function y(){return typeof window.innerWidth!="undefined"?window.innerWidth:document.documentElement.clientWidth}function w(){return typeof window.innerHeight!="undefined"?window.innerHeight:document.documentElement.clientHeight}function A(){return typeof window.pageXOffset!="undefined"?window.pageXOffset:document.documentElement.scrollLeft}function h(){return typeof window.pageYOffset!="undefined"?window.pageYOffset:document.documentElement.scrollTop}function d(P,B){var V=+new Date,G=0;window.setTimeout(function Q(){var ee=+new Date,de=(ee-V)/B,se;P>0?se=Math.min(P,G+de*P):se=Math.max(P,G+de*P);var Re=Math.round(se-G);Re!==0&&window.scrollBy(0,Re),V=ee,G=se,P>0?se<P&&window.setTimeout(Q,s):se>P&&window.setTimeout(Q,s)},s)}function g(){return new $({top:h(),left:A(),bottom:h()+w(),right:A()+y()})}function m(P,B){var V=document.createElement("iframe"),G;return V.frameBorder=0,V.scrolling="no",V.marginWidth=0,V.marginHeight=0,V.hspace=0,V.vspace=0,V.style.position="static",P.width?(V.width=P.width,V.style.width=P.width+"px",P.fixMaxDimensions&&V.style.setProperty("max-width",P.width+"px","important")):(V.width="100%",V.style.width="100%"),P.height?(V.height=P.height,V.style.height=P.height+"px",P.fixMaxDimensions&&V.style.setProperty("max-height",P.height+"px","important")):(V.height="100%",V.style.height="100%"),B&&(G=e.bind(V,"load",function(){G(),B(null,V)})),V}function f(P,B,V){var G=document.createElement("iframe");return G.src=P,G.style.display="none",V=V||document.body,e.bind(G,"load",function(){B&&B(null,G)}),G=V.appendChild(G),G}function a(P,B,V){var G=document.createElement("iframe");return G.src=P,G.style.display="none",V=V||document.body,e.bind(G,"load",function(){V.removeChild(G),B&&setTimeout(B)}),G=V.appendChild(G),G}function o(P,B,V,G){var Q=document.createElement("script");if(Q.type="text/javascript",Q.async=!0,Q.src=P,G)for(var ee in G)G.hasOwnProperty(ee)&&(Q[ee]=G[ee]);return V=V||r,document.addEventListener?e.bind(Q,"load",function(){B&&B()}):Q.onreadystatechange=function(){(Q.readyState==="loaded"||Q.readyState==="complete")&&(Q.onreadystatechange=null,B&&B())},V.appendChild(Q),Q}function v(P,B){var V=document.createElement("script");return V.type="text/javascript",V.async=!0,V.text=P,B=B||r,B.appendChild(V),V}function b(P,B,V){var G=o(P,function(){B&&B(),V=V||r;try{V.removeChild(G)}catch(Q){}},V);return G}function I(P){var B=document.createElement("link");return B.rel="stylesheet",B.type="text/css",B.href=P,r.appendChild(B),B}function T(P){var B=document.createElement("style");return B.type="text/css",Pe(B,P),r.appendChild(B),B}function C(P,B){var V=document.createElement("img");return V.src=P,N(B)&&(V.style.setProperty("width","1px","important"),V.style.setProperty("height","1px","important"),B.appendChild(V)),V}function k(P,B){B===!0?k.sameWindow(P):k.newWindow(P)}k.newWindow=function(P){window.open(P)},k.sameWindow=function(P){document.location.href=P};function N(P){return P instanceof HTMLElement&&P.nodeType===Te}function S(P){return P?P.constructor===document.createDocumentFragment().constructor:!1}document.createRange&&Range.prototype.getBoundingClientRect?n=function(B){var V=document.createRange();return V.selectNodeContents(B),new $(V.getBoundingClientRect()).shiftX(A()).shiftY(h())}:n=function(B){var V=B.parentNode,G=document.createElement("span");V.replaceChild(G,B),G.appendChild(B);var Q=G.getBoundingClientRect();return V.replaceChild(B,G),new $(Q).shiftX(A()).shiftY(h())};function R(P,B){var V=document.createElement("span"),G;return B=B||document.body,Pe(V,P),V.style.position="absolute",V.style.visibility="hidden",V.style.top=i,V.style.left=i,V.style.width="auto",V.style.height="auto",V.style.whiteSpace="nowrap",B.appendChild(V),G=n(V),V.parentNode.removeChild(V),G}function L(P,B){var V;if(P&&typeof P.getBoundingClientRect=="function"){if(V=P.getBoundingClientRect(),typeof V.top=="undefined"||typeof V.right=="undefined"||typeof V.bottom=="undefined"||typeof V.left=="undefined")return console.error("getPosition: invalid rect"),null;var G=B?0:A(),Q=B?0:h();return new $({top:V.top+Q,right:V.right+G,bottom:V.bottom+Q,left:V.left+G})}}function D(P,B){var V=["top","left","bottom","right"];V.forEach(function(G){Object.hasOwnProperty.call(B,G)&&(P.style[G]=B[G]+"px")})}function H(P){var B,V;if(!!N(P))return V=P.getBoundingClientRect(),B={width:V.right-V.left,height:V.bottom-V.top},B}function M(P,B){if(!N(P))throw new Error("Not an element");B=B||0;var V=L(P,!0),G=V.left+B,Q=V.right+B,ee=V.top+B,de=V.bottom+B,se=[document.elementFromPoint(G,ee),document.elementFromPoint(Q,ee),document.elementFromPoint(G,de),document.elementFromPoint(Q,de)];return se}function O(P,B){if(!N(P)||!ge(P))return!1;var V=M(P,B);return V.some(function(G){if(!G||G===P)return!1;var Q=G.nodeName.toLowerCase();if(l.indexOf(Q)!==-1||!N(G)||!ge(G)||G.contains(P))return!1;var ee=c.some(function(de){var se=G.innerHTML.indexOf(de)!==-1;if(se){var Re=(G.innerHTML||G.outerHTML||"").substr(0,100),Di=(P.innerHTML||P.outerHTML||"").substr(0,100);t.trace("Hook collision   : "+de),t.trace("Between paragraph: "+Di),t.trace("And visible tag  : "+Re)}return se});return ee})}function _(P,B){var V=!1;if(!N(P))throw new Error("Not an element");function G(Q){return B.some(function(ee){return Lt(Q,ee)})}for(;P&&P.tagName!=="BODY";){if(G(P)){V=!0;break}P=P.parentNode}return V}function x(P){return typeof window.getComputedStyle=="function"?window.getComputedStyle(P):P.currentStyle}function U(P,B){var V,G,Q=function(){G(),V=void 0,B()};G=e.bind(window,P,function(){V&&window.clearTimeout(V),V=window.setTimeout(Q,p)})}function F(P){U("scroll",P)}function W(P){U("click",P)}function z(P,B,V){var G=L(P),Q;V=V||u;function ee(){var de=L(P);return G.equals(de)?!1:(G=de,!0)}return Q=Qe(B,ee,V),Q}function j(P){var B,V;function G(){B&&B(),V&&V(),P()}document.readyState==="interactive"||document.readyState==="complete"?G():(B=e.bind(window,"load",G),document.addEventListener?V=e.bind(document,"DOMContentLoaded",G):(document.onreadystatechange=function(){(document.readyState==="interactive"||document.readyState==="complete")&&G()},V=function(){document.onreadystatechange=null}))}function q(P){var B;if(P.nodeType===Te)B=L(P);else if(P.nodeType===De)B=n(P);else throw new Error("Node type not supported: "+P.nodeType);return!!B.getIntersection(g())}function X(P){var B;if(P.nodeType===Te)B=L(P);else if(P.nodeType===De)B=n(P);else throw new Error("Node type not supported: "+P.nodeType);var V=g(),G=B.getIntersection(V);return G?Math.max(G.bottom-G.top,0):0}function ge(P,B){var V=function ee(de){var se=de.parentNode;if(se===null||se.nodeType!==Te)return!1;var Re=x(se);return Re.overflow==="hidden"&&parseInt(Re.opacity,10)>0&&!Q.getIntersection(L(se))?!0:ee(se)},G=x(P),Q;return B=B||{},!(G.display==="none"||G.visibility==="hidden"||G.opacity==="0"||B.overflowCheck&&(Q=L(P),V(P)))}function me(P){for(var B={height:P.height,width:P.width},V={y:P.offsetTop||0,x:P.offsetLeft||0,el:P.offsetParent},G,Q,ee;(P=P.parentNode)!==null;)if(G=P&&P.tagName?x(P):null,G){var de=G&&(G.overflow==="hidden"||G.overflowX==="hidden"),se=G&&(G.overflow==="hidden"||G.overflowY==="hidden");se&&(Q=P.offsetHeight-V.y,P!==V.el&&(Q=Q+(P.offsetTop||0)),Q<B.height&&(Q<0?B.height=0:B.height=Q)),de&&(ee=P.offsetWidth-V.x,P!==V.el&&(ee=ee+(P.offsetLeft||0)),ee<B.width&&(ee<0?B.width=0:B.width=ee))}return B}function fe(P){for(var B;P.parentNode;)if(P=P.parentNode,B=P.nodeName.toLowerCase(),B==="p"||B==="div")return P;return null}function Me(P,B){return Ye(B)||(B=[B]),B.some(function(V){return P.querySelector(V)})}function Pe(P,B){we?P.innerText=B:P.textContent=B}function xi(P){var B=P.nextElementSibling;if(typeof B=="undefined")for(P=P.nextSibling,B=null;P!==null;){if(P.nodeType===Te){B=P;break}P=P.nextSibling}return B}function Lt(P,B){return P.matches?P.matches(B):Array.from(document.querySelectorAll(B)).includes(P)}function Hi(P,B){P.style.webkitTransformOrigin=B,P.style.MozTransformOrigin=B,P.style.transformOrigin=B,P.style.msTransformOrigin=B,P.style.OTransformOrigin=B}function Li(P,B,V){P.style.webkitTransform="scale("+B+","+V+")",P.style.MozTransform="scale("+B+","+V+")",P.style.transform="scale("+B+","+V+")",P.style.msTransform="scale("+B+","+V+")",P.style.OTransform="scale("+B+","+V+")"}function $(P){if(!P||Ae(P)!=="object"||!Ee(P.top)||!Ee(P.left)||!Ee(P.bottom)||!Ee(P.right))throw new Error("Coord: obj is not valid");this.top=P.top,this.left=P.left,this.bottom=P.bottom,this.right=P.right}return $.prototype.equals=function(P){var B=P instanceof $?P:new $(P);return this.top===B.top&&this.left===B.left&&this.bottom===B.bottom&&this.right===B.right},$.prototype.clone=function(){return new $(this)},$.prototype.getIntersection=function(P){var B,V,G;if(B=P instanceof $?P:new $(P),V=this,G=B,V.equals(G))return V.clone();if(!(V.bottom<=G.top||V.top>=G.bottom||V.right<=G.left||V.left>=G.right))return new $({top:Math.max(V.top,G.top),left:Math.max(V.left,G.left),bottom:Math.min(V.bottom,G.bottom),right:Math.min(V.right,G.right)})},$.prototype.getCenter=function(){return{x:this.left+(this.right-this.left)/2,y:this.top+(this.bottom-this.top)/2}},$.prototype.setCenter=function(P){var B=this.getCenter();if(!(!P||Ae(P)!=="object"||!Ee(P.x)||!Ee(P.y)))return this.top+=P.y-B.y,this.left+=P.x-B.x,this.bottom+=P.y-B.y,this.right+=P.x-B.x,this},$.prototype.pixels=function(){return(this.right-this.left)*(this.bottom-this.top)},$.prototype.shiftX=function(P){if(!!Ee(P))return this.left+=P,this.right+=P,this},$.prototype.shiftY=function(P){if(!!Ee(P))return this.top+=P,this.bottom+=P,this},$.prototype.contains=function(P){var B=P instanceof $?P:new $(P),V=this.getIntersection(B);return V?V.equals(B):!1},$.prototype.getWidth=function(){return this.right-this.left},$.prototype.getHeight=function(){return this.bottom-this.top},$.prototype.getArea=function(){return this.getWidth()*this.getHeight()},{appendIFrame:f,appendDisposableIFrame:a,appendScript:o,appendTextScript:v,appendDisposableScript:b,appendStyleSheet:I,appendInlineStyle:T,createIFrame:m,dropImage:C,findParentParagraph:fe,elementHasNodes:Me,getTextNodeBounds:n,getTextDimensions:R,isElement:N,isDocFragment:S,getPosition:L,setPosition:D,getDimension:H,getElementsAtPoints:M,detectCollisions:O,parentHasSelector:_,getStyle:x,getAbsoluteViewport:g,getWinWidth:y,getWinHeight:w,getScrollX:A,getScrollY:h,nextElementSibling:xi,matchesSelector:Lt,onEvent:U,onScroll:F,onClick:W,onPositionChange:z,openUrl:k,setTextContent:Pe,smoothScrollY:d,waitForReadyState:j,isInViewport:q,pixelHeightInViewport:X,isVisible:ge,getVisibleRect:me,transformOrigin:Hi,transformScale:Li,Coord:$}},Te=1,De=3;function ae(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function qe(E,e){return qe=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},qe(E,e)}function oe(E,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(e&&e.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),e&&qe(E,e)}function ie(E,e){if(e&&(Ae(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ae(E)}function Y(E){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(E)}var St=function(){function E(){te(this,E),this.bids=[],this.options={},this.name="bidderbase",this.status="pending"}return re(E,[{key:"formatBid",value:function(t,r,n,p,s,u,i,c){var l={bidderName:t,bidId:r,zoneId:n,product:p,width:s,height:u,scriptUrl:i,scriptTag:'<script src="'+i+'"><\/script>',cpm:c,impressions:0,impressionCap:1};return l}},{key:"getName",value:function(){return this.name}},{key:"getBids",value:function(){return this.bids}},{key:"getOptions",value:function(){return this.options||{}}},{key:"getStatus",value:function(){return this.status}},{key:"load",value:function(){throw new Error("BidderBase.prototype.load must be overridden.")}},{key:"getBidByZoneId",value:function(t){return this.bids.find(function(r){return r.zoneId===t})}}]),E}();function rr(E){var e=nr();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function nr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var ir=function(E){oe(t,E);var e=rr(t);function t(r,n,p){var s;te(this,t),s=e.call(this),s.FAST_BID_ENABLED=!0,s.scriptUrl=s.FAST_BID_ENABLED?"https://static.criteo.net/js/ld/publishertag.standalone.js":"https://static.criteo.net/js/ld/publishertag.js",s.criteo=null,s.bidTimeoutMs=2e3,s.name="criteo",s.supportedProducts=n,s.ipid=p||0;var u=ae(s);s.adUnits={placements:[{slotid:"div-gpt-ad-0000000000000-0",zoneid:898770},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232818},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1191579},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1191578},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1191580},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1175979},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1229156},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1191581},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1191582},{slotid:"div-gpt-ad-0000000000000-0",zoneid:898775},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232819},{slotid:"div-gpt-ad-0000000000000-0",zoneid:898777},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232820},{slotid:"div-gpt-ad-0000000000000-0",zoneid:898778},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232821},{slotid:"div-gpt-ad-0000000000000-0",zoneid:898779},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232824},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232825},{slotid:"div-gpt-ad-0000000000000-0",zoneid:898772},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1352278},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1352277},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1352276},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1352275},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1321165}]},s.productMap={},s.productMap[898770]={products:["intext"],size:"300x250",group:"all"},s.productMap[1232818]={products:["intext"],size:"300x250",group:"all"},s.productMap[1191579]={products:["inview"],size:"300x250",group:"all"},s.productMap[1191578]={products:["inview"],size:"480x320",group:"all"},s.productMap[1191580]={products:["inview"],size:"640x360",group:"all"},s.productMap[1175979]={products:["instory"],size:"300x250",group:"all"},s.productMap[1229156]={products:["instory"],size:"300x250",group:"all"},s.productMap[1191581]={products:["instory"],size:"480x320",group:"all"},s.productMap[1191582]={products:["instory"],size:"640x360",group:"all"},s.productMap[898778]={products:["image","adbar"],size:"320x50",group:"all"},s.productMap[1232821]={products:["image","adbar"],size:"320x50",group:"all"},s.productMap[898775]={products:["image","adbar"],size:"468x60",group:"all"},s.productMap[1232819]={products:["image","adbar"],size:"468x60",group:"all"},s.productMap[898777]={products:["image","adbar"],size:"728x90",group:"all"},s.productMap[1232820]={products:["image","adbar"],size:"728x90",group:"all"},s.productMap[898779]={products:["adhesion"],size:"300x50",group:"all"},s.productMap[1232824]={products:["adhesion"],size:"300x50",group:"all"},s.productMap[1232825]={products:["adhesion"],size:"300x50",group:"all"},s.productMap[898772]={products:["daw"],size:"300x250",group:"all"},s.productMap[1352278]={products:["instory"],size:"320x480",group:"high"},s.productMap[1352277]={products:["instory"],size:"300x250",group:"high"},s.productMap[1352276]={products:["instory"],size:"320x480",group:"low"},s.productMap[1352275]={products:["inview"],size:"300x250",group:"high"},s.productMap[1321165]={products:["adbar"],size:"728x90",group:"high"},s.adUnits.placements=s.adUnits.placements.filter(function(c){var l=u.productMap[c.zoneid];if(l){var y=n.filter(function(w){return l.products.indexOf(w)>-1});return y.length>0&&l.group===r}return!1});for(var i=0;i<s.adUnits.placements.length;i++)s.adUnits.placements[i].publishersubid=s.ipid.toString();return s}return re(t,[{key:"load",value:function(n,p){var s=this;p.appendScript(this.scriptUrl,function(){s.FAST_BID_ENABLED&&localStorage.getItem("criteo_fast_bid_standalone"),s.criteo=n.Criteo,s.status="loaded",s.criteo.events.push(function(){s.criteo.SetLineItemRanges("0..30:0.01"),s.criteo.RequestBids(s.adUnits,s.bidCallback.bind(s),s.bidTimeoutMs)})})}},{key:"bidCallback",value:function(n){for(var p=this,s=0;s<(n||[]).length;s++){var u=n[s],i=p.productMap[u.zoneId];if(i)for(var c=0;c<(i.products||[]).length;c++){var l=this.formatBid(this.getName(),u.id,u.zoneId,i.products[c],u.width,u.height,u.displayUrl,u.cpm);p.bids.push(l)}}this.status="completed"}}]),t}(St);function or(E){var e=ar();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function ar(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var sr=function(E){oe(t,E);var e=or(t);function t(r){var n;return te(this,t),n=e.call(this),n.supportedProducts=r,n.name="freewheel",n}return re(t,[{key:"load",value:function(){this.bidCallback([])}},{key:"bidCallback",value:function(n){this.bids=[],this.status="completed";for(var p=0;p<n.length;p++){var s=n[p],u=this.formatBid(this.getName(),s.id,s.zoneId,s.product,s.width,s.height,s.url,s.cpm);this.bids.push(u)}}}]),t}(St),cr=function(e,t,r,n,p){var s=e.getArray("partner.exAdProviders",[]),u=e.get("headerBidders",[]),i=1e3,c=10,l=[],y,w={},A=e.getArray("partner.products",[]),h=null,d=L(u,s);function g(H){m(H);for(var M in n)n.hasOwnProperty(M)&&(w[n[M]]=parseInt(M,10),n[M]==="adhesion"&&(w.daw=parseInt(M,10)));var O=a();f(),d.map(function(_){R(_,O,e.ipid)})}function m(H){h=H}function f(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now();y=H}function a(){return A}var o={daw:!0};function v(H){l=l.filter(function(M){return M.getName()!==H})}function b(H){return l.find(function(M){return M.name===H})}function I(H,M){var O=b(H);O&&(O.bids=O.getBids().filter(function(_){return _.product!==M}))}function T(H,M){var O=b(H);if(O){for(var _=0;_<O.bids.length;_++)if(O.bids[_].zoneId===M){var x=O.bids[_];x.impressions++,p.info("HeaderBid Impression:  Bidder"+x.bidderName+" Product:"+x.product+" Width:"+x.width+" Height:"+x.height+" ZoneId: "+x.zoneId+" Impressions: "+x.impressions+" ImpressionCap: "+x.impressionCap);break}}}var C=ue(function(H){var M=[];p.info("HEADER BIDDERS");var O=0;if(ye(H,function(x,U){x&&x.length&&(p.info("PRODUCT "+U+":"),x.forEach(function(F){M.push({bidderName:F.bidderName,product:n[F.product],width:F.width,height:F.height,cpm:F.cpm}),p.info(F.bidderName+"  "+F.zoneId+" "+n[F.product]+" "+F.width+"x"+F.height+" "+F.cpm),O++}))}),O>0)h.headerBid(M);else if(l.length){var _=l.reduce(function(x,U){return x+U.name+" "},"");p.warn("** No bids for "+_)}else p.info("No header bidders enabled");l.forEach(function(x){(!x.bids||!x.bids.length)&&h.noHeaderBid(x.name)}),p.info("END HEADER BIDDERS")});function k(H){function M(){var O=!l.some(function(W){return W.status!=="completed"}),_=Date.now()-y>i;if(O||_){D(l);var x={};l.forEach(function(W){if(W.getStatus()==="completed"){var z=W.getBids();z.forEach(function(j){if(x[j.product]||(x[j.product]=[]),j){var q={bidderName:W.name,product:w[j.product],cpm:j.cpm,height:j.height,width:j.width,zoneId:j.zoneId};x[j.product].push(q)}})}});var U=a(),F=[];return["intext","inview","instory"].forEach(function(W){U.indexOf(W)>-1&&(F=F.concat(x[W]||[]))}),x.intext=F,delete x.inview,delete x.instory,C(x),H(null,x)}else setTimeout(M,c)}M()}function N(H,M){var O,_=b(H);if(_&&_.getStatus()==="completed"){var x=_.getBidByZoneId(M);if(x)if(x.impressions>=x.impressionCap)for(var U=_.getBids()||[],F=0;F<U.length;F++){var W=U[F];if(W.zoneId!==x.zoneId&&W.product===x.product&&W.width===x.width&&W.height===x.height&&W.impressions<W.impressionCap){O=W;break}}else O=x}return O}function S(){return l}function R(H,M,O){var _=H.name,x;switch(_){case"criteo":x=new ir(H.group,M,O);break;case"freewheel":x=new sr(M);break;default:x=H;break}x&&(x.load(window,t),l.push(x))}function L(H,M){var O=[];return H.forEach(function(_){M.indexOf(_.id)===-1&&O.push(_)}),O}function D(H){var M=e.get("headerBids",null);M&&H.forEach(function(O){O.bids=M.filter(function(_){return O.getName()===_.bidderName})})}return r.on(It,function(H){var M=H.data.product,O=H.data.bidder,_=H.data.zoneId;o[M]&&I(O,M),T(O,_)}),{init:g,setLogModule:m,setStartTime:f,getBiddersByProduct:k,getBid:N,removeBidder:v,removeBidderProduct:I,bidImpression:T,getActiveBidders:S,createBidder:R,findActiveBidderByName:b,getAvailableBidders:L,getSupportedProducts:a}};function Ot(E,e,t,r,n,p,s){try{var u=E[p](s),i=u.value}catch(c){t(c);return}u.done?e(i):Promise.resolve(i).then(r,n)}function he(E){return function(){var e=this,t=arguments;return new Promise(function(r,n){var p=E.apply(e,t);function s(i){Ot(p,r,n,s,u,"next",i)}function u(i){Ot(p,r,n,s,u,"throw",i)}s(void 0)})}}function lr(E){if(Array.isArray(E))return E}function ur(E,e){var t=E==null?null:typeof Symbol!="undefined"&&E[Symbol.iterator]||E["@@iterator"];if(t!=null){var r=[],n=!0,p=!1,s,u;try{for(t=t.call(E);!(n=(s=t.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(i){p=!0,u=i}finally{try{!n&&t.return!=null&&t.return()}finally{if(p)throw u}}return r}}function dr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xe(E,e){return lr(E)||ur(E,e)||vt(E,e)||dr()}var Nt={exports:{}};(function(E){var e=function(t){var r=Object.prototype,n=r.hasOwnProperty,p,s=typeof Symbol=="function"?Symbol:{},u=s.iterator||"@@iterator",i=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function l(O,_,x){return Object.defineProperty(O,_,{value:x,enumerable:!0,configurable:!0,writable:!0}),O[_]}try{l({},"")}catch(O){l=function(_,x,U){return _[x]=U}}function y(O,_,x,U){var F=_&&_.prototype instanceof f?_:f,W=Object.create(F.prototype),z=new D(U||[]);return W._invoke=N(O,x,z),W}t.wrap=y;function w(O,_,x){try{return{type:"normal",arg:O.call(_,x)}}catch(U){return{type:"throw",arg:U}}}var A="suspendedStart",h="suspendedYield",d="executing",g="completed",m={};function f(){}function a(){}function o(){}var v={};l(v,u,function(){return this});var b=Object.getPrototypeOf,I=b&&b(b(H([])));I&&I!==r&&n.call(I,u)&&(v=I);var T=o.prototype=f.prototype=Object.create(v);a.prototype=o,l(T,"constructor",o),l(o,"constructor",a),a.displayName=l(o,c,"GeneratorFunction");function C(O){["next","throw","return"].forEach(function(_){l(O,_,function(x){return this._invoke(_,x)})})}t.isGeneratorFunction=function(O){var _=typeof O=="function"&&O.constructor;return _?_===a||(_.displayName||_.name)==="GeneratorFunction":!1},t.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,o):(O.__proto__=o,l(O,c,"GeneratorFunction")),O.prototype=Object.create(T),O},t.awrap=function(O){return{__await:O}};function k(O,_){function x(W,z,j,q){var X=w(O[W],O,z);if(X.type==="throw")q(X.arg);else{var ge=X.arg,me=ge.value;return me&&typeof me=="object"&&n.call(me,"__await")?_.resolve(me.__await).then(function(fe){x("next",fe,j,q)},function(fe){x("throw",fe,j,q)}):_.resolve(me).then(function(fe){ge.value=fe,j(ge)},function(fe){return x("throw",fe,j,q)})}}var U;function F(W,z){function j(){return new _(function(q,X){x(W,z,q,X)})}return U=U?U.then(j,j):j()}this._invoke=F}C(k.prototype),l(k.prototype,i,function(){return this}),t.AsyncIterator=k,t.async=function(O,_,x,U,F){F===void 0&&(F=Promise);var W=new k(y(O,_,x,U),F);return t.isGeneratorFunction(_)?W:W.next().then(function(z){return z.done?z.value:W.next()})};function N(O,_,x){var U=A;return function(W,z){if(U===d)throw new Error("Generator is already running");if(U===g){if(W==="throw")throw z;return M()}for(x.method=W,x.arg=z;;){var j=x.delegate;if(j){var q=S(j,x);if(q){if(q===m)continue;return q}}if(x.method==="next")x.sent=x._sent=x.arg;else if(x.method==="throw"){if(U===A)throw U=g,x.arg;x.dispatchException(x.arg)}else x.method==="return"&&x.abrupt("return",x.arg);U=d;var X=w(O,_,x);if(X.type==="normal"){if(U=x.done?g:h,X.arg===m)continue;return{value:X.arg,done:x.done}}else X.type==="throw"&&(U=g,x.method="throw",x.arg=X.arg)}}}function S(O,_){var x=O.iterator[_.method];if(x===p){if(_.delegate=null,_.method==="throw"){if(O.iterator.return&&(_.method="return",_.arg=p,S(O,_),_.method==="throw"))return m;_.method="throw",_.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var U=w(x,O.iterator,_.arg);if(U.type==="throw")return _.method="throw",_.arg=U.arg,_.delegate=null,m;var F=U.arg;if(!F)return _.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,m;if(F.done)_[O.resultName]=F.value,_.next=O.nextLoc,_.method!=="return"&&(_.method="next",_.arg=p);else return F;return _.delegate=null,m}C(T),l(T,c,"Generator"),l(T,u,function(){return this}),l(T,"toString",function(){return"[object Generator]"});function R(O){var _={tryLoc:O[0]};1 in O&&(_.catchLoc=O[1]),2 in O&&(_.finallyLoc=O[2],_.afterLoc=O[3]),this.tryEntries.push(_)}function L(O){var _=O.completion||{};_.type="normal",delete _.arg,O.completion=_}function D(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(R,this),this.reset(!0)}t.keys=function(O){var _=[];for(var x in O)_.push(x);return _.reverse(),function U(){for(;_.length;){var F=_.pop();if(F in O)return U.value=F,U.done=!1,U}return U.done=!0,U}};function H(O){if(O){var _=O[u];if(_)return _.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var x=-1,U=function F(){for(;++x<O.length;)if(n.call(O,x))return F.value=O[x],F.done=!1,F;return F.value=p,F.done=!0,F};return U.next=U}}return{next:M}}t.values=H;function M(){return{value:p,done:!0}}return D.prototype={constructor:D,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(L),!O)for(var _ in this)_.charAt(0)==="t"&&n.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=p)},stop:function(){this.done=!0;var O=this.tryEntries[0],_=O.completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var _=this;function x(q,X){return W.type="throw",W.arg=O,_.next=q,X&&(_.method="next",_.arg=p),!!X}for(var U=this.tryEntries.length-1;U>=0;--U){var F=this.tryEntries[U],W=F.completion;if(F.tryLoc==="root")return x("end");if(F.tryLoc<=this.prev){var z=n.call(F,"catchLoc"),j=n.call(F,"finallyLoc");if(z&&j){if(this.prev<F.catchLoc)return x(F.catchLoc,!0);if(this.prev<F.finallyLoc)return x(F.finallyLoc)}else if(z){if(this.prev<F.catchLoc)return x(F.catchLoc,!0)}else if(j){if(this.prev<F.finallyLoc)return x(F.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(O,_){for(var x=this.tryEntries.length-1;x>=0;--x){var U=this.tryEntries[x];if(U.tryLoc<=this.prev&&n.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var F=U;break}}F&&(O==="break"||O==="continue")&&F.tryLoc<=_&&_<=F.finallyLoc&&(F=null);var W=F?F.completion:{};return W.type=O,W.arg=_,F?(this.method="next",this.next=F.finallyLoc,m):this.complete(W)},complete:function(O,_){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&_&&(this.next=_),m},finish:function(O){for(var _=this.tryEntries.length-1;_>=0;--_){var x=this.tryEntries[_];if(x.finallyLoc===O)return this.complete(x.completion,x.afterLoc),L(x),m}},catch:function(O){for(var _=this.tryEntries.length-1;_>=0;--_){var x=this.tryEntries[_];if(x.tryLoc===O){var U=x.completion;if(U.type==="throw"){var F=U.arg;L(x)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(O,_,x){return this.delegate={iterator:H(O),resultName:_,nextLoc:x},this.method==="next"&&(this.arg=p),m}},t}(E.exports);try{regeneratorRuntime=e}catch(t){typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Nt);var J=Nt.exports;function _t(E,e){var t=Object.keys(E);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(E);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(E,n).enumerable})),t.push.apply(t,r)}return t}function fr(E){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_t(Object(t),!0).forEach(function(r){be(E,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach(function(r){Object.defineProperty(E,r,Object.getOwnPropertyDescriptor(t,r))})}return E}var vr=function(e,t){var r=function(c,l){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w="https://".concat(e.apiHost).concat(c),A=new URLSearchParams,h=l&&Ae(l)==="object";if(h)for(var d=0,g=Object.entries(l);d<g.length;d++){var m=xe(g[d],2),f=m[0],a=m[1];A.append(f,a)}var o={method:"GET"};return y&&(o.credentials="include"),fetch(h?"".concat(w,"?").concat(A.toString()):w,o).then(function(v){return v.json()})},n=function(c,l){var y="https://".concat(e.apiHost).concat(c);return fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(function(w){return w.json()})},p=function(){var i=he(J.mark(function c(l){var y,w,A,h=arguments;return J.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(y=h.length>1&&h[1]!==void 0?h[1]:{},w=l.map(function(m){return{id:m.getId(),text:m.getTextContent()}}),w.length!==0){g.next=5;break}return t.trace("No new nodes to contextualise"),g.abrupt("return",null);case 5:return A=fr({ipid:e.ipid,pvu:e.pvu,urlHash:e.urlHash,nodes:w},y),g.next=8,n("/context",A);case 8:return g.abrupt("return",g.sent);case 9:case"end":return g.stop()}},c)}));return function(l){return i.apply(this,arguments)}}(),s=function(){var i=he(J.mark(function c(l,y){return J.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",r(l,y));case 1:case"end":return A.stop()}},c)}));return function(l,y){return i.apply(this,arguments)}}(),u=function(){var i=he(J.mark(function c(l){var y;return J.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return y={ipid:e.ipid,contextKey:l,pvu:e.pvu},A.abrupt("return",r("/context",y));case 2:case"end":return A.stop()}},c)}));return function(l){return i.apply(this,arguments)}}();return{get:r,post:n,contextualise:p,logContext:u,log:s}},pr=function(e,t,r,n,p){var s="/log",u="https://"+e.apiHost+s,i={},c=e.get("articleHash",e.get("urlHash","")),l={ipid:e.ipid,urlHash:e.urlHash,pvu:e.pvu,postcode:e.geo&&e.geo.pc||"",contextKey:c},y={hookLoad:"/hl/{{ipid}}/{{product}}/{{hookIds}}/{{urlHash}}/{{pvu}}",hookFailure:"/hf/{{ipid}}/{{product}}/{{hookId}}/{{reason}}/{{urlHash}}/{{pvu}}",hookReplacement:"/hr/{{ipid}}/{{product}}/{{oldHookId}}/{{newHookId}}/{{oldAdProviderId}}/{{newAdProviderId}}/{{reason}}/{{pvu}}",adImpression:"/ai/{{ipid}}/{{product}}/{{hookId}}/{{source}}/{{urlHash}}/{{pvu}}/{{setId}}",clickThrough:"/ck/{{ipid}}/{{product}}/{{hookId}}/{{source}}/{{urlHash}}/{{pvu}}?url={{clickUrl}}",adChoiceClick:"/ac/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}",adClose:"/cl/{{ipid}}/{{product}}/{{hookId}}/{{source}}/{{urlHash}}/{{pvu}}",firstHook:"/mt/tfh/{{timestamp}}/{{ipid}}",auditError:"/adt/{{urlHash}}/{{ipid}}/{{pvu}}/{{timestamp}}/I/{{message}}",pageTracking:"/ptr/{{urlHash}}/{{ipid}}/{{pvu}}/{{referrer}}",videoEvent:"/ve/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{event}}/{{position}}/{{duration}}/{{videoId}}/{{creativeId}}",cpeInteraction:"/cpei/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{event}}/{{element}}/{{creativeId}}",cpeClickThrough:"/cpeck/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{element}}/{{creativeId}}?url={{clickUrl}}",cpeClose:"/cpec/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{dwell}}/{{creativeId}}",engagement:"/eng/{{ipid}}/{{product}}/{{hookId}}/{{source}}/{{urlHash}}/{{pvu}}/{{creativeId}}",progressBar:"/prg/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{event}}/{{creativeId}}",headerBid:"/hdrb/{{ipid}}/{{pvu}}/{{geo}}?bids={{bids}}",noHeaderBid:"/nohdrb/{{ipid}}/{{pvu}}/{{geo}}/{{platform}}/{{bidderName}}",behaviour:"/beh/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{setId}}/{{contextKey}}"},w=["clickThrough","cpeClickThrough","auditError","headerBid","adImpression","videoEvent","cpeInteraction","engagement"],A={};function h(a,o,v){var b=(v?s:u)+a;return ce(b,K({},l,o))}function d(a){return function(o){var v=y[a],b=h(v,o);t.dropImage(b),f(a,o.product)}}for(var g in y)y.hasOwnProperty(g)&&!w.includes(g)&&(A[g]=d(g));function m(a,o){a.setId||(a.setId=i[a.hookId]?i[a.hookId].setId:0);var v=h(y.behaviour,a,!0),b={action:encodeURIComponent(o)};r.log(v,null,b)}function f(a,o){p.info("Log Event: "+a+":"+o)}return A.adImpression=function(a){var o="Ad View";m(a,o);var v=h(y.adImpression,a);t.dropImage(v),i[a.hookId]||(i[a.hookId]=a),f("adImpression",a.product)},A.clickThrough=function(a,o){var v="Click",b;m(a,v),a.clickUrl&&a.clickUrl.length&&!o?(a.clickUrl=ce(a.clickUrl,K({},l,a)),b=h(y.clickThrough,a),t.openUrl(b)):(delete a.clickUrl,b=h(y.clickThrough,a),t.dropImage(b)),f("clickThrough",a.product)},A.cpeClickThrough=function(a){var o="Click";a.clickUrl=ce(a.clickUrl,K({},l,a)),m(a,o),t.openUrl(h(y.cpeClickThrough,a)),f("cpeClickThrough",a.product)},A.cpeInteraction=function(a){var o="Interaction";m(a,o);var v=h(y.cpeInteraction,a);t.dropImage(v),f("cpeInteraction",a.product)},A.engagement=function(a){var o="Engagement";m(a,o);var v=h(y.engagement,a);t.dropImage(v),f("engagement",a.product)},A.videoEvent=function(a){var o=h(y.videoEvent,a);t.dropImage(o),f("videoEvent",a.product+":"+a.event)},A.headerBid=function(a){var o=e.geo&&e.geo.cc||"",v=JSON.stringify(a||{}),b=K({},l,{bids:v,geo:o}),I=h(y.headerBid,b);t.dropImage(I)},A.noHeaderBid=function(a){var o=e.geo&&e.geo.cc||"",v=e.platform,b=K({},l,{bidderName:a,geo:o,platform:v}),I=h(y.noHeaderBid,b);t.dropImage(I)},A.auditError=function(a){if(!!a.message)return a.timestamp=a.timestamp||+new Date,t.dropImage(h(y.auditError,a)),f("auditError",a.product),new Error(a.message)},A.getUrl=function(o,v){if(!!y[o])return v.clickUrl&&(v.clickUrl=ce(v.clickUrl,K({},l,v))),h(y[o],v)},n.on(Xe,function(a){c=a.data.contextKey}),A.getParamsByHookId=function(a){if(a)return i[a]},A},Je={TERM_NOT_FOUND:100,OVERLAPPING_TERM:101,OVERRIDE:102},ne={LOAD:100,MOUSE_OVER:200,SCROLL:300},le={AD:100,HOOK:200},Z={AD:100,AUTO:200,FORCE:300},hr=function(e,t,r,n,p){var s=/\:(\w+)/g;e.syncDetails&&ye(e.syncDetails,function(y){y.url=y.url.replace(s,"{{$1}}")});var u="https://"+e.cookieSyncHost+"/csync/{{provider}}/",i=e.get("readConsentLocation","");function c(){typeof e.userId!="undefined"&&(!p.cookiesAllowed()||ye(e.syncDetails,function(y,w){var A=ce(u,{provider:w}),h=y.secureUrl||y.url;A+=y.userIdPlaceholder;var d=ce(h,{userId:e.userId,redirect:A});switch(y.type){case"image":t.dropImage(d);break;case"iframe":t.appendIFrame(d);break;default:throw r.auditError({message:"[CookieSync] Unknown cookie sync type for "+w+": "+y.type})}}))}function l(){var y=e.get("consent",{});if(!!y.gdprApplies){window.addEventListener("message",function(h){var d=h.data.vmReadConsent;d&&d.consentStr&&n.post("/csync",{consentStr:d.consentStr}).then(function(g){g&&g.consentData&&p.updateConsent(g.consentData)})});var w=i!==null&&e.getBoolean("partner.syncconsent",!0);if(w){var A=document.createElement("iframe");A.setAttribute("style","width:1px;height:1px;position:absolute;left:-99px;top:-99px;"),A.setAttribute("src",i),document.body&&document.body.appendChild(A)}}}return{sync:c,syncConsent:l}};function Pt(E,e){var t=Object.keys(E);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(E);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(E,n).enumerable})),t.push.apply(t,r)}return t}function Ue(E){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pt(Object(t),!0).forEach(function(r){be(E,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(t)):Pt(Object(t)).forEach(function(r){Object.defineProperty(E,r,Object.getOwnPropertyDescriptor(t,r))})}return E}var gr=Object.values(Ve),mr=2e3,yr=function(e,t,r,n,p,s){var u=r.getBoolean("partner.norepetitive",!1),i=r.get("articleHash",r.get("urlHash")),c={},l={},y=function(f,a,o){c[f]=a,l[f]=o},w=function(f,a){t.fire(mt,{product:f,ads:a})},A=function(){var m=he(J.mark(function f(a,o){var v,b,I;return J.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,new Promise(function(k,N){p.getBiddersByProduct(function(S,R){S?N(S):k(R)})});case 2:return v=C.sent,b=K({ipid:r.ipid,pvu:r.pvu,kw:s.getUsedKeywords().join(","),audiences:"",referer:r.referer},o),ye(a,function(k,N){ye(k,function(S,R){b[N+"."+R]=S,b[N+".sets"]=u?s.getUsedSets(N).join(","):"";var L=v[N]||[];b[N+".bidders"]=encodeURIComponent(JSON.stringify(L))})}),C.next=7,e.get("/ad",b,!0);case 7:if(I=C.sent,!(I!=null&&I.success)){C.next=12;break}return C.abrupt("return",I);case 12:throw new Error(I);case 13:case"end":return C.stop()}},f)}));return function(a,o){return m.apply(this,arguments)}}(),h=function(){var m=he(J.mark(function f(a,o){var v,b,I,T,C,k,N,S,R,L,D,H,M,O,_,x,U,F;return J.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(v=a.textNodeId,b=v,I=["intext","inview"],T=!1,C=a.getAdConfig(),k=C?C.product:"",N=C&&C.term?[C.term.keyword]:[],I.indexOf(k)!==-1){z.next=9;break}return z.abrupt("return",o());case 9:if(k!=="inview"){z.next=19;break}if(S=a.domNode?n.findParentParagraph(a.domNode):null,S){z.next=13;break}return z.abrupt("return",o());case 13:if(R=n.getTextNodeBounds(S),L=R.getWidth(),D=Math.floor(L),D){z.next=18;break}return z.abrupt("return",o());case 18:b+=":"+D+":inview";case 19:return H={contextKey:i,keywordOverrideList:N.join(),liveLookup:!0},M={intext:{ids:[b],count:1,internal:!0,autoreveal:!1}},setTimeout(function(){T||(T=!0,o())},mr),z.prev=22,z.next=25,A(M,H);case 25:if(O=z.sent,T){z.next=39;break}T=!0,x=Object.keys(O),F=0;case 30:if(!(F<x.length)){z.next=37;break}if(gr.indexOf(x[F])===-1){z.next=34;break}return U=O[x[F]],z.abrupt("break",37);case 34:F++,z.next=30;break;case 37:U&&U[v]&&U[v].length&&(w(k,U),_=K({},U[v][0],{product:k})),o(_);case 39:z.next=44;break;case 41:z.prev=41,z.t0=z.catch(22),T||(T=!0,o());case 44:case"end":return z.stop()}},f,null,[[22,41]])}));return function(a,o){return m.apply(this,arguments)}}(),d=function(){var m=he(J.mark(function f(){var a,o,v,b,I,T=arguments;return J.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(a=T.length>0&&T[0]!==void 0?T[0]:{},o=!!Object.keys(c).length,o){k.next=5;break}return console.warn("No requests to flush."),k.abrupt("return");case 5:return v=Ue({},l),b=Ue({},c),c={},l={},k.prev=9,k.next=12,A(b,Ue(Ue({},a),{},{liveLookup:!1}));case 12:I=k.sent,Object.entries(v).forEach(function(N){var S=xe(N,2),R=S[0],L=S[1],D=I[R];w(R,D),L(D)}),k.next=19;break;case 16:k.prev=16,k.t0=k.catch(9),console.error("flush",k.t0);case 19:case"end":return k.stop()}},f,null,[[9,16]])}));return function(){return m.apply(this,arguments)}}(),g=function(){var m=he(J.mark(function f(){return J.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",d({contextKey:i}));case 1:case"end":return o.stop()}},f)}));return function(){return m.apply(this,arguments)}}();return t.on(Xe,function(f){i=f.data.contextKey}),{request:y,flush:d,forceFlush:g,getAdForHook:h}},Fe=1,Ge=0,wr=1,Ar=2,Er=3,br=function(e){var t=Ge;return{set:function(n){t=parseInt(n,10)},isAllowed:function(n){switch(t){case Ge:case Er:return!0;case wr:return!1;case Ar:return n!==Fe;default:throw new e.auditError({message:"Unknown PubX action "+t})}}}},kr=2,Tr=function(e,t,r){return{contextualise:function(){var n=he(J.mark(function s(u,i){var c,l,y,w;return J.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(c=t.partner.dynamic&&t.partner.dynamic.forceclear,l=c||!t.nodes||Math.abs(u.length-t.nodes.length)>kr,y=function(g){var m=g&&g.behaviours?g.behaviours:[];r.fire(Jt,{behaviours:m})},typeof i=="function"&&(callback=i,i={}),l||(l=Array.from(t.nodes).some(function(d,g){return u[g]?u[g].getId()!==d:!0})),!l){h.next=19;break}return h.prev=6,h.next=9,e.contextualise(u,i);case 9:return w=h.sent,y(w),h.abrupt("return",w);case 14:h.prev=14,h.t0=h.catch(6),console.error(h.t0);case 17:h.next=21;break;case 19:return e.logContext(t.get("articleHash",t.get("urlHash"))).then(function(d){y(d)}),h.abrupt("return",{articleHash:t.get("articleHash",null),pubXReached:!!t.pubXReached});case 21:case"end":return h.stop()}},s,null,[[6,14]])}));function p(s,u){return n.apply(this,arguments)}return p}()}},Cr=function(e,t,r,n){var p="__default_VM_jsonp__",s="__default_VM_scripts__",u=e[t],i={image:"image",script:"script",iframe:"iframe"},c=0,l={},y={};y[s]={};function w(f){var a=f.scope,o=f.id,v,b;return a?(l[a]=l[a]||{},y[a]=y[a]||{},u[a]=l[a],v=u[a]):(a=p,l[a]=l[a]||{},y[a]=y[a]||{},v=e,o=o||"vib_"+c++),b=ce(f.url,{callbackId:o,callbackScope:a,id:o}),l[a][o]||(l[a][o]=ue(function(I){v[o]=void 0,l[a][o]=void 0,y[a][o].fire("data",I),y[a][o]=void 0}),v[o]=l[a][o],y[a][o]=new n.Observable,r.appendDisposableScript(b)),y[a][o]}function A(f){return y[s][f]||(y[s][f]=new n.Observable,setTimeout(function(){r.appendScript(f+"",function(){y[s][f].fire("load"),y[s][f]=void 0})},1)),y[s][f]}function h(f,a){var o=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),v,b,I;if(!f.url)throw new Error("[Net] No URL was specified");f.async=f.async!==!1,f.method=f.method||"POST",v=ue(function(){a(null,JSON.parse(o.responseText))}),b=ue(function(){a(new Error("[Net] There was an error sending the request"))}),I=ue(function(){a(new Error("[Net] Request timed out"))});function T(){if(f.headers)for(var C in f.headers)f.headers.hasOwnProperty(C)&&o.setRequestHeader(C,f.headers[C]);f.method==="POST"&&o.setRequestHeader("Content-Type","application/json"),o.withCredentials=!0}try{try{n.bind(o,"load",v),n.bind(o,"error",b),n.bind(o,"timeout",I),o.open(f.method,f.url,f.async),T()}catch(C){e.XDomainRequest?(o=new XDomainRequest,o.onprogress=function(){},o.onload=onload,o.onerror=b,o.open(f.method,f.url,f.async),T()):a(new Error("[Net] CORS not supported: "+C))}f.data?o.send(JSON.stringify(f.data)):o.send()}catch(C){a(new Error("[Net] Unable to perform XHR: "+C))}return o.onreadystatechange=function(){o.readyState===4&&o.status>=200&&o.status<300?v():o.status>=400&&b()},o}function d(f,a,o,v){var b;if(!i[o])throw new Error("[Net] Wrong method was used to notify: "+o);return o==="iframe"?b=r.appendIFrame(ce(f,a||{}),null,v):o==="script"?b=r.appendScript(ce(f,a||{}),null,v):b=r.dropImage(ce(f,a||{}),v),b.style.display="none",b.style.visibility="hidden",b.style.width="1px",b.style.height="1px",b.width=1,b.height=1,b}function g(f,a){return r.openUrl(ce(f,a||{}))}function m(f,a){return ce(f,a||{})}return{jsonp:w,loadScript:A,xhr:h,notify:d,openUrl:g,compileUrl:m}},Ir=function(e,t,r,n,p){var s={image:"image",script:"script",iframe:"iframe"},u=function(){try{return encodeURIComponent(window.top.location.hostname||window.location.hostname)}catch(y){return encodeURIComponent(window.location.hostname)}}(),i={ipid:e.ipid,urlHash:e.urlHash,pvu:e.pvu,postcode:e.geo&&e.geo.pc||"",sitename:u||"",pubId:e.pubId,siteId:e.ibid},c=function(w){var A=w.getAd?w.getAd().creative.diyValues:!1;Be(A)&&A.hasOwnProperty("bidder")&&w.on("impression",function(){n.fire(It,{bidder:A.bidder,zoneId:A.zoneId,product:w.product})})},l=function(w,A,h){c(w),!(!A||A.length===0)&&(!p.trackingAllowed()||A.forEach(function(d){var g=s[d.trackerType],m=K({timestamp:+new Date},i,d.params||{},h||{});if(g)w.on(d.onEvent,function(){t.notify(d.actionUrl,m,g,w.companion||w.outerBox)});else throw r.auditError({message:"[Tracking] Unrecognised tracker type: "+d.trackerType})}))};return{track:l}},Sr=function(e,t,r,n){function p(u){var i=r.get("partner."+u+".runcheck",null),c,l;if(i===null)return!1;switch(c=i.get("type"),l=i.get("value"),c){case"css":return t.querySelector(l)!==null;case"var":return e.hasOwnProperty(l);default:throw n.auditError({message:"[Waterfall] Unknown run check type: "+c})}}function s(u){if(Be(e.VMNoAds)&&typeof e.VMNoAds[u]=="function")try{n.auditError({message:"[Waterfall] Failed loading product: "+u}),e.VMNoAds[u]()}catch(i){}}return{isBlocked:p,notifyFailure:s}},Or=function(e,t,r){var n=["http://images.intellitxt.com","https://images.intellitxt.com","http://mymachine.intellitxt.com","https://mymachine.intellitxt.com","http://localhost","*"];function p(c){switch(c.cmdType){case"LOG":s(c.cmd,c.hookId,c.params);break;case"TRIGGER":u(c.cmd);break}}function s(c,l,y){var w=t.getParamsByHookId(l);if(w){var A=K({},y,w||{});switch(c){case"CLICK_THROUGH":t.clickThrough(A);break}}else r.error("processLogCommand: No registered params for this hookId")}function u(c){c==="VM_TRIGGER"?e.fire(bt):r.error("processTriggerCommand: Invalid cmd")}function i(c){if(n.indexOf(c.origin)!==-1||n.indexOf("*")!==-1){var l;try{l=JSON.parse(c.data),l&&p(l)}catch(y){r.trace("Could not rebuild message: "+c.data)}}}return window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent&&window.attachEvent("onmessage",i),{}};function Nr(E,e){var t=typeof Symbol!="undefined"&&E[Symbol.iterator]||E["@@iterator"];if(!t){if(Array.isArray(E)||(t=_r(E))||e&&E&&typeof E.length=="number"){t&&(E=t);var r=0,n=function(){};return{s:n,n:function(){return r>=E.length?{done:!0}:{done:!1,value:E[r++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,s=!1,u;return{s:function(){t=t.call(E)},n:function(){var c=t.next();return p=c.done,c},e:function(c){s=!0,u=c},f:function(){try{!p&&t.return!=null&&t.return()}finally{if(s)throw u}}}}function _r(E,e){if(!!E){if(typeof E=="string")return Rt(E,e);var t=Object.prototype.toString.call(E).slice(8,-1);if(t==="Object"&&E.constructor&&(t=E.constructor.name),t==="Map"||t==="Set")return Array.from(E);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rt(E,e)}}function Rt(E,e){(e==null||e>E.length)&&(e=E.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=E[t];return r}var $e="BODY",Pr=re(function E(e,t,r,n,p,s,u){var i=this;te(this,E),be(this,"contextualise",function(){var c=he(J.mark(function l(y){var w,A;return J.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(w={primary:y.primary},w.primary&&i.config.get("articleHash",!1)?w.articleHash=i.config.get("articleHash"):y.hasOwnProperty("articleId")&&(w.articleId=y.articleId),A=function(){var g=he(J.mark(function m(){var f,a,o;return J.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return f=i.textNode.findTextNodes(y.textNodes),a=i.GALLERY?i.image.findImages(y.imageNodes).filter(function(I){return!i.dom.parentHasSelector(I.image,i.GALLERY)}):i.image.findImages(y.imageNodes),f.length&&(i.articles[y.articleId]=!0),b.next=5,i.page.contextualise(f,w);case 5:if(o=b.sent,!o){b.next=12;break}return i.app.fire(gt,{pubXReached:o.pubXReached}),i.app.fire(ht,{pubXReached:o.pubXReached}),i.app.fire(Ze,{textNodes:f,images:a}),o.articleHash&&i.app.fire(Xe,{contextKey:o.articleHash}),b.abrupt("return",o.articleHash);case 12:case"end":return b.stop()}},m)}));return function(){return g.apply(this,arguments)}}(),!i.CONTEXT_DELAY_TIMEOUT_MS){d.next=9;break}return d.next=6,new Promise(function(g,m){setTimeout(function(){A.then(function(f){f?g(f):m()})},i.CONTEXT_DELAY_TIMEOUT_MS)});case 6:return d.abrupt("return",d.sent);case 9:return d.next=11,A();case 11:return d.abrupt("return",d.sent);case 12:case"end":return d.stop()}},l)}));return function(l){return c.apply(this,arguments)}}()),be(this,"dynamicStrategy",function(c,l){var y=function(){var g=ve(function(){l(),i.dom.onScroll(g)},c.interval);i.dom.onScroll(g)},w=function(){Qe(l,null,c.interval)},A=function(){var g=ve(function(){l(),i.dom.onClick(g)},c.interval);i.dom.onClick(g)},h={debounce:y,polling:w,click:A};h[c.type](),l()}),be(this,"parseNewContent",function(){var c=he(J.mark(function l(y,w,A){var h,d,g;return J.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(h=A.innerText||y.getAttribute(A),d=i.config.partner.dynamic&&i.config.partner.dynamic.forceclear,!(d||!i.articles.hasOwnProperty(h))){f.next=10;break}return i.firstArticle=!1,f.next=6,i.contextualise({textNodes:y.childNodes,imageNodes:y.childNodes,articleId:h,primary:i.firstArticle});case 6:g=f.sent,w.contextKey=g||i.config.get("articleHash",i.config.get("urlHash")),i.app.fire(ke),i.adFetcher.flush(w);case 10:case"end":return f.stop()}},l)}));return function(l,y,w){return c.apply(this,arguments)}}()),be(this,"standardPage",he(J.mark(function c(){var l,y,w,A;return J.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l=i.config.get("partner.intext.selectors",null),y=i.config.get("partner.image.selectors",$e),w={},l||(i.debugLog.error("partner.intext.selectors not found, using default of "+$e),l=$e),d.next=6,i.contextualise({textNodes:l,imageNodes:y,primary:!0});case 6:w.contextKey=i.config.get("urlHash"),i.app.fire(ke),i.adFetcher.flush(w),A=i,i.dom.onScroll(function g(){A.app.fire(pe),A.adFetcher.flush(w),A.dom.onScroll(g)});case 11:case"end":return d.stop()}},c)}))),be(this,"run",function(){var c=he(J.mark(function l(y){var w,A,h,d,g,m,f;return J.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(w={},A={type:"debounce",interval:200},h=i.config.getJSON("partner.dynamic",{}),i.app=y,h.get("selector",!1)){o.next=9;break}return o.next=7,i.standardPage();case 7:o.next=16;break;case 9:d=h.get("selector.css"),g=h.get("selector.identifier",!1),i.config.get("partner.intext",!1)&&(i.config.partner.intext.selectors=d),m="strategy."+i.PLATFORM_TYPE,f=h.getJSON(m,A),h.forceclear?(i.debugLog.trace("Performing forceclear dynamic contextualisation"),f.type&&f.type!=="click"&&i.debugLog.warn("forceclear is set, but dynamic selector type was set to "+f.type+'. This has been overridden with "click".'),f.type="click"):i.debugLog.trace("Performing standard dynamic contextualisation"),i.dynamicStrategy(f,function(){i.app.fire(pe);var v;g?v=document.querySelector(g):h.selector&&h.selector.property?v=h.selector.property:v="id";var b=document.querySelectorAll(d),I=Nr(b),T;try{for(I.s();!(T=I.n()).done;){var C=T.value;i.parseNewContent(C,w,v)}}catch(k){I.e(k)}finally{I.f()}i.adFetcher.flush(w)});case 16:case"end":return o.stop()}},l)}));return function(l){return c.apply(this,arguments)}}()),this.adFetcher=e,this.config=t,this.dom=r,this.image=n,this.page=p,this.textNode=s,this.debugLog=u,this.PLATFORM_TYPE=t.getBoolean("mobile",!1)?"mobile":"desktop",this.GALLERY=t.getArray("partner.gallery.selectors",!1),this.CONTEXT_DELAY_TIMEOUT_MS=t.getInteger("partner.dynamic.contextdelayms",0),this.articles={},this.firstArticle=!0}),Rr=function(e,t,r,n){r=r||{};var p=r.get("consent",{});function s(){if(e.__cmp?n.info("CMP Framework loaded"):n.info("No CMP Framework loaded"),p.hasOwnProperty("consentStr"))for(var l in p)p.hasOwnProperty(l)&&typeof p[l]!="function"&&n.info("Consent info: "+l+": "+p[l]);else n.error("Consent String not found")}function u(l){p=l}function i(){return!0}function c(){return p.vibrantConsent&&p.cookiesAllowed}return{init:s,updateConsent:u,trackingAllowed:i,cookiesAllowed:c}},xr=function(e){var t="template",r={};function n(s){this.id=s.id,this.params=s.params||{},this.hook=s.hook||{},this.template=s.template||""}n.prototype.clone=function(){var u={id:this.id,params:{},hook:{},template:this.template};return this.params&&(u.params=K({},this.params)),this.hook&&(u.hook=K({},this.hook)),new n(u)},n.prototype.execute=function(u){return u=K({},this.params,u||{},{source:window.location,timestamp:+new Date,creativeId:this.id}),ce(this.template,u)};function p(s,u,i){var c,l;typeof r[s.id]!="undefined"?(l=r[s.id].clone(),i(null,l)):u.ads[0].creative.creativeType==="c2s"?(c=new n({id:s.id,params:{c2s:!0}}),l=c.clone(),i(null,l)):u.ads[0].creative.payload?(c=new n(u.ads[0].creative.payload),r[s.id]=c,l=c.clone(),i(null,l)):e.jsonp({scope:t,url:s.cdnUrl,id:s.id}).on("data",function(y){var w=y.data,A=new n(w);r[s.id]=A,l=A.clone(),i(null,l)})}return{CachedTemplate:n,load:p}},Hr=function(){var e={uk:{adChoicesText:"AdChoices",hdrText:"ADVERTISEMENT"},us:{adChoicesText:"AdChoices",hdrText:"ADVERTISEMENT"},de:{adChoicesText:"Werbung",hdrText:"WERBUNG"}};return e.default=e.uk,{map:e}},Lr=function(e,t,r,n,p){var s="https://www.vibrantmedia.com/en/privacy-policy/",u="https://www.vibrantmedia.com/whats-intellitxt/",i="https://www.vibrantmedia.com/de/whats-intellitxt/",c="https://www.vibrantmedia.com/",l=u,y=t.getBoolean("partner.inview.headerclose",!1),w={intext:t.getInteger("partner.intext.zindex",5999999),image:t.getInteger("partner.image.zindex",1999999),daw:t.getInteger("partner.daw.zindex",5e6),adhesion:t.getInteger("partner.adhesion.zindex",5e6),adbar:t.getInteger("partner.adbar.zindex",5e6),inline:t.getInteger("partner.inline.zindex",4999),instory:t.getInteger("partner.instory.zindex",4999),inview:t.getInteger("partner.inview.zindex",4999),fallback:t.getInteger("partner.fallback.zindex",1e6)},A={standard:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer">','<div class="vm-adunit-close vm-close-top"></div>','<div class="vm-adunit-adchoice vm-adchoice-top"></div>','<div id="vm-adunit-inner-{id}" class="vm-adunit-inner">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body vm-adunit-loading">',"</div>",'<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>","</div>"].join(`
`),legacyadhesion:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer legacyadhesion">','<div class="vm-adunit-close" style="background-position: -60px 0px;"></div>','<div class="vm-adunit-adchoice vm-adchoice-top"></div>','<div id="vm-adunit-inner-{id}" class="vm-adunit-inner">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body vm-adunit-loading">',"</div>",'<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>","</div>"].join(`
`),image:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer">','<div class="vm-adunit-close vm-close-base"></div>','<div class="vm-adunit-adchoice vm-adchoice-base"></div>','<div id="vm-adunit-inner-{id}" class="vm-adunit-inner vm-no-shadow">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body vm-body-clear">',"</div>",'<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>","</div>"].join(`
`),cpeProgressBar:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer">','<div id="vm-adunit-inner-{id}">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body"></div>','<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>","</div>"].join(`
`),cpeDropIn:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer" style="display: none">','<div id="vm-adunit-inner-{id}">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body"></div>','<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>","</div>"].join(`
`),chrome:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer">','<div id="vm-tt-header-{id}" class="vm-tt-header" style="height: 30px;">','<div class="vm-tt-sprite-header">','<div class="vm-tt-sprite12-tlc vm-tt-sprite12"></div>','<div class="vm-tt-sprite12-tm vm-tt-sprite12"></div>','<div class="vm-tt-sprite12-trc vm-tt-sprite12"></div>',"</div>",'<div class="vm-tt-hdr-lft">','<a target="_blank" class="vm-tt-vmlogo-a">','<div class="vm-tt-vmlogo12"></div>',"</a>",'<div class="vm-tt-priv12 vm-adunit-adchoice" style="display: block;">','<div class="vm-tt-adchoices12"></div>','<div class="vm-tt-adchoices12-txt">{adChoicesText}</div>',"</div>","</div>",'<div class=" vm-tt-hdr-rt">','<div class="vm-adunit-close" style="background-position: -60px 0px;"></div>',"</div>","</div>",'<div style="background-color: rgb(240, 240, 240);" class="vm-tt-content-bg">','<div class="vm-tt-sprite12-lft-edge" style="display: block;"></div>','<div class="vm-tt-sprite12-rt-edge" style="display: block;"></div>',"</div>",'<div id="vm-adunit-inner-{id}" class="vm-adunit-inner" style="padding-left: 5px;padding-right: 5px;padding-top: 30px;">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body vm-adunit-loading">',"</div>",'<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>",'<div id="vm-tt-footer" style="width: 100%; height: 6px; background-color: transparent;">','<div class="vm-tt-footer12">','<div class="vm-tt-footer12-left vm-tt-sprite12"></div>','<div class="vm-tt-footer12-mid vm-tt-sprite12"></div>','<div class="vm-tt-footer12-right vm-tt-sprite12"></div>',"</div>","</div>","</div>"].join(`
`),inview:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer vm-inview">','<div class="vm-inview-header '+(y?"vm-inview-close":"")+'">',"{hdrText}",'<div class="vm-adunit-close">','<div class="vm-close-icon"></div>',"</div>","</div>",'<div id="vm-adunit-inner-{id}" class="vm-adunit-inner">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-body-{id}" class="vm-adunit-body">',"</div>","</div>","</div>",'<div class="vm-inview-footer">','<div class="vm-adunit-adchoice"></div>','<div class="vm-inview-poweredby"></div>',"</div>","</div>"].join(`
`),instory:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer vm-instory">','<div class="vm-instory-header '+(y?"vm-instory-close":"")+'">',"{hdrText}",'<div class="vm-adunit-close">','<div class="vm-close-icon"></div>',"</div>","</div>",'<div id="vm-adunit-inner-{id}" class="vm-adunit-inner">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-body-{id}" class="vm-adunit-body">',"</div>","</div>","</div>",'<div class="vm-instory-footer">','<div class="vm-adunit-adchoice"></div>','<div class="vm-instory-poweredby"></div>',"</div>","</div>"].join(`
`)},h=["<html>","<head>","<style>",".loaderOuter {","       width: 100%;","       height: 100%;","       display: flex;","       justify-content: center;","       align-items: center;","background:#f3f3f3;","}",".loaderInner {","        border: 16px solid #dadada;","        border-radius: 50%;","        border-top: 16px solid #3498db;","        width: 30%;","        padding-top: 30%;","        -webkit-animation: spin 2s linear infinite;","        animation: spin 2s linear infinite;","}","@-webkit-keyframes spin {0% { -webkit-transform: rotate(0deg); }100% { -webkit-transform: rotate(360deg); }}","@keyframes spin {0% { transform: rotate(0deg); }100% { transform: rotate(360deg); }}","</style>","</head>","<body>",'<div class="loaderOuter">','<div class="loaderInner"></div>',"</div>","</body>","</html>"].join(`
`),d=["<body>",'<div class="vm_loading_outer">','<div class="vm_loading_inner"></div>',"</div>","</body>","</html>"].join(`
`);function g(b){return A[b]||A.standard}function m(b,I,T){return I==="inview"&&(T="inview"),w.hasOwnProperty(T)?b.style.zIndex=w[T]:b.style.zIndex=w.fallback,b}function f(b,I){var T,C,k,N,S,R=e.createElement("div");I=I||{},I.settings=I.settings||b.settings;var L=g(I.decorationType);if(L){L=L.replace(/\{id\}/g,b.id);var D=Hr(),H=D.map.default.adChoicesText,M=D.map.default.hdrText;if(t){var O=t.get("geo",{});if(O&&O.cc){O.cc==="de"&&(l=i),O.cc==="uk"&&(l=s);var _=D.map[O.cc];_&&_.adChoicesText&&(H=_.adChoicesText),_&&_.hdrText&&(M=_.hdrText)}}L=L.replace(/\{adChoicesText\}/g,H),L=L.replace(/\{hdrText\}/g,M)}return R.innerHTML=L,S=R.firstChild,k=S.querySelector(".vm-tt-vmlogo12"),T=S.querySelectorAll(".vm-adunit-close, .vm-inview-close"),C=S.querySelector(".vm-adunit-adchoice"),N=S.querySelector(".vm-adunit-body"),N.appendChild(b.body),S=m(S,I.decorationType,b.product),b.outerBox=b.position.placeOuterBox(b,S),b=a(b,{outerBox:S,adunitClose:T,adunitAdChoice:C,vmLogo:k}),b}function a(b,I){return r.bindConnect(I.outerBox,"mouseenter",b,b.EVENT_MOUSEIN),r.bindConnect(I.outerBox,"mouseleave",b,b.EVENT_MOUSEOUT),Object.keys(I.adunitClose).length!==0&&I.adunitClose.forEach(function(T){r.bind(T,"click",function(C){r.stopPropagation(C),b.fire("close",Z.AD)})}),I.adunitAdChoice&&r.bind(I.adunitAdChoice,"click",function(T){r.stopPropagation(T),p.adChoiceClick({product:b.product,hookId:b.settings.vibrantParameters.hookId}),n.openUrl(l)}),I.vmLogo&&r.bind(I.vmLogo,"click",function(T){r.stopPropagation(T),p.clickThrough({product:b.product,source:300,hookId:b.settings.vibrantParameters.hookId,clickUrl:encodeURI(c)})}),b}function o(){return h}function v(){return d}return{decorate:f,getIframeLoadingSrc:o,getPageLoadingSrc:v}};function Dr(E){var e=Mr();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Mr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var Br=function(e){var t={LOADED:"loaded",LOAD:"load"},r=function(p){oe(u,p);var s=Dr(u);function u(){var i;te(this,u),i=s.call(this);var c=ae(i);return i.on(t.LOAD,function(y){c.load(y)},ae(i)),i}return re(u)}(e.Observable);r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.load=function(){throw new Error("not implemented")};function n(p){return K(new r,p)}return{CreativeInterface:r,create:n}},Vr=function(e){var t=500;function r(n,p,s){var u=e.getWinHeight();if(!(!p||!u)){var i=.55,c=(u+p)*i,l=c>0?c:t,y;s<l?y=l-s:y=0,y=y>p?p:y,y=y<0?0:y;var w=n.getAttribute("data-mouse");if(w==="in"&&y<p){var A=p-y;window.scrollBy(0,A),y=p,n.setAttribute("data-mouse","out")}return y}}return r},Ur=function(e,t,r){var n=100,p=300,s="-9999px",u=60;function i(h){this.positionFunc=h}function c(h,d,g,m,f,a){var o;if(h.body)try{if(o=h.body.contentDocument,o){var v=o.body?o.body.clientHeight:0;if(v){var b=v+g;h.body.setAttribute("height",b.toString()),h.body.style.height=b+"px";var I=h.getBodyContainer();I&&(I.style.height=b+"px"),d.style.height=b+"px",d.style.maxHeight=b+m+"px",f&&f.style.setProperty("margin-bottom",b+"px","important"),a&&a(b)}}}catch(T){o=null}}i.prototype.placeOuterBox=function(d,g){var m=this;g.className+=" vm-adunit-absolute",g.style.top=s,g.style.left=s,g.style.visibility="hidden",g.style.opacity=0;var f=g.querySelector(".vm-adunit-body");f.style.width=d.getWidth()+"px",f.style.height=d.getHeight()+"px";var a=ve(function(){var o=m.positionFunc();d.specsForExpand&&d.specsForExpand.expanded?(d.specsForExpand.reset=o.top,g.style.top=o.top-d.specsForExpand.topForExpanded+"px"):g.style.top=o.top+"px",g.style.left=o.left+"px"},n,{leading:!0});return d.once("opened",function(){g=document.body.appendChild(g),a(),m.unbindResizeEvent=t.bind(window,"resize",a),d.on("domChange",a),g.style.visibility="visible",g.style.opacity=1}),d.once("closing",function(){m.unbindResizeEvent&&(m.unbindResizeEvent(),delete m.unbindResizeEvent),d.unbind("domChange",a),g.style.visibility="hidden",g.style.opacity=0}),d.once("closed",function(){g.style.top=s,g.style.left=s,document.body.removeChild(g)}),d.on("resizeHeight",function(){c(d,g,0,0,void 0,function(){g.style.height="auto",g.style.maxHeight="initial"})}),g};function l(h,d){this.position=h,this.animate=d.animate,this.controlledOpen=d.controlledOpen,this.animationTime=500}l.prototype.placeOuterBox=function(d,g){var m=this,f;g.className+=" vm-adunit-fixed",g.style.top=s,g.style.left=s,g.style.bottom="",g.style.right="",g.style.visibility="hidden",g.style.opacity=0;var a=g.querySelector(".vm-adunit-body");return a.style.width=d.getWidth()+"px",a.style.height=d.getHeight()+"px",d.once("opened",function(){["top","left","bottom","right"].forEach(function(v){Object.hasOwnProperty.call(m.position,v)?g.style[v]=m.position[v]+"px":g.style[v]=""}),g.style.left===""&&g.style.right===""&&(g.style.left="50%",g.style.marginLeft=-d.getWidth()/2+"px"),g=document.body.appendChild(g);function o(){m.animate?(f=e.getStyle(g).height,g.style.bottom="-"+f,g.style.visibility="visible",g.style.opacity=1,window.setTimeout(function(){g.className+=" vm-adunit-fixed-animate",g.style.bottom="0px"},m.animationTime)):(g.style.visibility="visible",g.style.opacity=1)}m.controlledOpen?d.on(d.CONTROLLED_OPEN,o):o()}),d.once("closing",function(){m.animate?g.style.bottom="-"+f:(g.style.visibility="hidden",g.style.opacity=0)}),d.once("closed",function(){m.animate?window.setTimeout(function(){g.style.visibility="hidden",g.style.top=s,g.style.left=s,document.body.removeChild(g)},m.animationTime):(g.style.top=s,g.style.left=s,document.body.removeChild(g))}),g};function y(h,d){if(this.element=h,this.openTransitionEnabled=!0,this.closeTransitionEnabled=!0,this.useSimpleElement=!1,d&&d.get("partner.inline",null)){var g=d.get("partner.inline");g&&(this.useSimpleElement=g.getBoolean("usesimpleelement",!1))}}y.prototype.placeOuterBox=function(d,g){var m=d.isResponsive();this.useSimpleElement?g=this.element.appendChild(g):g=this.element.parentNode.insertBefore(g,this.element.nextSibling);var f=g.querySelector(".vm-adunit-body");d.on("resizeHeight",function(){c(d,g,0,10,void 0,void 0)});function a(){g.style.maxHeight="initial",r.fire(Ct),m&&(g.style.height="100%",f.style.height="100%")}return r.fire(Tt),g.className+=" vm-adunit-inline",m?(g.style.width="100%",f.style.width="100%"):(g.style.width=d.getWidth()+"px",f.style.width=d.getWidth()+"px"),this.openTransitionEnabled?(g.style.maxHeight="0px",window.setTimeout(a,1)):a(),t.bind(window,"scroll",function(){a()}),d.once("closed",function(){var o,v=ue(function(){o&&o(),g.parentNode.removeChild(g)});this.closeTransitionEnabled?(g.style.maxHeight="0px",g.style.height="0px",we?window.setTimeout(v,p):o=t.bind(g,"transitionend",v)):v()},this),g};function w(h){this.hook=h,this.openTransitionEnabled=!0,this.closeTransitionEnabled=!0}w.prototype.placeOuterBox=function(h,d){var g=this,m=this.hook.getDomNode(),f=h.getHeight()+u,a=d.querySelector(".vm-adunit-body"),o=300,v,b=15,I=60;r.fire(Oe);function T(){v&&v(),r.fire(Le)}we?window.setTimeout(T,p):v=t.bind(d,"transitionend",T);var C=" vm-hook-inview";m&&m.className.indexOf(C)===-1&&(m.className+=C),d.className+=" vm-adunit-inview",a.style.width=h.getWidth()+"px",a.style.height=h.getHeight()+"px",d.style.maxHeight="0px",m.style.setProperty("margin-bottom","0px","important");var k=0,N=!1;h.on("resizeHeight",function(){c(h,d,b,I,m,function(R){N=!0,k=R,S()})}),window.setTimeout(function(){f=h.getHeight()+u,d.style.maxHeight=f+"px",m.style.setProperty("margin-bottom",f+"px","important")},1);function S(){var R=N?k:h.getHeight(),L=R+b+I,D,H=e.getPosition(m),M=g.hook.getParagraphPosition();d.style.top=H.bottom-H.top+"px",d.style.left=M.left-H.left+"px",d.style.position="absolute",d.style.width=M.right-M.left+"px",D=L,g.hook.hidden?m.style.marginBottom=0:m.style.marginBottom=D+"px",d.style.height=D+"px",a.style.width=h.getWidth()+"px"}return t.bind(window,"resize",ve(function(){S()}),o),S(),h.once("opened",function(){g.hook.hidden=!1}),h.once("closed",function(){var R;r.fire(Oe);var L=ue(function(){R&&R(),r.fire(Le),d.parentNode.removeChild(d)});d.style.maxHeight="0px",m.style.marginBottom="0px",g.hook.hidden=!0,we?window.setTimeout(L,p):R=t.bind(d,"transitionend",L)},this),m.appendChild(d)};function A(h){this.hook=h}return A.prototype.placeOuterBox=function(h,d){var g=this,m=10,f=80,a=10,o=75,v=Vr(e),b=this.hook.getDomNode(),I=0,T=d.querySelector(".vm-adunit-body"),C=300,k=h.product,N=ue(function(){h.fire("slidingopened")}),S=" vm-hook-instory";b&&b.className.indexOf(S)===-1&&(b.className+=S),d.className+=" vm-adunit-instory";var R=!1;function L(M){var O=R?I:h.getHeight(),_=O+m+f,x,U;if(k==="instory"){var F=e.getPosition(b),W=g.hook.getParagraphPosition();d.style.top=F.bottom-F.top+"px",d.style.left=W.left-F.left+"px",d.style.position="absolute",d.style.width=W.right-W.left+"px",x=F.bottom-e.getScrollY(),U=v(d,_,x),U=M?Math.min(U,M):U,U=U>a?U:0,g.hook.hidden?b.style.marginBottom=0:b.style.marginBottom=U+"px"}else{var z=g.hook.getDomNode(),j=e.getPosition(z),q,X=g.hook.constructor.name==="SimpleElementNode";X?q=j.top-e.getScrollY():q=j.bottom-e.getScrollY(),d.style.top=0,d.style.left=0,d.style.position="static",U=v(d,_,q),U=M?Math.min(U,M):U,U=U>a?U:0,b.style.marginBottom=0}d.style.height=U+"px";var ge=e.getAbsoluteViewport(),me=ge.bottom-ge.top,fe=Math.min(me,_),Me=e.pixelHeightInViewport(d),Pe=fe>0?Math.round(Me*100/fe):0;h.fire("slidingopen",Pe),Pe>o&&(N(),h.delayLoad&&h.fire(h.DELAYED_LOAD,Pe)),T.style.width=h.getWidth()+"px"}if(t.bind(window,"resize",ve(function(){L()}),C),t.bind(d,"mouseenter",function(){d.setAttribute("data-mouse","in"),L()}),t.bind(d,"click",function(){d.setAttribute("data-mouse","in"),L()}),t.bind(window,"scroll",function(){L()}),L(),h.on("resize",function(){L()}),h.on("contentLoaded",function(){c(h,d,m,f,b,function(M){R=!0,I=M,L(M)})}),h.on("resizeHeight",function(){c(h,d,m,f,b,function(M){R=!0,I=M,L(M)})}),h.once("closed",function(){var M;r.fire(Oe);var O=ue(function(){M&&M(),r.fire(Le),d.parentNode.removeChild(d)});d.style.maxHeight="0px",b.style.marginBottom="0px",g.hook.hidden=!0,we?window.setTimeout(O,p):M=t.bind(d,"transitionend",O)},this),k==="inline"){var D=g.hook.constructor.name==="SimpleElementNode";if(D)b.appendChild(d);else{var H=g.hook.getDomNode();H&&H.parentNode.insertBefore(d,H.nextSibling)}}else b.appendChild(d);return d},{Absolute:i,Fixed:l,Inline:y,Inview:w,Instory:A}};function Fr(E){var e=Gr();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Gr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var Wr=function(e,t,r,n,p,s,u){var i={LOAD:"load",LOADED:"loaded",OPEN:"open",OPENING:"opening",OPENED:"opened",CONTROLLEDOPEN:"adunit:controlledopen",DELAYED_LOAD:"adunit:delayed_load",SLIDINGOPEN:"slidingopen",SLIDINGOPENED:"slidingopened",CLICK:"adunit:click",CLOSE:"close",CLOSING:"closing",CLOSED:"closed",SHOW:"show",HIDE:"hide",RENDER:"render",RENDERING:"rendering",RENDERED:"rendered",SCHEDULE_CLOSE:"scheduleClose",MOUSEIN:"adunit:mousein",MOUSEOUT:"adunit:mouseout",DELEGATE:"delegate",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave"},c={CLOSED:0,CLOSING:1,OPENING:2,OPEN:3},l={body:".vm-adunit-body"},y=1,w=function(f,a,o){n.load(f,a,o)},A=0,h=-1,d=function(m){oe(a,m);var f=Fr(a);function a(o){var v;te(this,a),v=f.call(this),v.id=y++,v.product=o.product,v.settings=o.settings,v.autoCloseDelay=o.settings.autoCloseDelay,v.templateSettings=o.templateSettings,v.renderOptions=o.renderOptions,v.delayLoad=!!o.delayLoad;var b=(o.settings||{}).ads?((o.settings.ads[0]||{}).creative||{}).diyValues:{},I=(o.settings||{}).ads?((o.settings.ads[0]||{}).creative||{}).setValues:{},T=(o.settings||{}).ads?(((o.settings.ads[0]||{}).creative||{}).payload||{}).params:{};return v.mergedCreativeParams=K({},b||{},I||{},T||{}),v.creativeLoad=o.creativeLoad,v.templateLoad=o.templateLoad||w,v.render=o.render,v.open=o.open,v.close=o.close,v.body=null,v.status=c.CLOSED,v.openCount=0,v.openTime=null,v.scheduledClose=!1,v.closeTimer=null,v.on(i.OPEN,function(C){this.status===c.CLOSING?this.once(i.CLOSED,this._open,this):this._open(C)},ae(v)),v.on(i.CLOSE,v._close,ae(v)),v.on(i.RENDER,v._render,ae(v)),v.on(i.SCHEDULE_CLOSE,v._scheduleClose,ae(v)),v.on(i.SHOW,v.show,ae(v)),v.on(i.HIDE,v.hide,ae(v)),v}return re(a)}(r.Observable);d.prototype.EVENT_MOUSEIN=i.MOUSEIN,d.prototype.EVENT_MOUSEOUT=i.MOUSEOUT,d.prototype.EVENT_POINTER_ENTER=i.POINTER_ENTER,d.prototype.EVENT_POINTER_LEAVE=i.POINTER_LEAVE,d.prototype.EVENT_CLICK=i.CLICK,d.prototype.EVENT_OPENED=i.OPENED,d.prototype.EVENT_CLOSED=i.CLOSED,d.prototype.EVENT_DELEGATE=i.DELEGATE,d.prototype.CONTROLLED_OPEN=i.CONTROLLEDOPEN,d.prototype.DELAYED_LOAD=i.DELAYED_LOAD,d.prototype.EVENT_SCHEDULE_CLOSE=i.SCHEDULE_CLOSE,d.prototype.getAdConfig=function(){return this.settings},d.prototype.getAd=function(){return this.getAdConfig().ads[0]},d.prototype.getAdTemplate=function(){return this.template},d.prototype.getTemplateParams=function(){var f=this.getAdTemplate();return f?f.params:null},d.prototype.getTemplateHookParams=function(){var f=this.getAdTemplate();return f?f.hook:null},d.prototype.getDiyValues=function(){var f=this.getAd();return f.creative.diyValues||{}},d.prototype.getMergedCreativeParams=function(){return this.mergedCreativeParams||{}},d.prototype.getPosition=function(){return t.getPosition(this.outerBox)},d.prototype.getWidth=function(){return this.creative.getWidth()},d.prototype.getHeight=function(){return this.creative.getHeight()},d.prototype.getClickDelay=function(){var m=this.getDiyValues();return m.clickdelay?parseInt(m.clickdelay,10)||0:A},d.prototype.getBodyContainer=function(){return this.outerBox?this.outerBox.querySelector(l.body):null},d.prototype.saveValuesToCache=function(f,a,o){this.adUnitCache={top:parseFloat(f),width:parseFloat(a),height:parseFloat(o)}},d.prototype.resetSize=function(){var f=this.getBodyContainer(),a=this.outerBox,o=a.getElementsByTagName("iframe")[0];this.specsForExpand.reset?a.style.top=this.specsForExpand.reset+"px":a.style.top=this.adUnitCache.top+"px",f.style.height=this.adUnitCache.height+"px",o.style.cssText="margin: 0 !important; position: relative; width:"+this.adUnitCache.width+"px; height: "+this.adUnitCache.height+"px;",o.height=this.adUnitCache.height+"",o.width=this.adUnitCache.width+"",this.specsForExpand.expanded=!1},d.prototype.resizeImageAd=function(){var f=this.visibleRect.height,a=this.visibleRect.width,o=this.getBodyContainer(),v=this.outerBox,b=v.getElementsByTagName("iframe")[0];this.saveValuesToCache(v.style.top,b.width,b.height),this.specsForExpand={expanded:!0,topForExpanded:f-this.adUnitCache.height},v.style.top=this.adUnitCache.top-(f-this.adUnitCache.height)+"px",o.style.height=f+"px",b.style.cssText="position: relative; width:"+a+"px; height: "+f+"px;",b.height=f+"",b.width=a+""},d.prototype.resizeIframe=function(f,a,o){var v=f||this.visibleRect.width,b=a||this.visibleRect.height,I=this.getBodyContainer(),T=this.outerBox,C=T.getElementsByTagName("iframe")[0];o&&(this.saveValuesToCache(T.style.top,C.width,C.height),this.specsForExpand={expanded:!0,topForExpanded:b-this.adUnitCache.height},T.style.top=this.adUnitCache.top-(b-this.adUnitCache.height)+"px"),I.style.height=b+"px",C.style.cssText="position: relative; width:"+v+"px; height: "+b+"px;",C.height=b+"",C.width=v+""},d.prototype.getOpenCount=function(){return this.openCount},d.prototype.isOpen=function(){return this.status===c.OPEN||this.status===c.OPENING},d.prototype.isReady=function(){return this.status===c.OPEN},d.prototype.isResponsive=function(){if(this.template&&this.template.params&&this.template.params.responsive){var f=parseInt(this.template.params.responsive,10);return f===1}else return!1},d.prototype.isInViewport=function(){return t.isInViewport(this.outerBox)},d.prototype.cancelScheduledClose=function(){this.closeTimer&&(e.clearTimeout(this.closeTimer),this.closeTimer=null),this.scheduledClose=!1},d.prototype._render=function(){var f=this;this.fire(i.RENDERING),this.render(this,function(a){a||f.fire(i.RENDERED)})},d.prototype._open=function(f){var a=isNaN(f.data)?ne.LOAD:f.data,o=this;this.status===c.CLOSED&&(this.status=c.OPENING,this.fire(i.OPENING),this.once(i.LOADED,function(v){var b=v.data;if(!b){o.status=c.CLOSED;return}o.body=b,o.once(i.RENDERED,function(){o.open(o,a,function(I){I||(o.status=c.OPEN,o.openTime=+new Date,++o.openCount,o.registerEngagement(a),o.fire(i.OPENED,a))})}),o.fire(i.RENDER)}),this.creative?this.creative.fire(i.LOAD,this.template):this.templateLoad(this.templateSettings,this.settings,function(v,b){o.template=b,o.creative=o.creativeLoad(o),o.creative?(o.creative.connect(i.LOADED,o),o.creative.connect(i.LOAD,o),o.creative.fire(i.LOAD,b)):s.warn("Adinstance open: Failed to create creative")}))},d.prototype._close=function(f){var a=isNaN(f.data)?Z.AUTO:f.data,o=this;this.status===c.OPEN&&(this.status=c.CLOSING,this.fire(i.CLOSING),this.close(this,a,function(v){v||(o.status=c.CLOSED,o.openTime=null,o.fire(i.CLOSED,a))}),this.cancelScheduledClose())},d.prototype.registerEngagement=function(f){var a=this,o=(this.settings||{}).ads?(((this.settings.ads[0]||{}).creative||{}).diyValues||{}).iframe:void 0,v=this.mergedCreativeParams||{};if(o){var b=(((this.settings.ads[0]||{}).creative||{}).payload||{}).id;p.engagement({product:this.product,hookId:this.settings.vibrantParameters.hookId,source:f,creativeId:b})}o&&!v.disableBannerClickLogging&&function(){var T=!1,C=!1;if(!!this.outerBox){var k=this.outerBox.id;r.bind(this.outerBox,"mouseenter",function(){T=!0}),r.bind(this.outerBox,"mouseleave",function(){T=!1}),e.addEventListener("blur",function N(){for(var S=document.querySelectorAll(":hover"),R=0;R<S.length;R++)S[R].id===k&&(C=!0);if(T&&C){var L=101,D={product:a.product,hookId:a.settings.vibrantParameters.hookId,setId:a.settings.vibrantParameters.setId,keyword:encodeURIComponent(a.settings.term&&a.settings.term.keyword||""),source:L,timestamp:Date.now()};p.clickThrough(D,!0),e.removeEventListener("blur",N)}})}}.bind(this)()},d.prototype._scheduleClose=function(f){var a=f.data,o=this.settings&&this.settings.autoCloseDelay||h,v=this;function b(){o!==h&&(v.closeTimer=e.setTimeout(function(){v.fire(i.CLOSE,a)},o))}switch(this.cancelScheduledClose(),this.status){case c.OPEN:b(),this.scheduledClose=!0;break;case c.OPENING:this.once(i.OPENED,function(){v.scheduledClose&&b()}),this.scheduledClose=!0;break}},d.prototype.scaleToFit=function(f,a){var o=u.getBoolean("partner."+this.product+".scaletofit",!0),v=this.getHeight(),b=this.getWidth();if(!(!o||!f||!b||!v)&&!(b<=f)){var I=f/b,T=Math.floor(b*I),C=Math.floor(v*I),k=this.getBodyContainer();if(k){if(t.transformOrigin(k,"top left"),t.transformScale(k,I,I),a){var N=23;k.style.height+=23,this.outerBox.style.height=(v+N)*I+"px",this.outerBox.style.width=b*I+"px",this.outerBox.style.left=a>T?(a-T)/2+"px":"",this.outerBox.style.marginLeft=""}this.creative.height=C,this.creative.width=T}}},d.prototype.show=function(){this.outerBox&&(this.outerBox.style.visibility="visible")},d.prototype.hide=function(){this.outerBox&&(this.outerBox.style.visibility="hidden")};function g(m){return new d(m)}return{AdInstance:d,create:g}},zr="text/javascript";try{}catch(E){}var xt=xt||"VM",et=function(e,t,r,n,p,s,u){var i=!1,c=[],l,y=r.get("cdn.videoplayerjs",null),w="//"+y;if(u=null,u&&u.keyVersion&&(u={activePlayer:"jwPlayer",jwPlayer:{url:"images.intellitxt.com/k/jwplayer/8.2.2",keyVersion:8}}),u=u||r.get("videoPlayerSettings",null),!y){console.log("Video player URL is not defined");return}if(!u){console.log("Video player settings are not defined");return}function A(g,m,f,a){var o=l({config:r,dom:n,events:p,log:s,utils:Ie,debugLog:e[xt].debugLog});return typeof m=="function"&&typeof a=="undefined"&&(a=f,f=m),a==="videoFrame"?o.videoFrame.create(g,f):o.player.create(g,m,f)}function h(g){var m=t.head||t.getElementsByTagName("head")[0],f=t.createElement("script");e.VM.videoplayer=e.VM.videoplayer||{},e.VM.videoplayer.settings=u,e.VM.videoplayer.initialise=g,f.type=zr,f.async=!0,f.src=w,m.appendChild(f),i=!0}function d(g,m,f,a){l?A(g,m,f,a):(c.push({args:g,id:m,callback:f,unit:a}),i||h(function(o){l=o,c.forEach(function(v){A(v.args,v.id,v.callback,v.unit)}),i=!1,c=[]}))}return{load:d}},Yr=`<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      body {
        margin: 0;
      }

      iframe {
        z-index: -1;
        position: absolute;
      }

      .VM_progressArea {
        position: relative;
        cursor: pointer;
      }

      .VM_progressComponents {
        position: absolute;
        width: inherit;
        bottom: 15px;
      }

      .VM_progressWrapper {
        position: absolute;
        height: 5px;
        width: 130px;
        margin: auto;
        bottom: 5px;
        right: 2px;
        left: 0px;
        color: #009900;
        padding-top: 5px;
        padding-bottom: 5px;
      }

      .VM_progressContainer {
        display: block;
        width: 100%;
        height: 5px;
        border: solid 1px;
        border-radius: 25px;
        -moz-border-radius: 25px;
        -webkit-border-radius: 25px;
        -o-border-radius: 25px;
      }

      .VM_progressImage {
        position: absolute;
        bottom: 20px;
        width: auto;
        height: auto;
        margin-left: auto;
        margin-right: auto;
        display: block;
      }

      .VM_progressText {
        font-size: 10px;
        font-family: Verdana, arial, sans-serif;
        color: #333333;
        text-align: center;
      }

      .VM_progressBackground {
        position: absolute;
        width: inherit;
        height: 35px;
        bottom: -15px;
        background-color: #f0f0f0;
        opacity: 0.8;
        z-index: -1;
        border-radius: 5px;
        -webkit-border-radius: 5px;
        -o-border-radius: 5px;
        -moz-border-radius: 5px;
      }

      .VM_progressBar {
        background: #009900;
        overflow: hidden;
        width: 0%;
        height: inherit;
      }

      .VM_progressArea_image {
        position: absolute;
        z-index: 500;
        cursor: pointer;
        visibility: hidden;
      }

      .VM_progressBackground_image {
        position: absolute;
        width: inherit;
        bottom: -15px;
        background-color: #f0f0f0;
        opacity: 0.8;
        z-index: -1;
      }

      .VM_progressWrapper_image {
        position: absolute;
        height: 15px;
        width: 130px;
        margin: auto;
        bottom: 0;
        top: 0;
        right: 2px;
        left: 0;
        color: #009900;
        padding-top: 5px;
        padding-bottom: 5px;
      }

      .VM_progressWrapper_inview {
        position: absolute;
        height: 5px;
        width: 130px;
        margin: auto;
        bottom: 0;
        top: 0;
        right: 2px;
        left: 0;
        color: #009900;
        padding-top: 5px;
        padding-bottom: 5px;
      }

      .image-close,
      .image-adchoice {
        position: absolute;
        right: 0;
        width: 18px;
        height: 18px;
        cursor: pointer;
        z-index: 2147483646;
        visibility: visible;
      }

      .image-close {
        background-image: url('//images.intellitxt.com/ast/4c58aae9-0570-dc11-96c8-005056c00008/vmxt47032/close-btn-18px.png');
        bottom: 18px;
      }

      .image-adchoice {
        background-image: url('//images.intellitxt.com/ast/4c58aae9-0570-dc11-96c8-005056c00008/vmxt47032/adchoice-btn-18px.png');
        bottom: 0;
      }

      .adbar-close,
      .adbar-adchoice,
      .adbar-ads {
        position: absolute;
        top: 0;
        width: 23px;
        height: 23px;
        cursor: pointer;
        z-index: 2147483646;
        visibility: visible;
      }

      .adbar-close {
        background-image: url('https://images.intellitxt.com/a/templates/assets/close.png');
        right: 0;
      }

      .adbar-adchoice {
        background-image: url('https://images.intellitxt.com/a/templates/assets/adchoice.png');
        right: 23px;
      }

      .adbar-ads {
        right: 46px;
        width: 63px;
        background-image: url('https://images.intellitxt.com/a/templates/assets/werbung.png');
      }

      .vm-instory-header {
        height: 20px;
        border-bottom: 1px solid #e1e1e1;
        font-size: 9px;
        color: #b5b5b5;
        text-transform: uppercase;
        line-height: 20px;
        margin-bottom: 6px;
        position: relative;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell,
          'Helvetica Neue', sans-serif;
        font-weight: normal;
      }

      .vm-instory-header .instory-close {
        position: absolute;
        top: 0;
        right: 0;
        background-image: none;
        width: 20px;
        height: 20px;
      }

      .vm-instory-header .instory-close .vm-close-icon {
        background-image: url('data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMxaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzEzOCA3OS4xNTk4MjQsIDIwMTYvMDkvMTQtMDE6MDk6MDEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkFBMUE2N0E2NzFGQjExRTc4MTcwRkU1NzZFRTdBNUREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkFBMUE2N0E3NzFGQjExRTc4MTcwRkU1NzZFRTdBNUREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QUExQTY3QTQ3MUZCMTFFNzgxNzBGRTU3NkVFN0E1REQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUExQTY3QTU3MUZCMTFFNzgxNzBGRTU3NkVFN0E1REQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAAsACwDAREAAhEBAxEB/8QAaAABAAIDAQEAAAAAAAAAAAAAAAUHAQQGAwgBAQAAAAAAAAAAAAAAAAAAAAAQAAIBAgQEBgIDAAAAAAAAAAECAwAEERIFBiExQVFhcSIyEweBkcFCFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A+gaBQKBQKBQKCN3Fr9loWlyahd5iiEKkaj1O7e1RQee2tzabuDTxd2bYMvpngbDPG3ZvA9D1oI7cX2Foeh6jDYTlppnI/wBHxYH4VPIv49co44fjEOmR1dFdDijAMp7g8RQZoFBr39hZ6hZy2d5EJreYZZI25EfwR0NBSGsxX2ydzTRaRf4kpwK4Myo/JJVIy5hz/RoJv6y2pZaxcS63qUy3bwy8LVjmYyH1fJNjzHbvQW5QKBQQu8b3WrLb9zcaPD814o6DMyIfc6r/AGK9qDhdj/XD6gG1fcaO6z5mitpCwdy/OWQ+7rw/dBo3O2t0bP3NBNoayXdvcvkgIGIdSeMUwHAef58guFC5RS4yuQMyg4gHqMaDNAoFAoFAoFAoFAoFAoFB/9k=');
        background-repeat: no-repeat;
        background-position: center center;
        position: absolute;
        bottom: 0;
        right: 0;
        background-size: contain;
        height: 20px;
        width: 20px;
      }

      .vm-instory-footer {
        border-top: 1px solid #e1e1e1;
        height: 25px;
        font-size: 9px;
        line-height: 24px;
        color: #b5b5b5;
        text-transform: uppercase;
        text-align: right;
        text-indent: 60px;
        position: absolute;
        width: 100%;
        bottom: 30px;
      }

      .vm-instory-footer .instory-adchoice {
        position: absolute;
        top: 0;
        right: 0;
        background-image: url('data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMxaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzEzOCA3OS4xNTk4MjQsIDIwMTYvMDkvMTQtMDE6MDk6MDEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU4QTVDODRENzFGRDExRTc4MTcwRkU1NzZFRTdBNUREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU4QTVDODRFNzFGRDExRTc4MTcwRkU1NzZFRTdBNUREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NThBNUM4NEI3MUZEMTFFNzgxNzBGRTU3NkVFN0E1REQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NThBNUM4NEM3MUZEMTFFNzgxNzBGRTU3NkVFN0E1REQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAApACkDAREAAhEBAxEB/8QAiAABAAIDAQAAAAAAAAAAAAAAAAQGAQIDBQEBAAIDAQEAAAAAAAAAAAAAAAQFAQIDBgcQAAEEAQIDBQkBAAAAAAAAAAEAAgMFBBEhMRIGQVGBIhORMkJisjNzFDYHEQACAgEBBgQGAwAAAAAAAAAAAQIDEQQhQVGhEgUxcSJCgbHR8TITUjM0/9oADAMBAAIRAxEAPwCQvXHygIAgCAIAgCAs3R3TVTb41plWmY/Cxq+ON3qMAIBkLgC7UHUDl4DiompvlBxUVlyLTtuhrujOVkumMEuZHu+jrOtgGbCWWFU/eOwxjzx6fOBuzx9q2q1MZPD2S4M56rttlS6166/5R8PjwPBUkrwgCAIC39JfyXVn4Mb63qFqf7a/Nlz2/wDzX+UfmzfFzb2iwaOaoYz1LKOUyY8Qkl/Y5X8oE0R1aSBsOTdYlGFjkpe3l5G1dt2nhW60szT2LL6tu9fQm9bUVHFSRWk0LKa/m0c+ojeHtfq/Qu5R9vy+bu7OK56W6bn0r1Q4nfuekqVSsa/Vc/Ytv248vEoCsjzoQBAXPoKekNXf4FrnNwY8yKENkd7xDHPLuUfEdxsoGsU+qEorOMl32mVX67YWS6FJLlkxJ/oORgVsdVSxMYMX1IYbR7QZ3QueXDRpGjCe3j4LK0alLqnv3bsh94lXBV1L8cpS34zyKjPPPkTPmnkdLNIdXyPJc5x7yTupqSSwimnNyeW8s5rJqEAQBAEAQBAEAQBAEAQBAEB//9k=');
        background-repeat: no-repeat;
        background-position: center center;
        background-size: contain;
        height: 20px;
        width: 20px;
      }

      .vm-instory-footer .vm-instory-poweredby {
        position: absolute;
        top: 0;
        right: 20px;
        background-image: url('data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMxaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzEzOCA3OS4xNTk4MjQsIDIwMTYvMDkvMTQtMDE6MDk6MDEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkFBMUE2N0FBNzFGQjExRTc4MTcwRkU1NzZFRTdBNUREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU4QTVDODRBNzFGRDExRTc4MTcwRkU1NzZFRTdBNUREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QUExQTY3QTg3MUZCMTFFNzgxNzBGRTU3NkVFN0E1REQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUExQTY3QTk3MUZCMTFFNzgxNzBGRTU3NkVFN0E1REQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAApACkDAREAAhEBAxEB/8QAaAABAAMBAQAAAAAAAAAAAAAAAAEFBwYDAQEAAAAAAAAAAAAAAAAAAAAAEAACAQQBAgQDCQAAAAAAAAABAgMAEQQFEiEGMVETFGEiB0FxgTJyIzNDFREBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8Aq6BQKBQKBQSiF3VBYFiACxCjr5k2A/GgvN32R3Ro8NMzZ4JgxXYIsokikXkQSP42e17UFN7fIKqwifi/5G4mx+7zoLPQdp9w7/1v8jDbKGPx9ZgyIF5XsLyMo+ygr87CyMHMmw8lQuRA5jlVWVwGXoRyQspt8DQeFAoNQ+nXeGNstaezN/IDBOAmsyns3BwQ0cbcuh4uAY7/AKfKg7fKxZjpps3EgVM3XFo9zpFv7fIWMAyCNP63aP8AchdOvUA3oOK7s7xXQ40mDocrlJso0nTLjsD7XIjuomAsRkpYBZPEoRy+brQZbQKBQASDcdCPA0Gia76u5uJr/VeJpd4ITivkNYxTItzDNL1v6sRJHh8wJvQZ47M7F26sxJJ+JoIoFAoFAoFAoFAoFAoFAoFB/9k=');
        background-size: contain;
        height: 20px;
        width: 20px;
      }
    </style>
  </head>

  <body>
    <script>
      'use strict';
      // The creativeAPI
      var creativeAPI = window.frameElement.creativeAPI;
      // Communication channel between kormorant
      var channel = creativeAPI.channel;
      // Events
      var events = creativeAPI.events;
      // Logging
      var log = creativeAPI.log;
      // The creative Parameters
      var params = creativeAPI.template.params;
      // The current config
      var config = creativeAPI.config;
      // Support for mobiles
      var DEVICE_CLICK = config.mobile ? 'touchstart' : 'click';

      function decoration() {
        var DEFAULT_WIDTH = window.innerWidth;
        var DEFAULT_HEIGHT = window.innerHeight;
        var COMPONENTS = 2;

        var progressBars = {
          intext: [
            '<div id="VM_progressArea_{id}" class="VM_progressArea" style="width:{width}px;height:{height}px;">',
            '<div id="VM_progressComponents_{id}" class="VM_progressComponents">',
            '<div id="VM_progressText_{id}" class="VM_progressText">{text}</div>',
            '<div id="VM_progressBackground_{id}" class="VM_progressBackground"></div>',
            '</div>',
            '<div id="VM_progressWrapper_{id}" class="VM_progressWrapper">',
            '<div id="VM_progressContainer_{id}" class="VM_progressContainer">',
            '<div id="VM_progressBar_{id}" class="VM_progressBar"></div>',
            '</div>',
            '</div>',
            '</div>',
          ],
          image: [
            '<div id="VM_progressArea_{id}" class="VM_progressArea_image" style="width:{width}px;height:{height}px;">',
            '<div class="image-close"></div>',
            '<div class="image-adchoice"></div>',
            '<div id="VM_progressComponents_{id}" class="VM_progressComponents">',
            '<div id="VM_progressBackground_{id}" class="VM_progressBackground_image" style="height:{height}px;"></div>',
            '</div>',
            '<div id="VM_progressWrapper_{id}" class="VM_progressWrapper_image">',
            '<div id="VM_progressText_{id}" class="VM_progressText">{text}</div>',
            '<div id="VM_progressContainer_{id}" class="VM_progressContainer">',
            '<div id="VM_progressBar_{id}" class="VM_progressBar"></div>',
            '</div>',
            '</div>',
            '</div>',
          ],
          adbar: [
            '<div id="VM_progressArea_{id}" class="VM_progressArea_image" style="width:{width}px;height:{height}px;">',
            '<div class="adbar-ads"></div>',
            '<div class="adbar-close"></div>',
            '<div class="adbar-adchoice"></div>',
            '<div id="VM_progressComponents_{id}" class="VM_progressComponents">',
            '<div id="VM_progressBackground_{id}" class="VM_progressBackground_image" style="height:{height}px;"></div>',
            '</div>',
            '<div id="VM_progressWrapper_{id}" class="VM_progressWrapper_image">',
            '<div id="VM_progressText_{id}" class="VM_progressText">{text}</div>',
            '<div id="VM_progressContainer_{id}" class="VM_progressContainer">',
            '<div id="VM_progressBar_{id}" class="VM_progressBar"></div>',
            '</div>',
            '</div>',
            '</div>',
          ],
          inview: [
            '<div id="VM_progressArea_{id}" class="VM_progressArea_image" style="width:{width}px;height:{height}px;">',
            '<div id="VM_progressComponents_{id}" class="VM_progressComponents">',
            '<div id="VM_progressBackground_{id}" class="VM_progressBackground_image" style="height:{height}px;"></div>',
            '</div>',
            '<div id="VM_progressWrapper_{id}" class="VM_progressWrapper_image">',
            '<div id="VM_progressText_{id}" class="VM_progressText">{text}</div>',
            '<div id="VM_progressContainer_{id}" class="VM_progressContainer">',
            '<div id="VM_progressBar_{id}" class="VM_progressBar"></div>',
            '</div>',
            '</div>',
            '</div>',
          ],
          instory: [
            '<div id="VM_progressArea_{id}" class="VM_progressArea_image" style="width:{width}px;height:{height}px;">',
            '<div id="VM_progressComponents_{id}" class="VM_progressComponents">',
            '<div id="VM_progressBackground_{id}" class="VM_progressBackground_image" style="height:{height}px;"></div>',
            '</div>',
            '<div id="VM_progressWrapper_{id}" class="VM_progressWrapper_image">',
            '<div id="VM_progressText_{id}" class="VM_progressText">{text}</div>',
            '<div id="VM_progressContainer_{id}" class="VM_progressContainer">',
            '<div id="VM_progressBar_{id}" class="VM_progressBar"></div>',
            '</div>',
            '</div>',
            '</div>',
            '<div class="vm-instory-header">',
            '{hdrText}',
            '<div class="instory-close">',
            '<div class="vm-close-icon"></div>',
            '</div>',
            '</div>',
            '<div class="vm-instory-footer">',
            '<div class="instory-adchoice"></div>',
            '<div class="vm-instory-poweredby"></div>',
            '</div>',
          ],
        };

        function decorate(product, options) {
          var wrapper = document.createElement('div');
          var unit = progressBars[product];
          var adInstance = options.adInstance;
          var adUnitBody = adInstance.outerBox.querySelector('.vm-adunit-body');

          if (adUnitBody) {
            adUnitBody.style.backgroundColor = 'transparent';
          }

          // Insert additional HTML if needed
          if (product === 'intext' && options.image) {
            unit.splice(COMPONENTS, 0, '<img id="VM_progressImage_{id}" class="VM_progressImage"  src="{image}" />');
          }

          // Replace and concatenate progress bar array and replace any tokens
          wrapper.innerHTML = unit
            .join('\\n')
            .replace(/\\{id\\}/g, adInstance.id)
            .replace(/\\{image\\}/g, options.image)
            .replace(/\\{text\\}/g, options.text)
            .replace(/\\{height\\}/g, DEFAULT_HEIGHT)
            .replace(/\\{width\\}/g, DEFAULT_WIDTH)
            .replace(/\\{hdrText\\}/g, creativeAPI.config.geo.cc === 'de' ? 'WERBUNG' : 'ADVERTISEMENT');

          // Setup the wrapper
          wrapper.className = 'VM_progressBarWrapper_' + product;
          wrapper.style.width = '100%';
          wrapper.style.height = DEFAULT_HEIGHT + 'px';

          // If image or  inview, build iframe to load creative background
          if (product === 'image' || product === 'inview' || product === 'adbar' || product === 'instory') {
            var iframe = document.createElement('iframe');
            iframe.className = 'VM_progressImageBar';
            iframe.src = params[product + 'BarCreative'];
            iframe.width = '100%';
            iframe.height = options.params.imageBarHeight ? options.params.imageBarHeight + 'px' : '100%';
            iframe.scrolling = 'no';
            iframe.frameBorder = '0';
            iframe.style.bottom = product === 'instory' ? ' 62px' : '0px';

            wrapper.appendChild(iframe);
          }

          return wrapper;
        }

        return {
          decorate: decorate,
        };
      }

      function progress() {
        var REFRESH_RATE = 16.66; // 60fps (1000/60)
        var START_VAL = 0;
        var MAX_LENGTH = 100;
        var DELAY = 250;
        var ADCHOICE_DE = 'https://www.vibrantmedia.com/de/whats-intellitxt/';
        var ADCHOICE_EN = 'https://www.vibrantmedia.com/whats-intellitxt/';
        var ADCHOICE_URL = creativeAPI.config.geo.cc === 'de' ? ADCHOICE_DE : ADCHOICE_EN;

        function ProgressBar(options) {
          // Time to complete progress bar
          this.time = options.time;
          // Animation flag
          this.animating = false;
          // Current adInstance
          this.adInstance = options.adInstance;
          // Current Product
          this.product = this.adInstance.product;
          // Current unit
          this.unit = options.unit;

          // Setup selectors for animation
          this.progressArea = this.unit.querySelector('.VM_progressArea');
          this.progressBar = this.unit.querySelector('.VM_progressBar');

          // Initialise all events
          this._handleEvents();

          // Append creative to DOM
          document.body.appendChild(this.unit);
        }

        // Allow ProgressBar to fire custom events
        ProgressBar.prototype = new creativeAPI.events.Observable();

        /**
         * Animate the progress Bar
         *
         * @for ProgressBar
         * @method animate
         */
        ProgressBar.prototype.animate = function animate() {
          if (this.animating) {
            return false;
          }

          var self = this;
          var startTime = new Date().getTime();

          /**
           * Increments progress bar via recursion
           *
           * @function activateAnimation
           */
          function activateAnimation() {
            var currentTime = new Date().getTime();
            var delta = Math.round(((currentTime - startTime) / self.time) * 100);

            var progress = (self.progressBar.style.width = delta + '%');

            if (self.allowProgress && parseInt(progress, 10) <= MAX_LENGTH) {
              self.animating = true;
              setTimeout(activateAnimation, REFRESH_RATE);
            } else if (!self.allowProgress) {
              self.animating = false;
            } else {
              self.allowProgress = false;
              self.animating = false;
              self.fire('progFin');
            }
          }

          activateAnimation();
        };

        /**
         * Start the progress Bar
         *
         * @for ProgressBar
         * @method start
         */
        ProgressBar.prototype.start = function start() {
          if (this.resetDelay) {
            clearTimeout(this.resetDelay);
          }

          this.allowProgress = true;
          this.animate();
        };

        /**
         * Stop the progress Bar
         *
         * @for ProgressBar
         * @method stop
         */
        ProgressBar.prototype.stop = function stop() {
          var self = this;

          this.allowProgress = false;

          this.resetDelay = setTimeout(function () {
            self.reset();
          }, DELAY);
        };

        /**
         * Reset the progress Bar
         *
         * @for ProgressBar
         * @method reset
         */
        ProgressBar.prototype.reset = function reset() {
          this.progressBar.style.width = START_VAL + '%';
        };

        /**
         * Initialise all the events
         *
         * @for ProgressBar
         * @method _handleEvents
         */
        ProgressBar.prototype._handleEvents = function _handleEvents() {
          var self = this;
          var logEvent = {
            start: 1,
            stop: 2,
            fin: 3,
            click: 4,
          };
          var launchSrc = {
            progressBar: 1,
          };

          function progressLog(evNum) {
            log.progressBar({
              product: self.adInstance.product,
              event: evNum,
              hookId: self.adInstance.settings.vibrantParameters.hookId || 0,
              creativeId: self.adInstance.settings.ads[0].creative.value,
            });
          }

          /**
           * fire launch to launch the takeover
           */
          function launch(source) {
            channel.fire('launch', {
              source: source,
            });
          }

          if (!config.mobile) {
            channel.on('start', function () {
              self.start();
              progressLog(logEvent.start);
            });

            channel.on('stop', function () {
              self.stop();
              progressLog(logEvent.stop);
            });

            this.on('progFin', function () {
              self.reset();
              launch(launchSrc.progressBar);

              progressLog(logEvent.fin);
            });
          }

          if (this.product === 'inview' || this.product === 'image' || this.product === 'adbar') {
            var progressLayer = this.unit.querySelector('.VM_progressArea_image');

            channel.on('start', function () {
              if (!config.mobile) {
                progressLayer.style.visibility = 'visible';
              }
            });

            channel.on('stop', function () {
              if (!config.mobile) {
                progressLayer.style.visibility = 'hidden';
              }
            });
          }

          /**
           * This click will come from the hook (intext)
           * Or event setup below
           */
          channel.on('click', function () {
            self.stop();
            launch(launchSrc.progressBar);

            progressLog(logEvent.click);
          });

          channel.on('close', function () {
            self.stop();
          });

          /**
           * Make unit clickable to launch unit
           */
          creativeAPI.events.bind(document.body, DEVICE_CLICK, function () {
            channel.fire('click');
          });

          if (this.product === 'image' || this.product === 'adbar' || this.product === 'instory') {
            var close = this.unit.querySelector('.' + this.product + '-close');
            var adchoice = this.unit.querySelector('.' + this.product + '-adchoice');

            events.bind(close, DEVICE_CLICK, function (event) {
              creativeAPI.events.stopPropagation(event);

              if (self.adInstance.resetDecoration) {
                self.adInstance.close();
              } else {
                self.adInstance.fire('close');
              }
            });

            events.bind(adchoice, DEVICE_CLICK, function (event) {
              creativeAPI.events.stopPropagation(event);
              self.stop();
              log.adChoiceClick({
                product: self.product,
                hookId: self.adInstance.settings.vibrantParameters.hookId || 0,
              });

              creativeAPI.dom.openUrl(ADCHOICE_URL);
            });
          }
        };

        /**
         * Create a new progress instance
         */
        function create(options) {
          return new ProgressBar(options);
        }

        return {
          create: create,
        };
      }

      // Delay, because apple.
      window.setTimeout(function tillNextTick() {
        progress().create({
          time: parseInt(params.progressBarTime, 10) || 3000,
          adInstance: creativeAPI.adInstance,
          unit: decoration().decorate(creativeAPI.adInstance.product, {
            image: params.progressBarImage || false,
            adInstance: creativeAPI.adInstance,
            params: creativeAPI.adInstance.mergedCreativeParams,
            text: params.progressBarText
              ? creativeAPI.utils.truncate(decodeURIComponent(params.progressBarText), 25)
              : 'Click Or Hover To Expand',
          }),
        });
      }, 0);
    <\/script>
  </body>
</html>
`,Qr=`<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      body {
        margin: 0;
      }

      iframe {
        position: relative;
      }

      div {
        position: absolute;
        margin: 0;
        top: 0;
        left: 0;
      }
    </style>
  </head>
  <body>
    <script>
      var creativeAPI = window.frameElement.creativeAPI;
      var channel = creativeAPI.channel;
      var events = creativeAPI.events;
      var params = creativeAPI.template.params;
      var dom = creativeAPI.dom;
      var DEFAULTS = { WIDTH: 320, HEIGHT: 50 };
      var creative = dom.createIFrame({ width: DEFAULTS.WIDTH, height: DEFAULTS.HEIGHT }, function (err, iframe) {
        iframe.src = params.adhesionBarCreative;
      });
      var overlay = document.createElement('div');
      overlay.style.width = DEFAULTS.WIDTH + 'px';
      overlay.style.height = DEFAULTS.HEIGHT + 'px';
      document.body.appendChild(creative);
      document.body.appendChild(overlay);
      events.bind(overlay, 'click', function (e) {
        events.stopPropagation(e);
        launch(1);
      });
      channel.on('click', function (e) {
        events.stopPropagation(e);
        launch(1);
      });
      function launch(source) {
        channel.fire('launch', { source: source });
      }
    <\/script>
  </body>
</html>
`;function jr(E){var e=Kr();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Kr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var Xr=function(e,t,r,n,p,s){var u,i,c,l,y;function w(o,v,b){return o.VM=o.VM||{},s(o,v,t,r,n,p,b)}function A(o){return{config:t,dom:r,events:n,log:p,utils:Ie,adInstance:o.adInstance,template:o.templateData,videoplayer:w}}function h(){var o={progressBar:{start:1,stop:2,fin:3,click:4},cpe:{click:1,close:2},launchSource:{progressBar:1,dropin:2}},v={adunit:{open:"opened",close:"closed"},cpe:{started:"cpe:started",engagement:"engagement",destroyed:"cpe:destroyed",clickThrough:"cpe:clickThrough"},mouse:{in:"adunit:mousein",out:"adunit:mouseout",adClick:"adunit:click",click:"click"}};return{logEvents:o,events:v,progressCreative:encodeURI(Yr),adhesionCreative:encodeURI(Qr)}}function d(o,v){var b=function(T){var C=document.createElement("iframe"),k;C.className=T.className||"vm_creativeComponents_iframe",C.width=T.width||"100%",C.height=T.height||"100%",C.frameBorder=0,C.scrolling="no";var N=T.api.adInstance,S=T.api.template,R=N.getAd(),L=N.getAdConfig(),D=o.extend({},{product:N.product,hookId:L.vibrantParameters.hookId,setId:L.vibrantParameters.setId,keyword:encodeURIComponent(L.term&&L.term.keyword||""),timestamp:+new Date,clickUrl:R.clickUrl,source:le.AD},R.creative.diyValues||{});N.mergedCreativeParams=o.extend({},R.creative.diyValues||{},R.creative.setValues||{},S.params);var H=o.extend({},N.mergedCreativeParams,{clickUrl:p.getUrl("clickThrough",D)});if(T.api.template.params.customSrc&&T.className==="vm_TakeOver_Wrapper"){var M={};t.apiHost&&(M.apiHost=encodeURIComponent(t.apiHost));var O="cdn.videoplayerjs",_=t.get(O,null);_&&(M.videoPlayerUrl=_),t.ipid&&(M.ipid=t.ipid),t.urlHash&&(M.urlHash=t.urlHash),t.pvu&&(M.pvu=t.pvu);for(var x=new URL(H.customSrc),U=new URLSearchParams(x.search),F=0,W=Object.entries(M);F<W.length;F++){var z=xe(W[F],2),j=z[0],q=z[1];U.append(j,q)}for(var X=0,ge=Object.entries(H);X<ge.length;X++){var me=xe(ge[X],2),fe=me[0],Me=me[1];U.append(fe,Me)}C.src="".concat(x.origin,"?").concat(U.toString())}else k=v.bind(C,"load",o.once(function(){k(),C.contentWindow.contents=T.creative,C.creativeAPI=T.api||{},C.src="javascript:decodeURIComponent(window['contents'])"}));return C};return{nativeIframe:b}}function g(o,v,b){var I=function(k){this.options=k,this.creativeAPI=k.api,this.events(),this.takeover=b.nativeIframe({className:"vm_TakeOver_Wrapper",width:"100%",height:"100%",creative:k.creative,api:k.api})};I.prototype.launch=function(){this.creativeAPI.adInstance.companion=this.takeover,document.body.appendChild(this.takeover)},I.prototype.destroy=function(){delete this.creativeAPI.adInstance.companion,this.takeover.parentNode.removeChild(this.takeover)},I.prototype.events=function(){var C=this,k=this.creativeAPI.channel,N=this.options.adInstance,S=N.product,R=N.settings.vibrantParameters.hookId,L=N.settings.ads[0].creative.value;k.on("open",function(){C.openTime=+new Date,N.fire("engagement"),v.engagement({product:S,hookId:R,source:C.options.source,creativeId:L})}),k.on("close",function(){C.destroy(),v.cpeClose({product:S,hookId:R,dwell:+new Date-C.openTime,creativeId:L})})};function T(C){return C.api.channel=new o.Observable,new I(C)}return{create:T,Takeover:I}}function m(o,v,b,I){var T={WIDTH:150,ADHESION_WIDTH:320,ADHESION_HEIGHT:50,INTEXT_HEIGHT:35,IMAGE_HEIGHT:70,INVIEW_HEIGHT:100,ADBAR_HEIGHT:83,ADBAR_WIDTH:990,INSTORY_HEIGHT:60,INSTORY_WIDTH:300},C=150,k=function(S){oe(L,S);var R=jr(L);function L(D,H,M){var O;te(this,L),O=R.call(this);var _=ae(O);return O.options=D,O.adInstance=D.adInstance,O.launchCallback=M,O.product=D.adInstance.product,O.wrapper=document.createElement("wrapper"),O.wrapper.className="vm_creativeComponents_progressWrapper",O.width=D.width,O.height=D.height,(O.product==="image"||O.product==="inview"||O.product==="instory")&&(O.width=O.adInstance.settings.container.width,O.product==="image"&&D.scaleToHeight&&(O.height=O.adInstance.settings.container.height)),O.adInstanceSetup(),O.channelEvents(),setTimeout(function(){H({element:_.wrapper,width:_.width,height:_.height})},1),O}return re(L)}(v.Observable);k.prototype.channelEvents=function(){var R=this.options.api.channel,L=I.events.mouse,D=I.events.adunit,H=o.debounce(function(){return R.fire("start")},C),M=o.debounce(function(){return R.fire("stop")},C),O=o.debounce(function(_){_ instanceof Event?v.stopPropagation(_):_&&_.event instanceof Event&&v.stopPropagation(_.event),R.fire("click")},C);this.product==="intext"&&this.adInstance.on(D.open,H),this.adInstance.on(D.close,M),this.adInstance.on(L.in,H),this.adInstance.on(L.out,M),this.adInstance.on("delegate",function(_){_.data.triggerSource==="hover"?H():_.data.triggerSource==="click"&&O()}),this.adInstance.connect(L.adClick,this,L.click),this.on(L.click,O)},k.prototype.adInstanceSetup=function(){var R=this,L=this.options.api.channel;this.adInstance.on("opened",D),this.adInstance.on("closed",H);function D(){L.on("launch",function(M){R.launchCallback(M.data.source)}),R.progressFrame=b.nativeIframe({className:"vm_creativeComponents_progressBar",width:R.width,height:R.height,creative:R.options.progressCreative,api:R.options.api}),R.wrapper.appendChild(R.progressFrame)}function H(){R.options.api.channel.unbindAll(),R.progressFrame.parentNode.removeChild(R.progressFrame)}};function N(S,R,L){var D=S.params,H=S.adInstance.product;return S.api.channel=new v.Observable,S.width=H==="adhesion"?T.ADHESION_WIDTH:parseInt(D[H+"BarWidth"],10)||T[H.toUpperCase()+"_WIDTH"]||T.WIDTH,S.height=parseInt(D[H+"BarHeight"],10)||T[H.toUpperCase()+"_HEIGHT"],S.scaleToHeight=D.imageScaleToHeight||!1,S.decoration=o.extend({},{type:"cpeProgressBar",settings:{}},S.params.decoration),new k(S,R,L)}return{create:N,Progress:k}}function f(o,v){var b=function(T,C,k){var N=T.adInstance,S=o.debounce(function(){k(v.logEvents.launchSource.dropin)},250);N.resetDecoration&&N.resetDecoration({decorationType:"cpeDropIn"}),N.on(v.events.mouse.click,S),N.on(v.events.mouse.in,S),N.on("delegate",function(R){R.data.triggerSource==="click"&&S()}),C({element:document.createElement("div"),width:0,height:0})};return{spawn:b}}function a(o,v){u=h(),i=d(Ie,n),l=m(Ie,n,i,u),y=f(Ie,u);var b=o.adInstance,I=o.templateData,T=I.params;b.setBehaviour&&b.setBehaviour("clickThrough",!1);var C=function(S){if(c=g(n,p,i),!S)throw p.auditError({message:"source not defined"});b.product==="intext"&&setTimeout(function(){return b.fire("close")},1),c.create({creative:I.template,adInstance:b,source:S,api:A(o)}).launch()};if((b.product==="adhesion"||b.product==="intext")&&t.platform!=="desktop"&&(T.progressBar=!1),T.progressBar){var k;T.progressCreative?k=T.progressCreative:b.product==="adhesion"?k=u.adhesionCreative:k=u.progressCreative,l.create({progressCreative:k,params:T,adInstance:b,api:A(o)},v,C)}else y.spawn({adInstance:b},v,C)}return{load:a}},tt=100,Zr="vm-hook",qr=function(e,t,r,n,p,s,u){function i(y,w,A){return y.VM=y.VM||{},s(y,w,t,r,n,p,A)}function c(y,w,A){var h=ve(function(){return w.fire("start")},tt),d=ve(function(){return w.fire("stop")},tt),g=y.getDiyValues().nohookclick||!1,m=ve(function(a,o){if(!(o===le.HOOK&&g)){var v=y.getClickDelay();y.mergedCreativeParams.customHookClick&&(a instanceof Event?n.stopPropagation(a):a&&a.event instanceof Event&&n.stopPropagation(a.event),He(y.openTime,v,function(){return w.fire("click")}))}},tt),f=function(o){var v=o.data instanceof MouseEvent?o.data:o.data.event,b=v.target.className===Zr?le.HOOK:le.AD;m(v,b)};y.on(y.EVENT_OPENED,h),y.on(y.EVENT_MOUSEIN,h),y.on(y.EVENT_CLOSED,d),y.on(y.EVENT_MOUSEOUT,d),y.on(y.EVENT_CLICK,f),y.on(y.EVENT_CLOSED,function(){w.unbindAll(),A.parentNode&&A.parentNode.removeChild(A)}),y.on(y.EVENT_DELEGATE,function(a){a.data.triggerSource==="hover"?h():a.data.triggerSource==="click"&&m()})}function l(y,w){var A=y.adInstance,h=y.templateData,d=y.channel||new n.Observable,g=A.getAd(),m=A.getAdConfig(),f=K({},{product:A.product,hookId:m.vibrantParameters.hookId,setId:m.vibrantParameters.setId,keyword:encodeURIComponent(m.term&&m.term.keyword||""),timestamp:+new Date,clickUrl:g.clickUrl,source:le.AD},g.creative.diyValues||{});A.mergedCreativeParams=K({},g.creative.diyValues||{},g.creative.setValues||{},h.params);var a=K({},A.mergedCreativeParams,{clickUrl:p.getUrl("clickThrough",f)}),o=A.isResponsive(),v=o?{}:{width:a.width,height:a.height},b=r.createIFrame(v,function(I,T){var C="";try{C=decodeURIComponent(h.template)}catch(j){console.log("decodeURIComponent failed:"+j)}if(a.customSrc){var k={};t.apiHost&&(k.apiHost=encodeURIComponent(t.apiHost));var N="cdn.videoplayerjs",S=t.get(N,null);S&&(k.videoPlayerUrl=S),t.ipid&&(k.ipid=t.ipid),t.urlHash&&(k.urlHash=t.urlHash),t.pvu&&(k.pvu=t.pvu);for(var R=new URL(a.customSrc),L=new URLSearchParams(R.search),D=0,H=Object.entries(k);D<H.length;D++){var M=xe(H[D],2),O=M[0],_=M[1];L.append(O,_)}for(var x=0,U=Object.entries(a);x<U.length;x++){var F=xe(U[x],2),W=F[0],z=F[1];L.append(W,z)}T.src="".concat(R.origin,"?").concat(L.toString())}else T.creativeAPI={adInstance:A,channel:d,config:t,dom:r,events:n,log:p,utils:Ie,videoplayer:i,template:{id:h.id,params:a,template:h.template},window:e,document},A.delayLoad?(T.contentWindow.contents=u.getIframeLoadingSrc(),T.src="javascript:window['contents']",A.on(A.DELAYED_LOAD,function(){T.contentWindow.contents=C,T.src="javascript:window['contents']",A.delayLoad=!1})):(T.contentWindow.contents=C,T.src="javascript:window['contents']");A.mergedCreativeParams.customHookClick||A.on(A.EVENT_CLICK,function(){var j=A.getDiyValues().nohookclick||!1;if(!j){var q=function(){return p.clickThrough(K(f,{source:le.HOOK}))};He(A.openTime,A.getClickDelay(),q)}}),c(A,d,T)});w({width:a.width,height:a.height,element:b})}return{load:l}},Jr=function(e){var t="cpeProgressBar",r={inline:n,daw:n,adhesion:n,image:n,inview:n,instory:n,tooltip:n,adbar:n,fallback:n};function n(s,u,i){var c=s.getAd(),l=c.creative,y=l.diyValues||{},w=i,A=c.hook||{},h=l.creativeType,d=s.template.template?s.template.template.trim():"";return y.VastAdTagUri||y.vpaid||(y.vast||s.template.params.vast)&&!d.length?{creative:e.video.create(s),decoration:w}:h==="c2s"||s.template.params.c2s?{creative:e.c2s.create(s),decoration:w}:s.template.params.isCPE?(u!=="inview"&&(w=t),{creative:e.cpe.create(s),decoration:w}):s.template.params.isCustom?(u==="adbar"&&(w="image"),{creative:e.custom.create(s),decoration:w}):y.iframe||y.bidder?{creative:e.banner.create(s),decoration:w}:(A&&A.isHibu&&(w="legacyadhesion"),u==="adbar"&&(w="image"),{creative:e.standard.create(s),decoration:w})}function p(s,u,i){return(r[u]||r.fallback)(s,u,i)}return{select:p,creatives:e}},$r=function(e,t,r,n){var p=200;function s(u){var i,c,l=u.template.params,y=l.scaleToWidth?!!parseInt(l.scaleToWidth,10):null,w=u.getDiyValues().nohookclick||!1;return u.product==="image"&&y!==!1||y?(i=u.settings.container&&u.settings.container.width||parseInt(l.width,10),l.scaleToHeight?c=u.settings.container&&u.settings.container.height||parseInt(l.height,10):c=parseInt(l.height,10)):(i=parseInt(l.width,10),c=parseInt(l.height,10)),e.create({width:i,height:c,load:function(){var h=u.getAd(),d=u.getAdConfig(),g=document.createElement("div");g.setAttribute("data","container-div");var m=u.isResponsive();u.mergedCreativeParams=K({},h.creative.diyValues||{},h.creative.setValues||{},l);var f={product:u.product,hookId:d.vibrantParameters.hookId,setId:d.vibrantParameters.setId,keyword:encodeURIComponent(d.term&&d.term.keyword||""),timestamp:+new Date,clickUrl:h.clickUrl},a=K({},f,u.mergedCreativeParams,{clickUrl:r.getUrl("clickThrough",K(f,{source:le.AD}))});a.hasOwnProperty("description")&&!!a.description&&(a.description=lt(a.description,p));var o=document.createElement("div");if(o.setAttribute("data","contents-div"),o.innerHTML=u.template.execute(a),o.firstChild.width=i,o.firstChild.height=c,o.firstChild.style&&(m&&u.product!=="intext"?(o.firstChild.style.width="100%",o.firstChild.style.height="100%",o.firstChild.style["max-width"]="100%",o.firstChild.style["max-height"]="100%"):(o.firstChild.style.width=i+"px",o.firstChild.style.height=c+"px",o.firstChild.style["max-width"]=i+"px",o.firstChild.style["max-height"]=c+"px"),o.firstChild.style.margin="0px",o.firstChild.style.padding="0px"),!u.delayLoad)g.appendChild(o);else{var v=document.createElement("div");v.setAttribute("data","loading-div"),v.innerHTML=n.getPageLoadingSrc(),g.appendChild(v),u.on(u.DELAYED_LOAD,function(){g.innerHTML="",g.appendChild(o),u.delayLoad=!1})}function b(I){var T;if(I===le.HOOK&&w)return;T=u.getClickDelay();function C(){r.clickThrough(K(f,{source:I}))}He(u.openTime,T,C)}t.bind(g,"click",function(){b(le.AD)}),u.on(u.EVENT_CLICK,function(){b(le.HOOK)}),u.on("delegate",function(I){I.data.triggerSource==="click"&&b(I.data.source)}),u.fire("loaded",g)}})}return{create:s}},en=function(e,t){var r=3,n=500,p=3;function s(i,c){var l=0;return function y(){window.setTimeout(function(){if(c.contentWindow&&c.contentWindow.pbCall)i.fire("close",Z.FORCE);else if(c.contentDocument&&c.contentDocument.body&&c.contentDocument.body.childNodes.length>=r)return;++l<p?y():i.fire("close",Z.FORCE)},n)}}function u(i){return e.create({width:parseInt(i.settings.ads[0].width,10),height:parseInt(i.settings.ads[0].height,10),load:function(){var l=document.createElement("script");l.type="text/javascript",l.src=i.template.id;var y=t.createIFrame({width:i.settings.ads[0].width,height:i.settings.ads[0].height},function(w,A){A.contentWindow.contents=l.outerHTML,A.src="javascript:window['contents']",setTimeout(s(i,A),1)});i.fire("loaded",y)}})}return{create:u}},tn=function(e,t,r,n,p,s,u){function i(c){var l=c.template.params,y=c.getDiyValues().nohookclick||!1;if(c.getDiyValues().bidder&&c.getDiyValues().zoneId){var w=p.getBid(c.getDiyValues().bidder,c.getDiyValues().zoneId);if(w){l.width=w.width,l.height=w.height;var A=c.getAd();A&&(A.creative.diyValues.iframe=w.scriptTag,A.creative.diyValues.zoneId=w.zoneId)}else{s.info("Header bidding: No valid impressions available for: Bidder: "+c.getDiyValues().bidder+"ZoneId: "+c.getDiyValues().zoneId);return}}return e.create({width:parseInt(l.width,10),height:parseInt(l.height,10),load:function(){var d=c.getAd(),g=c.getAdConfig(),m=1,f={product:c.product,hookId:g.vibrantParameters.hookId,setId:g.vibrantParameters.setId,keyword:encodeURIComponent(g.term&&g.term.keyword||""),timestamp:+new Date,clickUrl:d.clickUrl},a=t.createIFrame({width:l.width,height:l.height,fixMaxDimensions:!0},function(v,b){var I=n.getBoolean("partner.image.scaletofit",!0);if(c.product==="image"&&c.settings&&c.settings.container&&I){var T=c.settings.container.width,C=d.width;T&&C&&C>T&&(m=T/C)}m!==1&&(t.transformOrigin(b,"bottom left"),t.transformScale(b,m,m));var k=d.creative.diyValues.iframe;if(k=k?ce(k,l):"",!c.delayLoad)b.contentWindow.contents=k,b.src="javascript:window['contents']";else{var N=u.getIframeLoadingSrc();b.contentWindow.contents=N,b.src="javascript:window['contents']",c.on(c.DELAYED_LOAD,function(){b.contentWindow.contents=k,b.src="javascript:window['contents']",c.delayLoad=!1})}});function o(v){var b;if(v===le.HOOK&&y)return;b=c.getClickDelay();function I(){r.clickThrough(K(f,{source:v}))}He(c.openTime,b,I)}d.clickUrl&&(c.on(c.EVENT_CLICK,function(){o(le.AD)}),c.on("delegate",function(v){v.data.triggerSource==="click"&&o(v.data.source)})),c.fire("loaded",a)}})}return{create:i}},rn=function(e,t){function r(n){var p=n.getAd(),s=parseInt(n.template.params.width,10)||p.width,u=parseInt(n.template.params.height,10)||p.height;return e.create({width:s,height:u,load:function(){var c=n.settings.ads[0].creative.diyValues||{},l=c.vpaid||c.VastAdTagUri||c.vast||n.template.params.vast,y=window.top.location.href?encodeURIComponent(window.top.location.href):"";l=l.replace("{{page_url}}",y),l=l.replace("{{timestamp}}",Date.now()),n.template.params.vast=l,n.template.params.width=s,n.template.params.height=u,t.load({adInstance:n,templateData:n.template},function(w){n.fire("loaded",w.element)},"videoFrame")}})}return{create:r}},nn=function(e,t){function r(n){return e.create({load:function(){var s=this;t.load({adInstance:n,templateData:n.template},function(u){s.width=parseInt(u.width,10),s.height=parseInt(u.height,10),n.fire("loaded",u.element)})}})}return{create:r}},on=function(e,t){function r(n){var p=n.template.params,s=p.scaleToWidth?!!parseInt(p.scaleToWidth,10):null;return n.product==="image"&&s!==!1||s?(p.width=n.settings.container&&n.settings.container.width||parseInt(p.width,10),p.scaleToHeight?p.height=n.settings.container&&n.settings.container.height||parseInt(p.height,10):p.height=parseInt(p.height,10)):(p.width=parseInt(p.width,10),p.height=parseInt(p.height,10)),e.create({load:function(){var i=this;t.load({adInstance:n,templateData:n.template},function(c){i.width=parseInt(c.width,10),i.height=parseInt(c.height,10),n.fire("loaded",c.element)})}})}return{create:r}};function an(E){var e=sn();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function sn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var cn=50,Ht=/\s/,ln=function(e,t,r){r<0&&(r=0);var n=t.charAt(r).toLowerCase(),p=e.charAt(0).toLowerCase(),s=r===0,u=s?n:t.charAt(r-1).toLowerCase(),i=u===p,c=Ht.test(u),l=Ht.test(n),y=t.length>r+1;if(l&&y){var w=t.charAt(r+1).toLowerCase();if(w===p)return r+1}return!s&&(!c||i)?r-1:r},un=function(e,t,r,n,p,s,u){var i=t.get("partner.intext.opendelay",cn),c=t.get("mobile",!1),l="http://www.w3.org/2000/svg",y="M137.996535,223.44073 L301.3926,60.0435213 L302.601093,61.2514423 L301.008651,104.392132 C300.913093,109.117959 304.717673,113.000358 309.444643,113.000358 L328.959634,113.000358 C333.619657,113.000358 337.397343,109.222672 337.397343,104.562649 L337.499195,8.93833461 C337.499195,4.27831154 333.72151,0.500625849 329.061487,0.500625849 L233.437172,0.602478023 C228.777149,0.602478023 224.999464,4.38016372 224.999464,9.04018679 L224.999464,28.5546056 C224.999464,33.2815764 228.881862,37.0867279 233.607689,36.9905977 L276.747807,35.3981562 L277.955728,36.6066494 L114.559091,200.003286 C111.81366,202.749289 111.81366,207.20103 114.559091,209.947034 L128.052788,223.44073 C130.799363,226.186161 135.251104,226.186161 137.996535,223.44073 Z M234.374441,300.499911 C249.90747,300.499911 262.499374,287.908006 262.499374,272.374978 L262.499374,142.42877 C262.499374,136.164861 254.925692,133.027471 250.496267,137.457468 L236.433801,151.519934 C235.297405,152.65633 234.374441,154.883917 234.374441,156.491236 L234.374441,268.859361 C234.374441,270.799702 232.799166,272.374978 230.858825,272.374978 L31.6405496,272.374978 C29.7002084,272.374978 28.1249329,270.799702 28.1249329,268.859361 L28.1249329,69.641086 C28.1249329,67.7007449 29.7002084,66.1254694 31.6405496,66.1254694 L208.578948,66.1254694 C214.843429,66.1254694 217.980819,58.5517875 213.550821,54.1223623 L199.488355,40.0598959 C198.351387,38.9235002 196.124372,38.0005364 194.516481,38.0005364 L28.1249329,38.0005364 C12.5919042,38.0005364 0,50.5924406 0,66.1254694 L0,272.374978 C0,287.908006 12.5919042,300.499911 28.1249329,300.499911 L234.374441,300.499911 Z",w=[],A=function(f){var a=e.createElementNS(l,"svg");a.style.display="inline-block",a.setAttribute("class","vm-hook-icon"),a.setAttribute("width","10px"),a.setAttribute("height","10px"),a.setAttribute("viewBox","0 0 338 301");var o=e.createElementNS(l,"path");o.setAttribute("d",y);var v=f.cloneNode(!0);v.style.visibility="hidden",e.body.appendChild(v);var b=r.getStyle(v);return b&&b.color?o.style.fill=b.color:o.style.fill="#2AA02A",e.body.removeChild(v),a.append(o),a},h=function(m){oe(a,m);var f=an(a);function a(o,v,b){var I;te(this,a),I=f.call(this);var T=ae(I),C=null,k={},N={},S;if(I.textNodeId=b,I.hookClickActive=!0,I.liveLookupFailsShowUnderlyingAd=!0,I.waterfallOverrideAllowed=!0,v.ads&&v.ads.length!==0&&v.ads[0].creative){var R,L=v.ads[0].creative;k=(R=L.payload)===null||R===void 0?void 0:R.params,N=K({},L.diyValues||{},L.setValues||{},k),(N.disableLiveLookup===1||N.disableLiveLookup==="1")&&(I.waterfallOverrideAllowed=!1)}I.isKeywordOnly=N.keywordOnly,v.product=p[v.vibrantParameters.product];var D=N.clickUrl||"",H=(v.ads[0]||{}).clickUrl||D;return I.hookClickable=!!H.length,I.createHookElement(v,N,o),I.adConfig=v,I.id=v.vibrantParameters.hookId,I.triggered=!1,I.hookCursorStyle=null,I.isKeywordOnly?(n.bind(I.domNode,"click",function(M){n.stopPropagation(M);var O=K({},{source:N.keywordOnlySource||301,hookId:(v.vibrantParameters||{}).hookId||"",setId:(v.vibrantParameters||{}).setId||"",keyword:(v.term||{}).keyword||"",clickUrl:v.clickUrl||"",product:v.product||"",timestamp:new Date,pvu:t.pvu,urlHash:t.urlHash,ipid:t.ipid},N||{}),_=s.getUrl("clickThrough",O),x=O.clickUrl.split("?"),U=x.length===2?x[0]+"?params="+btoa(JSON.stringify(O)):"",F=_.split("?");if(F.length===2){var W=F[0]+"?url="+encodeURIComponent(U);r.openUrl(W)}}),n.bind(I.domNode,"mouseenter",function(){T.hookCursorStyle&&T.domNode&&(T.domNode.style.cursor=T.hookCursorStyle)})):c?n.bind(I.domNode,"click",function(M){n.stopPropagation(M),T.hookClickable&&T.hookClickActive&&T.fire(Ce,{hook:T,event:M})}):(n.bind(I.domNode,"mouseenter",function(M){window.clearTimeout(C),C=window.setTimeout(function(){C=null,T.fire(Ne,{hook:T,event:M}),S||(S=n.bind(T.domNode,"click",function(O){n.stopPropagation(O),T.hookClickable&&T.hookClickActive&&T.fire(Ce,{hook:T,event:O})}))},i),T.hookCursorStyle&&T.domNode&&(T.domNode.style.cursor=T.hookCursorStyle)}),n.bind(I.domNode,"mouseleave",function(M){S&&(S(),S=null),C?(window.clearTimeout(C),C=null):T.fire(_e,{hook:T,event:M})})),I}return re(a)}(n.Observable);h.prototype.createHookElement=function(f,a,o){var v=e.createElement("span");if(v.className="vm-hook-outer",a.hookTooltipText){var b="",I,T;try{I=K(f.vibrantParameters,a),T=ce(a.hookTooltipText,I),b=decodeURIComponent(T)}catch(z){console.warn("Unable to add tooltip text to hook:"),console.warn(z)}v.title=b}var C=e.createElement("span");C.className="vm-hook",r.setTextContent(C,o),v.appendChild(C);var k=!0;if(f.product==="instory"){var N=t.get("partner.instory.hook.show",null);if(N===null){var S=a.instoryShowHook;k=!!S}else{var R=parseInt(N,10);R===0?k=!1:(R===1||u.warn("Invalid show hook value ("+N+"), defaulting to true"),k=!0)}}var L=t.get("partner.hook.style.custom",null),D=!t.get("partner.hook.icon.hidden",!1);if(k){var H;if(L)this.hookClickable&&D&&(H=A(C),v.appendChild(H));else{var M=f.product,O=M.charAt(0).toUpperCase()+M.slice(1),_="custom"+O+"HookStyle",x=a[_]||a.customIntextHookStyle,U="partner."+M+".hook.customstyle",F=t.get(U,null)||x,W=F&&F.length!==0;W?C.style.cssText=F:(v.className+=" vm-hook-default",C.style.color="#009900",C.style.borderColor="transparent transparent #009900"),this.hookClickable&&D&&(a.customHookIcon&&a.customHookIconWidth?(H=e.createElement("span"),H.className="vm-hook-icon",H.style.display="inline-block",H.style.backgroundImage="url("+a.customHookIcon+")",H.style.height="16px",H.style.width=a.customHookIconWidth+"px",H.style.verticalAlign="middle",H.style.marginLeft="2px"):H=A(C),v.appendChild(H))}}else!k&&L&&(C.className+=" vm-hook-reset");a.hookCursorStyle?C.style.cursor=a.hookCursorStyle:C.style.cursor=this.hookClickable?"pointer":"text",this.domNode=v},h.prototype.getId=function(){return this.id},h.prototype.getProduct=function(){return this.adConfig.product},h.prototype.getDomNode=function(){return this.domNode},h.prototype.getPosition=function(){return r.getPosition(this.domNode)},h.prototype.getAdConfig=function(){return this.adConfig},h.prototype.getCreativePayload=function(){var f;return this.adConfig&&this.adConfig.ads&&this.adConfig.ads.length&&this.adConfig.ads[0].creative&&(f=this.adConfig.ads[0].creative.payload),f},h.prototype.getWaterfallOverrideAllowed=function(){return this.waterfallOverrideAllowed},h.prototype.resetWaterfallOverrideAllowed=function(){this.waterfallOverrideAllowed=!1},h.prototype.removeStyling=function(){this.domNode.classList.remove("vm-hook-default");var f=this.domNode.getElementsByClassName("vm-hook")[0];f&&f.removeAttribute("style");var a=this.domNode.getElementsByClassName("vm-hook-icon")[0];a&&a.removeAttribute("style")},h.prototype.setTriggered=function(){this.triggered=!0},h.prototype.hasBeenTriggered=function(){return this.triggered},h.prototype.isInViewport=function(){return r.getAbsoluteViewport().contains(this.getPosition())},h.prototype.isInViewportArea=function(f){var a=r.getAbsoluteViewport();return f=f||1,a.bottom=r.getWinHeight()*f+r.getScrollY(),a.contains(this.getPosition())},h.prototype.getParagraph=function(){return r.findParentParagraph(this.domNode)},h.prototype.getParagraphPosition=function(){return r.getPosition(this.getParagraph())},h.prototype.setCursorStyle=function(f){this.hookCursorStyle=f,this.hookCursorStyle&&this.domNode&&(this.domNode.style.cursor=this.hookCursorStyle)};var d=function(f,a){var o=f.getDomNode();if(!o.parentNode)return null;var v=o.data;if(!v)return null;var b=v.toLowerCase(),I=st(a.term.keyword);I=I.toLowerCase();var T=`(^|\\s|"|\\')`.concat(I.toLowerCase(),`($|\\s|\\.|,|\\?|!|"|\\')`),C=new RegExp(T,"m").exec(b);if(!C||C.length===0)return null;var k=b.charAt(C.index),N=I.charAt(0),S=N===" "||k!==N,R=C.index+(S?1:0);R=ln(I,v,R);var L=R+I.length,D=v.substring(R,L),H=new h(D,a,f.id),M=e.createDocumentFragment();return M.appendChild(e.createTextNode(v.substring(0,R))),M.appendChild(H.getDomNode()),M.appendChild(e.createTextNode(v.substring(L))),o.parentNode.replaceChild(M,o),f.addHook(H),f.updateDomNode(H.getDomNode()),w.push(H),H},g=function(f){return w.filter(function(a){var o=r.isInViewport(a.getDomNode());return f?f===a.getAdConfig().product&&o:o})};return{create:d,getVisibleHooks:g,Hook:h}},Ce="vm:hookclick",Ne="vm:hookin",_e="vm:hookout",dn=function(e,t,r){var n=1,p=200,s=150,u={"300x250":!0,"300x600":!0},i=.8;function c(w){var A=this,h;this.id=n++,this.image=w,this.locked=!1,w.width>0&&w.height>0?this.allowed=y(w):(this.allowed=!1,w.complete||(h=t.bind(w,"load",function(){A.allowed=y(w),h()})))}c.prototype.getId=function(){return this.id},c.prototype.getDomNode=function(){return this.image},c.prototype.getWidth=function(){return this.image.width},c.prototype.getHeight=function(){return this.image.height},c.prototype.isAvailable=function(){return this.allowed&&!this.locked},c.prototype.lock=function(){this.locked=!0},c.prototype.setAdUnit=function(A){this.adUnit=A},c.prototype.hasAdUnit=function(){return!!this.adUnit},c.prototype.getPosition=function(){return e.getPosition(this.image)},c.prototype.getArea=function(){return this.getPosition().getArea()},c.prototype.isInViewport=function(){var A,h;return this.adUnit&&this.adUnit.isReady()?this.adUnit.isInViewport():(A=this.getPosition(),h=this.getHeight(),A.top=A.top+h*i,!!e.getAbsoluteViewport().contains(A))},c.prototype.isVisible=function(){return e.isVisible(this.image,{overflowCheck:!0})};function l(w){var A=[],h=w,d=function(){var m=r.getArray("partner.image.nohooknodes",[]);return m.length>0&&(m=m.filter(function(f){return f!==""})),m}();je(h)||(h=document.querySelectorAll(w));function g(m){if(m.nodeType===Te){if(d.length>0&&e.matchesSelector(m,d))return;if(m.tagName.toUpperCase()==="IMG"){A.push(new c(m));return}Array.from(m.childNodes).forEach(g)}}return Array.from(h).forEach(g),A}function y(w){var A=w.width,h=w.height;return w.width>=p&&w.height>=s&&!u[A+"x"+h]}return{ImageNode:c,findImages:l}},fn=function(e){var t=1;function r(u){this.id=t++,this.domNode=u,this.available=!0}r.prototype.getId=function(){return this.id},r.prototype.getDomNode=function(){return this.domNode},r.prototype.getWidth=function(){return e.getPosition(this.domNode).getWidth()},r.prototype.isBelowWaterline=function(){return e.getPosition(this.domNode).bottom>=e.getAbsoluteViewport().bottom},r.prototype.isAvailable=function(){return this.available},r.prototype.lock=function(){this.available=!1};function n(u){var i=u.textContent;return typeof i=="undefined"&&(u.nodeType===De?i=u.data:i=u.innerText),i.replace(/\s+/,"").length}function p(u){return Array.from(u.childNodes).some(function(i){return i.nodeType===De&&n(i)>0})}function s(u){var i=document.querySelectorAll(u.selectors),c=[];return Array.from(i).forEach(function(l){var y=l.querySelectorAll(u.paragraphselectors);Array.from(y).forEach(function(w){var A,h=e.getPosition(w);!h||h.getWidth()<u.adwidth||!p(w)||n(w)<u.mincontentlength.above||(A=e.nextElementSibling(w),!(A===null||n(A)<u.mincontentlength.below)&&c.push(new r(w)))})}),c}return{findParagraphs:s,Paragraph:r}},vn=function(e){var t=1;function r(p){this.id=t++,this.domNode=p,this.available=!0}r.prototype.getId=function(){return this.id},r.prototype.getDomNode=function(){return this.domNode},r.prototype.getWidth=function(){return e.getPosition(this.domNode).getWidth()},r.prototype.isBelowWaterline=function(){return!1},r.prototype.isAvailable=function(){return this.available},r.prototype.lock=function(){this.available=!1};function n(p){var s=document.querySelectorAll(p.selectors),u=[];return Array.from(s).forEach(function(i){u.push(new r(i))}),u}return{findElements:n,SimpleElementNode:r}},pn=function(){var e={SCRIPT:!0,NOSCRIPT:!0,CANVAS:!0,CODE:!0,OBJECT:!0,PROGRESS:!0,SOURCE:!0,VIDEO:!0,STYLE:!0,SELECT:!0},t="nointellitxt";function r(p,s,u){this.id=ct(s),this.domNode=p,this.textContent=s,this.hyperlink=u,this.status=r.AVAILABLE,this.hooks=[]}r.AVAILABLE=0,r.IN_FLIGHT=1,r.LOCKED=2,r.prototype.getId=function(){return this.id},r.prototype.getDomNode=function(){return this.domNode},r.prototype.updateDomNode=function(p){this.domNode=p},r.prototype.isHyperlink=function(){return this.hyperlink},r.prototype.getTextContent=function(){return this.textContent},r.prototype.getStatus=function(){return this.status},r.prototype.setStatus=function(p){this.status=p},r.prototype.getHooks=function(){return this.hooks},r.prototype.addHook=function(p){this.hooks.push(p)};function n(p){var s=[],u=p;je(u)||(u=document.querySelectorAll(p));function i(c,l){var y,w;if(c.nodeType===De)y=c.data.trim(),y.length>0&&s.push(new r(c,y,l));else if(c.nodeType===Te){if(w=c.tagName.toUpperCase(),e[w]||c.className&&c.className.toLowerCase&&c.className.toLowerCase().split(/\s+/).includes(t)||c.id&&c.id.toLowerCase&&c.id.toLowerCase()===t)return;Array.from(c.childNodes).forEach(function(A){i(A,l||w==="A")})}}return Array.from(u).forEach(function(c){i(c,!1)}),s}return{TextNode:r,findTextNodes:n}};function hn(E){var e=gn();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function gn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var mn=function(e){var t={TRIGGER:"trigger"},r=function(n){oe(s,n);var p=hn(s);function s(u){var i;return te(this,s),i=p.call(this),i.minScroll=u.getInteger("minscroll",0),i.triggered=!1,i}return re(s)}(e.Observable);return r.prototype.initialise=function(p){var s=this;p.on(t.TRIGGER,function(i){var c=i.data,l=c.scroll||0;!s.triggered&&l>=s.minScroll&&s.fire(t.TRIGGER,{viewSource:c.viewSource||ne.SCROLL,scroll:l})})},r};function yn(E){var e=wn();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function wn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var An=function(e){var t={TRIGGER:"trigger"},r=function(p){oe(u,p);var s=yn(u);function u(i){var c;return te(this,u),c=s.call(this),c.config=i,c.images=[],c}return re(u)}(e.Observable);r.prototype.initialise=function(p){p.on(Ze,function(s){this.images.push.apply(this.images,s.data.images)},this),p.on(ke,function(){n(this,ne.LOAD)},this),p.on(pe,function(){n(this,ne.SCROLL)},this)};function n(p,s){var u=[],i=p.config.getInteger("maxhooks",1);p.images.forEach(function(c){!c.isInViewport()||(c.isAvailable()?(c.lock(),c.isVisible()&&u.push(c)):c.hasAdUnit()?--i:c.lock())}),!(i<1||u.length===0)&&(u.sort(function(c,l){return l.getArea()-c.getArea()}),p.fire(t.TRIGGER,{hooks:u,maxAds:i,viewSource:s}))}return r};function En(E){var e=bn();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function bn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var kn=function(e,t,r,n,p,s){var u={TRIGGER:"trigger"},i=function(l){oe(w,l);var y=En(w);function w(A){var h;te(this,w),h=y.call(this);var d=ae(h);return h.selectors=A.selectors,h.script=A.script,h.gallery=A.gallery,h.api={channel:new r.Observable,config:t,dom:n,events:r,utils:Ie,selectors:h.selectors,gallery:h.gallery},h.api.channel.on("newImage",function(g){var m=new p.ImageNode(g.data.image);d.fire(u.TRIGGER,{hooks:[m],maxAds:1,viewSource:ne.LOAD,gallery:!0}),m.isInViewport()&&s.forceFlush()}),h.loadScript(),h}return re(w)}(r.Observable);i.prototype.loadScript=function(){var y=this;e.VM.gallery=e.VM.gallery||{},e.VM.gallery.initialise=function(A){A(y.api)},n.appendScript(this.script)};function c(l){var y=l.getArray("selectors",!1),w=l.get("script",!1),A;return!y&&!w||(A=document.querySelector(y),!A)?!1:new i({selectors:y,script:w,gallery:A})}return{GalleryTrigger:i,load:c}};function Tn(E){var e=Cn();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Cn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var In=function(e,t,r){var n={TRIGGER:"trigger"},p=function(s){oe(i,s);var u=Tn(i);function i(c){var l;return te(this,i),l=u.call(this),l.config=c,l}return re(i)}(t.Observable);return p.prototype.initialise=function(s){s.on(ke,function(){var u=e.findParagraphs(this.config);if(this.config.getBoolean("nowaterline"))this.hook=u[0];else for(var i=0,c=u.length;i<c;++i)if(u[i].isBelowWaterline()){this.hook=u[i];break}this.hook||r.notifyFailure("inline")},this),s.on(pe,function(){this.hook&&this.hook.isAvailable()&&!this.hook.isBelowWaterline()&&(this.hook.lock(),this.fire(n.TRIGGER,{hook:this.hook,viewSource:ne.SCROLL}))},this)},p};function Sn(E){var e=On();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function On(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var Nn=function(e,t,r){var n={TRIGGER:"trigger"},p=function(s){oe(i,s);var u=Sn(i);function i(c){var l;return te(this,i),l=u.call(this),l.config=c,l}return re(i)}(t.Observable);return p.prototype.initialise=function(s){s.on(ke,function(){var u=e.findElements(this.config);if(this.config.getBoolean("nowaterline")||1)this.hook=u[0];else for(var i,c;i<c;++i);this.hook||r.notifyFailure("inline"),this.hook&&this.hook.isAvailable()&&!this.hook.isBelowWaterline()&&(this.hook.lock(),this.fire(n.TRIGGER,{hook:this.hook,viewSource:ne.SCROLL}))},this),s.on(bt,function(){var u=e.findElements(this.config);this.hook=u[0],this.fire(n.TRIGGER,{hook:this.hook,viewSource:0})},this)},p};function _n(E){var e=Pn();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Pn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var Rn={TRIGGER:"trigger"},xn=40,Hn=function(e,t,r){var n=e.getInteger("partner.intext.extendviewport",0),p=function(s){oe(i,s);var u=_n(i);function i(c){return te(this,i),u.call(this,c)}return re(i,[{key:"initialise",value:function(l){var y=[],w=function(){return n?function(h){var d=t.getAbsoluteViewport();return d.bottom+=n,!!t.getTextNodeBounds(h).getIntersection(d)}:function(h){return t.isInViewport(h)}}();function A(h,d){var g=Array.from(y).filter(function(m){return w(m.getDomNode())});y.length>0&&h.fire(Rn.TRIGGER,{nodes:g,viewSource:d})}l.on(Ze,function(h){Array.from(h.data.textNodes).forEach(function(d){d.getTextContent().length>=xn&&!d.isHyperlink()&&y.push(d)})},this),l.on(ke,function(){A(this,ne.LOAD)},this),l.on(pe,function(){A(this,ne.SCROLL)},this)}}]),i}(r.Observable);return p};function Ln(E){var e=Dn();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Dn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var Mn=function(e,t,r){var n={TRIGGER:"trigger"},p=function(s){oe(i,s);var u=Ln(i);function i(){var c;te(this,i),c=u.call(this);var l=ae(c);return c.lastScrollY=0,c._isUnderAnimation=!1,c.onAnimationStart=function(){l._isUnderAnimation=!0},c.onAnimationEnd=function(){l._isUnderAnimation=!1},c}return re(i)}(r.Observable);return p.prototype.initialise=function(){e.on(Oe,this.onAnimationStart),e.on(Tt,this.onAnimationStart),e.on(Le,this.onAnimationEnd),e.on(Ct,this.onAnimationEnd),e.on(ke,function(){this.lastScrollY=0,this.fire(n.TRIGGER,{viewSource:ne.LOAD,scroll:0,direction:0})},this),e.on(pe,function(){var u=t.getScrollY(),i=u-this.lastScrollY;this.lastScrollY=u,!this._isUnderAnimation&&this.fire(n.TRIGGER,{viewSource:ne.SCROLL,scroll:u,direction:i})},this)},p};function Bn(E){var e=Vn();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Vn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var Un=function(e,t){var r={TRIGGER:"trigger"},n=250,p=function(s){oe(i,s);var u=Bn(i);function i(){return te(this,i),u.call(this)}return re(i)}(t.Observable);return p.prototype.initialise=function(){var u=this;t.bind(window,"resize",ve(function(){e.fire(yt),u.fire(r.TRIGGER)},n))},p};function Fn(E){var e=Gn();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Gn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var Wn=function(e,t){var r=150,n=function(s){oe(i,s);var u=Fn(i);function i(){var c;return te(this,i),c=u.call(this),c.connect(wt,e),c}return re(i)}(t.Observable);n.prototype.initialise=function(){p(this)};function p(s){t.bind(window,"touchstart",ve(function(i){s.fire(At,i)},r,{leading:!0})),t.bind(window,"touchend",ve(function(i){s.fire(Et,i)},r,{leading:!0}))}return n},zn=function(e,t,r){var n=1,p=2,s=180,u="VM_AUTOREVEAL",i=e.getInteger("global.autoreveal.maxpersession",n),c=e.getInteger("global.autoreveal.maxpertimeframe",p),l=e.getInteger("global.autoreveal.timeframe",s)*1e3,y=e.get("mobile",!1),w=0,A,h={0:new RegExp(/^()/),1:new RegExp(/^internal/),2:new RegExp(/^(?!internal)/)}[2];switch(e.getInteger("partner.autoreveal",0)){case 1:A=!0;break;case 2:A=!y;break;case 3:A=y;break;default:A=!1}var d=r.trackingAllowed()&&r.cookiesAllowed(),g=d&&(typeof localStorage=="undefined"?"undefined":Ae(localStorage))==="object";t.on(ke,function(){w=0});function m(T){g&&(localStorage[u]=T)}function f(){return g&&localStorage[u]||""}function a(){g&&localStorage.removeItem(u)}function o(){var T=-1,C=f();if(!C)return 0;var k=C.split(",");if(k.length===2){var N=Date.now()-parseInt(k[1],10);T=parseInt(k[0],10),!isNaN(N)&&!isNaN(T)&&(T>=c&&N<l&&(T=-1),N>l&&a())}return T}function v(T){var C=T.getAdConfig().ads[0].creative,k=parseInt((C.diyValues||{}).autoreveal,10),N=h.test(C.creativeType)?k!==0:k===1;return T.isInViewport()&&!T.autoOpened&&N&&!T.isKeywordOnly}function b(T,C){var k=C.hooks||[],N=C.viewSource,S;if(!(!A||w>=i||!k.length)&&(S=o(),!(S<0)))for(var R=0;R<k.length;R++){var L=k[R];if(v(L)){T.invoke({hook:L,viewSource:N}),L.autoOpened=!0,w++;var D=[++S,Date.now()].join(",");m(D);break}}}function I(){return A&&w<i}return{autoOpen:b,revealsAllowed:I,getAutorevealData:f,removeAutorevealData:a}};function Yn(E){var e=Qn();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Qn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var jn=function(e,t,r,n,p,s,u){var i=250,c=80,l=!0,y,w="standard",A="redraw",h="hide",d=function(g){oe(f,g);var m=Yn(f);function f(){var a;te(this,f),a=m.call(this);var o=ae(a);a.isUserTouchingTheScreen=!1;var v=ve(function(I){y&&!o.isUserTouchingTheScreen&&y.fire(A,I&&I.data||{})},i,{leading:!1});return a.on(yt,v),a.on(wt,v),a.on(pe,v),a.on(Et,function(I){o.isUserTouchingTheScreen=!1,setTimeout(function(){v(I)},i)}),a.on(At,function(I){o.isUserTouchingTheScreen=!0,y&&!y.outerBox.contains(I.data.target)&&setTimeout(function(){y.fire(h)},c)}),a}return re(f)}(p.Observable);return d.prototype.invoke=function(m){var f=this,a,o,v,b,I,T;if(m.hook?(o=m.hook,a=o.getAdConfig(),I=a.ads[0].creative.value):m.ads&&(a=m.ads,I=a.ads[0].creative.value),b=m.product||"intext",T=m.refresh||{},y&&y.product!=="adhesion"&&b==="adhesion"){m.disableAdCallback();return}v=e.adunit.create({product:b,settings:a,templateSettings:{cdnUrl:"//"+t.cdn.internal,id:I},creativeLoad:function(R){var L=r.waterfall.select(R,"adhesion",w);return w=L.decoration,L.creative},render:k,open:N,close:C}),s.hookLoad({product:b,hookIds:a.vibrantParameters.hookId}),y&&y.product==="adhesion"&&b!=="adhesion"?y.fire("close",Z.FORCE):y&&y.fire("close",Z.AUTO),u.track(v,a.trackers,a.term),v.connect("opened",v,"impression"),v.connect(v.EVENT_CLICK,v,"click"),m.triggerSource&&v.once("opened",function(){v.fire("delegate",{triggerSource:m.triggerSource,source:le.HOOK})}),v.fire("open",m.viewSource),y=v;function C(S,R,L){R===Z.AD&&(l=!1,m.disableAdCallback&&m.disableAdCallback()),R===Z.FORCE&&m.disableAdCallback&&m.disableAdCallback(),s.adClose({product:b,hookId:S.settings.vibrantParameters.hookId,source:R||Z.AUTO}),T.enabled&&R===Z.AUTO&&window.setTimeout(function(){f.fire("fetchAd",{viewSource:m.viewSource,forceFlush:!0})},T.delay),L()}function k(S,R){S.position=new e.position.Fixed({bottom:0,left:0},{animate:!0}),R(null,S)}function N(S,R,L){if(l){S=e.decoration.decorate(S,{decorationType:w});var D=S.outerBox,H=D.querySelector(".vm-adunit-content"),M=D.querySelector(".vm-adunit-body");p.bindConnect(H,"click",v,v.EVENT_CLICK),H.style.backgroundColor="rgba(0, 0, 0, 0.3)",H.style.width=window.innerWidth+"px",M.style.margin="auto",S.on(h,function(){D.style.display="none",D.style.visibility="hidden"}),S.on(A,function(){var _=n.getWinWidth(),x=n.getWinHeight(),U=window.screen&&window.screen.availHeight||x,F=n.getScrollX(),W=n.getScrollY(),z=n.getStyle(D),j=parseFloat(z.height).toFixed(1),q=window.outerWidth/window.innerWidth,X={width:_,height:j};if(q>1.45){S.fire(h);return}else q<1.1?(D.style.position="fixed",D.style.top="auto",D.style.left="0px",D.style.bottom="0px",D.style.transform="",H.style.width=window.innerWidth+"px"):(D.style.position="absolute",D.style.left=F+"px",D.style.bottom="auto",D.style.transform=["scaleY(",parseFloat(Math.pow(x,1.1)/(U*1.1)).toFixed(3),")"].join(""),D.style.top=[8+x+W-X.height*1.3,"px"].join(""),H.style.width=X.width+"px");D.style.width=X.width+"px",D.style.height=X.height+"px",D.style.display="block",D.style.visibility="visible",M.style.margin="auto"})}s.adImpression({product:b,hookId:S.settings.vibrantParameters.hookId,setId:S.settings.vibrantParameters.setId,source:R}),L(),T.enabled&&window.setTimeout(function(){S.fire("close")},T.interval)}},d};function Kn(E){var e=Xn();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Xn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var Zn=function(e,t,r,n){var p=1,s=n.getBoolean("partner.adhesion.refresh",!0),u=n.getInteger("partner.adhesion.refreshtime",30*1e3),i=1500,c=!0,l=function(y){oe(A,y);var w=Kn(A);function A(h){var d;return te(this,A),d=w.call(this),d.fetchFormat=h.fetchFormat,d}return re(A)}(r.Observable);return l.prototype.invoke=function(w){var A=this;if(!c)return;function h(){c=!1}e.request("adhesion",{ids:[ce(A.fetchFormat,{id:p})],count:1},function(d){!d.hasOwnProperty(p)||A.fire("adsReady",{ads:d[p][0],product:"adhesion",viewSource:w.viewSource,disableAdCallback:h,refresh:{enabled:s,interval:u,delay:i}})}),w.forceFlush&&e.forceFlush()},l},qn=function(e,t,r){var n=t.getInteger("partner.adbar.cuid",!1),p="//aka-cdn-ns.adtech.de/dt/common/DACLoader.js";function s(){var i=document.createElement("div");i.id=n,i.setAttribute("data-adtech",""),document.body.appendChild(i),e.ADTECH=e.ADTECH||{},r.appendScript(p,function(){!e.ADTECH.loadAd||e.ADTECH.loadAd({protocol:e.location.protocol.split(":")[0],server:"adserver.adtech.de",network:"82.0",placement:n})})}function u(){n&&s()}return u},Jn=function(e,t,r,n,p,s,u){var i=1,c="adbar",l=480,y=270,w=r.getInteger("partner.adbar.width",l),A=r.getInteger("partner.adbar.height",y),h=r.get("partner.adbar.position",!1),d="standard";function g(){}return g.prototype=new p.Observable,g.prototype.invoke=function(f){var a=document.body.clientWidth,o=a>=w?w:a,v=navigator.userAgent.indexOf("Mobi")!==-1;e.request(c,{ids:[i+":"+o+":"+A],count:1},function(k){var N,S;if(!!k.hasOwnProperty(i)&&(S=k[i][0],S.container={width:document.body.clientWidth},N=t.adunit.create({product:c,settings:S,templateSettings:{cdnUrl:"//"+r.cdn.internal,id:S.ads[0].creative.value},creativeLoad:b,render:I,open:T,close:C}),s.hookLoad({product:c,hookIds:S.vibrantParameters.hookId}),u.track(N,S.trackers,S.term),N.connect("opened",N,"impression"),N.connect(N.EVENT_CLICK,N,"click"),N.fire("open",f.viewSource),v)){var R=window.innerHeight,L=window.innerWidth,D=S.ads[0].creative.payload.params.height,H=S.ads[0].creative.payload.params.width,M=Math.floor(R*.3),O=L,_=H/(D+23);D>M&&(O=Math.floor(M*_)),O>L&&(O=L),N.scaleToFit(O,L)}});function b(k){var N=n.waterfall.select(k,"adbar",d);return d=N.decoration,N.creative}function I(k,N){var S={bottom:0},R=k.template.params,L=k.getAd(),D=L.creative.diyValues||{};h&&!R.scaleToWidth&&(S[h]=10),k.position=new t.position.Fixed(S,{animate:!0,controlledOpen:!!D.controlledOpen}),N(null,k)}function T(k,N,S){var R=k.getAd(),L=R.creative.diyValues||{};k=t.decoration.decorate(k,{decorationType:d});function D(){s.adImpression({product:k.product,hookId:k.settings.vibrantParameters.hookId,setId:k.settings.vibrantParameters.setId,source:N})}L.controlledOpen?k.on(k.CONTROLLED_OPEN,D):D(),S()}function C(k,N,S){s.adClose({product:k.product,hookId:k.settings.vibrantParameters.hookId,source:N||Z.AUTO}),S()}},g},$n=function(e){for(var t=e.getJSON("scripts",[]),r,n=document.head||document.getElementsByTagName("head")[0],p=0;p<t.length;p++)if(t[p].source==="captify"){r=t[p].pixel;break}var s=ue(function(c){var l=(c||[]).map(function(w){return w.getAdConfig().term.keyword}).join(" "),y=document.createElement("script");y.type="text/javascript",y.async=!0,y.text=r.replace("${KEYWORDS}",l),n.appendChild(y)});function u(i){r&&s(i.hooks)}return{invoke:u}},ei=function(e,t,r,n,p,s){var u="dropin";function i(){}return i.prototype=new n.Observable,i.prototype.invoke=function(l){var y=l.hook,w=y.getAdConfig(),A=y.getProduct(),h=e.adunit.create({product:A,settings:w,templateSettings:{cdnUrl:"//"+t.cdn.internal,id:w.ads[0].creative.value},creativeLoad:function(a){var o=r.waterfall.select(a,"dropin",u);return u=o.decoration,o.creative},render:g,open:m,close:d});p.hookLoad({product:h.product,hookIds:w.vibrantParameters.hookId}),s.track(h,w.trackers,w.term),h.connect("opened",h,"impression"),h.connect(h.EVENT_CLICK,h,"click"),l.triggerSource&&h.once("opened",function(){h.fire("delegate",{triggerSource:l.triggerSource,source:le.HOOK})}),h.fire("open",l.viewSource);function d(f,a,o){a===Z.AD&&l.disableAdCallback&&l.disableAdCallback(),p.adClose({product:f.product,hookId:f.settings.vibrantParameters.hookId,source:a||Z.AUTO}),o()}function g(f,a){f.position=new e.position.Fixed({bottom:0},{animate:!1}),a(null,f)}function m(f,a,o){f=e.decoration.decorate(f,{decorationType:u}),p.adImpression({product:f.product,hookId:f.settings.vibrantParameters.hookId,setId:f.settings.vibrantParameters.setId,source:a}),o()}},i},ti=function(e,t){var r=e.platform==="mobile"?250:400,n=250,p="tt-wrapper",s=["img","div","iframe"],u=e.getArray("partner.inview.blockednodes",s),i=e.get("partner.inview.avoid",null),c=e.getBoolean("partner.inview.collisiondetect",!0),l=e.getInteger("partner.inview.collisionoffset",10),y=e.get("partner.inview.blockbyparent",null);return function(A){var h={allowed:!1,width:null},d,g,m,f,a;return!t.isElement(A)||(d=t.getTextNodeBounds(A),g=d.getWidth(),g<r)||e.get("partner.inviewscrollmod",!1)&&(m=d.bottom,f=t.getScrollY()+window.innerHeight,m>f-n)||t.elementHasNodes(A,u)||y&&t.parentHasSelector(A,y.split(","))||c&&t.detectCollisions(A,l)||(a=t.nextElementSibling(A),a&&(a.className.indexOf(p)!==-1||i&&t.matchesSelector(a,i)))?h:{allowed:!0,width:g}}},ri=function(e,t,r,n,p,s,u,i,c,l){var y=100,w=1e3,A=1.2,h,d=t.getBoolean("partner.inview.closeonopen",!1),g=-1,m=t.get("partner.inview",{});function f(){var a=this;this.activeHook=null,this.activeUnit=null,d&&i.on(kt,function(){a.closeOpenUnits()})}return f.prototype=new p.Observable,f.prototype.processNode=function(o,v,b){var I=o.getDomNode(),T=n.findParentParagraph(I),C=c(T),k,N;C.allowed&&(k=C.width,N=t.getBoolean("partner.inview.scaletofit",!0),N&&(k*=A),b({node:o,id:v,width:Math.floor(k)}))},f.prototype.closeOpenUnits=function(){this.activeUnit&&(h=this.activeUnit.getPosition(),this.activeUnit.fire("close",Z.AUTO))},f.prototype.invoke=function(o){var v=this,b=o.hook,I=b.getAdConfig();if(b===this.activeHook&&this.activeUnit.isOpen())return;var T=t.getInteger("programmaticOverride",0);if(T&&b.getWaterfallOverrideAllowed()){l.getAdForHook(b,function(D){if(D){var H=b.id,M=I.vibrantParameters.adProviderId,O=D.vibrantParameters.hookId,_=D.vibrantParameters.adProviderId;s.hookLoad({product:"inview",hookIds:O}),s.hookReplacement({product:"inview",oldHookId:H,newHookId:O,oldAdProviderId:M||-1,newAdProviderId:_||-1,reason:Je.OVERRIDE}),b.adConfig=D,b.id=O,o.adConfig=D}(D||b.liveLookupFailsShowUnderlyingAd)&&(b.resetWaterfallOverrideAllowed(),v.invoke(o),b.hookClickActive=!0)});return}var C="inview";I.container={width:b.getParagraphPosition().getWidth()},I.autoCloseDelay=m.getInteger("autoclosedelay",g);var k=e.adunit.create({product:"inview",settings:I,templateSettings:{cdnUrl:"//"+t.cdn.internal,id:I.ads[0].creative.value},creativeLoad:function(H){var M=r.waterfall.select(H,"inview",C);return C=M.decoration,M.creative},render:S,open:R,close:N});u.track(k,I.trackers,I.term),k.connect("opened",k,"impression"),k.connect(k.EVENT_CLICK,k,"click"),I.autoCloseDelay!==g&&(k.on(k.EVENT_MOUSEOUT,function(){k.fire(k.EVENT_SCHEDULE_CLOSE,Z.AUTO)}),k.on(k.EVENT_MOUSEIN,k.cancelScheduledClose)),b.connect(Ne,k,k.EVENT_MOUSEIN),b.connect(_e,k,k.EVENT_MOUSEOUT),b.connect(Ce,k,k.EVENT_CLICK),!t.mobile&&o.triggerSource&&k.once("opened",function(){k.fire("delegate",{triggerSource:o.triggerSource,source:le.HOOK})}),this.closeOpenUnits(),k.fire("open",o.viewSource),this.activeHook=b,this.activeUnit=k;function N(D,H,M){b.disconnectAll(k),s.adClose({product:D.product,hookId:D.settings.vibrantParameters.hookId,source:H||Z.AUTO}),M()}function S(D,H){D.position=new e.position.Inview(b),H(null,D)}function R(D,H,M){var O=n.getAbsoluteViewport(),_,x=function(){var F=0;return!h||h.top>D.position.hook.getPosition().bottom||(F=h.getHeight(),h=null),F}();D=e.decoration.decorate(D,{decorationType:C}),L(D),s.adImpression({product:D.product,hookId:D.settings.vibrantParameters.hookId,setId:D.settings.vibrantParameters.setId,source:H}),t.getBoolean("mobile",!1)?_=k.getPosition().top+k.getHeight()/2-(O.top+O.bottom)/2-x:(_=k.getPosition().top+k.getHeight()+y-O.bottom,_=Math.max(0,_),_+=-x),_!==0&&n.smoothScrollY(_,w),M()}function L(D){if(!!D){var H=D.getTemplateParams(),M=D.getTemplateHookParams()||{},O=D.outerBox.querySelector(".vm-adunit-content");H&&(H.backgroundColor&&(O.style.backgroundColor=H.backgroundColor),b&&M.cursorStyle&&b.setCursorStyle(M.cursorStyle));var _=((b.adConfig||{}).container||{}).width;_&&D.scaleToFit(_)}}},f},ni=function(e,t){var r=e.get("platform",""),n=700,p=500,s=300,u=800,i=800,c=800,l=0,y=0;switch(r){case"desktop":l=n,y=u;break;case"tablet":l=p,y=i;break;case"mobile":l=s,y=c;break}function w(d){return Array.from(d).filter(function(g){if(g.domNode&&g.domNode.parentNode){var m=t.getPosition(g.domNode.parentNode);if(m)return m.bottom>l}return!1})}function A(d,g){var m=[],f;return Array.from(d).forEach(function(a){var o=g.filter(function(T){return T.node.id===a.id||T.status==="allowed"}),v=-1;for(f=0;f<o.length;f++)if(o[f].node.id===a.id){v=f;break}if(v===-1)console.log("Failed to find node in node list");else if(o[v].status==="pending"){var b=v===0||o[v].bottomPos-o[v-1].bottomPos>y,I=v>=o.length-1||o[v+1].bottomPos-o[v].bottomPos>y;o[v].status=b&&I?"allowed":"disallowed",o[v].status==="allowed"&&m.push(a)}}),m}function h(d,g){return[w,A].reduce(function(m,f){return f(m,g)},d)}return h},ii=function(e,t){var r=e.platform==="mobile"?250:400,n="tt-wrapper",p=e.getArray("partner.instory.blockednodes",["img","div","iframe"]),s=e.get("partner.instory.avoid",null),u=e.getBoolean("partner.instory.collisiondetect",!0),i=e.getInteger("partner.instory.collisionoffset",10),c=e.get("partner.instory.blockbyparent",null);return function(y){var w={allowed:!1,width:null},A,h,d;return!t.isElement(y)||(A=t.getTextNodeBounds(y),h=A.getWidth(),h<r)||t.elementHasNodes(y,p)||c&&t.parentHasSelector(y,c.split(","))||u&&t.detectCollisions(y,i)||(d=t.nextElementSibling(y),d&&(d.className.indexOf(n)!==-1||s&&t.matchesSelector(d,s)))?w:{allowed:!0,width:h}}},oi=function(e,t,r,n,p,s,u,i,c,l){var y=1.2,w=-1,A=t.get("partner.instory",{});function h(){this.activeHook=null,this.activeUnit=null,this.allowNewUnits=!0}return h.prototype=new p.Observable,h.prototype.prefilterNodes=function(g,m){return l(g,m)},h.prototype.processNode=function(g,m,f){var a=g.getDomNode(),o=n.findParentParagraph(a),v=c(o),b,I;v.allowed&&(b=v.width,I=t.getBoolean("partner.instory.scaletofit",!0),I&&(b*=y),f({node:g,id:m,width:Math.floor(b)}))},h.prototype.invoke=function(g){var m=this;if(!this.allowNewUnits)return;var f=g.hook,a=f.getAdConfig();if(f===this.activeHook&&this.activeUnit.isOpen())return;var o="instory";a.container={width:f.getParagraphPosition().getWidth()},a.autoCloseDelay=A.getInteger("autoclosedelay",w);var v=e.adunit.create({product:"instory",settings:a,delayLoad:!0,templateSettings:{cdnUrl:"//"+t.cdn.internal,id:a.ads[0].creative.value},creativeLoad:function(N){var S=r.waterfall.select(N,"instory",o);return o=S.decoration,S.creative},render:I,open:T,close:b});u.track(v,a.trackers,a.term),v.connect("slidingopened",v,"impression"),v.connect(v.EVENT_CLICK,v,"click"),a.autoCloseDelay!==w&&(v.on(v.EVENT_MOUSEOUT,function(){v.fire(v.EVENT_SCHEDULE_CLOSE,Z.AUTO)}),v.on(v.EVENT_MOUSEIN,v.cancelScheduledClose)),v.on("slidingopened",function(){s.adImpression({product:v.product,hookId:v.settings.vibrantParameters.hookId,setId:v.settings.vibrantParameters.setId,source:g.viewSource})}),f.connect(Ne,v,v.EVENT_MOUSEIN),f.connect(_e,v,v.EVENT_MOUSEOUT),f.connect(Ce,v,v.EVENT_CLICK),!t.mobile&&g.triggerSource&&v.once("opened",function(){v.fire("delegate",{triggerSource:g.triggerSource,source:le.HOOK})}),v.fire("open",g.viewSource),this.activeHook=f,this.activeUnit=v,i.on("instoryClose",function(){v.fire("close")});function b(k,N,S){N===Z.AD&&m.allowNewUnits===!0&&(m.allowNewUnits=!1,i.fire("instoryClose")),f.disconnectAll(v),f.removeStyling(),s.adClose({product:k.product,hookId:k.settings.vibrantParameters.hookId,source:N||Z.AUTO}),S()}function I(k,N){k.position=new e.position.Instory(f),N(null,k)}function T(k,N,S){k=e.decoration.decorate(k,{decorationType:o}),C(k),S()}function C(k){if(!!k){var N=k.template.params,S=k.outerBox.querySelector(".vm-adunit-content");N.backgroundColor&&(S.style.backgroundColor=N.backgroundColor);var R=((f.adConfig||{}).container||{}).width;if(R&&(k.scaleToFit(R),k.fire("resize")),k.position){var L=k.position.hook;L&&L.domNode&&L.domNode.setAttribute("style","cursor:text")}}}},h},ai=function(e,t,r,n,p,s,u){var i=1,c=window.innerWidth/2<300?300:Math.round(window.innerWidth/2),l=window.innerHeight,y=r.getInteger("partner.daw.width",c),w=r.getInteger("partner.daw.height",l),A=r.getBoolean("partner.daw.refresh",!0),h=r.getInteger("partner.daw.refreshtime",30*1e3),d=1500;function g(){}return g.prototype=new p.Observable,g.prototype.invoke=function(f){var a=r.get("partner.decorationtype","chrome");function o(){e.request("daw",{ids:[i+":"+y+":"+w],count:1},function(T){var C,k;!T.hasOwnProperty(i)||(k=T[i][0],C=t.adunit.create({product:"daw",settings:k,templateSettings:{cdnUrl:"//"+r.cdn.internal,id:k.ads[0].creative.value},creativeLoad:function(S){var R=n.waterfall.select(S,"daw",a);return a=R.decoration,R.creative},render:b,open:I,close:v}),s.hookLoad({product:"daw",hookIds:k.vibrantParameters.hookId}),u.track(C,k.trackers,k.term),C.connect("opened",C,"impression"),C.connect(C.EVENT_CLICK,C,"click"),C.fire("open",f.viewSource))})}function v(T,C,k){s.adClose({product:T.product,hookId:T.settings.vibrantParameters.hookId,source:C||Z.AUTO}),A&&C===Z.AUTO&&window.setTimeout(function(){o(),e.forceFlush()},d),k()}function b(T,C){T.position=new t.position.Fixed({bottom:0,right:10},{animate:!0}),C(null,T)}function I(T,C,k){T=t.decoration.decorate(T,{decorationType:a}),s.adImpression({product:T.product,hookId:T.settings.vibrantParameters.hookId,setId:T.settings.vibrantParameters.setId,source:C}),k(),A&&window.setTimeout(function(){T.fire("close")},h)}o()},g},si=function(e){var t=e.get("partner.image",{}),r=[{func:p,value:t.get("pos",!1)}];function n(s,u){return r.forEach(function(i){i.value&&(u=i.func(s,u,i.value))}),u}function p(s,u,i){return ye(u,function(c,l){i.hasOwnProperty(l)&&(u[l]+=parseInt(i[l],10)||0)}),u}return{applyRules:n}},ci=function(e,t){function r(s){this.maxDepth=s}r.prototype.findCaptionTop=function(u,i){var c=0,l=1/0;function y(g){if(g.nodeType===Te&&g.className!=="vm-adunit-outer"&&!!e.isVisible(g)){var m=e.getPosition(g);m.top<l&&i.getIntersection(m)&&(l=m.top),Array.from(g.childNodes).forEach(y)}}for(;c<this.maxDepth;){var w=u.parentNode;if(!w)break;for(var A=w.childNodes,h=0,d=A.length;h<d;++h)A[h]!==u&&y(A[h]);u=w,++c}return isFinite(l)?l:null};function n(s){this.selector=s}n.prototype.findCaptionTop=function(s,u){var i=document.querySelectorAll(this.selector),c=1/0;return Array.from(i).forEach(function(l){var y=e.getPosition(l);e.isVisible(l)&&y.getIntersection(u)&&(c=y.top)}),isFinite(c)?c:null};function p(s,u,i){var c=e.getPosition(s),l=c.right-c.left,y=u.width||u.getWidth(),w=u.height||u.getHeight(),A,h,d,g,m;if(g=c.bottom-w,m=c.bottom,l-y>0)h=c.left+(l-y)/2,d=c.right-(l-y)/2;else{var f=u.body.parentElement;f&&(f.style.width=l+"px"),h=c.left,d=c.right}var a=new e.Coord({top:g,left:h,bottom:m,right:d}),o=e.getVisibleRect(s);return u.visibleRect=o,s.height>o.height&&a.shiftY(o.height-s.height),i&&(A=i.findCaptionTop(s,a),A&&a.shiftY(A-c.bottom)),t.applyRules(s,a)}return{findPositionWithinImage:p,BruteForce:r,CssSelector:n}},li=3,ui=function(e,t,r,n,p,s,u,i,c,l){var y=r.getInteger("partner.image.pagemaxhooks",0),w=!!y;function A(){var h=r.get("partner.image",{});switch(h.get("caption.strategy",null)){case"bruteForce":this.captionStrategy=new c.BruteForce(h.getInteger("caption.maxdepth",li));break;case"cssSelector":this.captionStrategy=new c.CssSelector(h.get("caption.selector"));break;default:this.captionStrategy=null}}return A.prototype=new s.Observable,A.prototype.invoke=function(d){var g=d.hooks||[],m=this,f=r.getBoolean("partner.image.scaletofit",!0),a=f?1.5:1,o="image",v=g.map(function(T){var C=Math.floor(T.getWidth()*a),k=Math.floor(T.getHeight()*a);return T.getId()+":"+C+":"+k});if(w&&y<1)return;e.request("image",{ids:v,count:d.maxAds},function(T){var C=[];g.forEach(function(k){var N=k.getId(),S,R,L;if(!T.hasOwnProperty(N))return;if(w){if(y<1)return;--y}S=T[N][0],S.container={width:k.getWidth(),height:k.getHeight()},R=t.adunit.create({product:"image",settings:S,templateSettings:{cdnUrl:"//"+r.cdn.internal,id:S.ads[0].creative.value},creativeLoad:function(M){var O=n.waterfall.select(M,"image",o);return o=O.decoration,O.creative},render:D,open:I,close:b}),p.onPositionChange(k.getDomNode(),function(){R.fire("domChange"),L||(!k.isVisible()&&R.isOpen()&&R.fire("hide"),k.isVisible()&&!R.isOpen()&&R.fire("show"))}),l.on(Oe,function(){L=!0,R.fire("hide")}),l.on(Le,function(){R.fire("domChange"),R.fire("show"),L=!1}),d.gallery&&m.fire("galleryBehaviour",{adUnit:R});function D(H,M){H.position=new t.position.Absolute(function(){return c.findPositionWithinImage(k.getDomNode(),R,m.captionStrategy)}),M(null,H)}k.setAdUnit(R),i.track(R,S.trackers,S.term),R.connect("opened",R,"impression"),R.connect(R.EVENT_CLICK,R,"click"),R.fire("open",d.viewSource),C.push(S.vibrantParameters.hookId)}),C.length>0&&u.hookLoad({product:"image",hookIds:C.join(",")})});function b(T,C,k){u.adClose({product:T.product,hookId:T.settings.vibrantParameters.hookId,source:C||Z.AUTO}),k()}function I(T,C,k){T=t.decoration.decorate(T,{decorationType:o}),u.adImpression({product:T.product,hookId:T.settings.vibrantParameters.hookId,setId:T.settings.vibrantParameters.setId,source:C}),k()}},A};function di(E){var e=fi();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function fi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var vi=function(e){var t=function(r){oe(p,r);var n=di(p);function p(s){var u;return te(this,p),u=n.call(this),u.channel=s.api.channel,u}return re(p)}(e.Observable);return t.prototype.invoke=function(n){!n.adUnit||this.channel.fire("newAd",{ad:n.adUnit})},t},pi=function(e,t,r,n,p,s,u,i){var c=360;function l(){this.adConfig=r.get("partner.inline",{})}return l.prototype=new p.Observable,l.prototype.invoke=function(y){var w=r.get("partner.inline.useinstorybehaviour",!1),A=y.hook,h=A.getWidth(),d=A.getId()+":"+this.adConfig.get("adwidth",h)+":"+this.adConfig.get("adheight",c),g="standard";e.request("inline",{ids:[d],count:1},function(o){var v=A.getId(),b,I;o[v]?(b=o[v][0],w&&typeof A.getWidth=="function"&&(b.container={width:A.getWidth()}),I=t.adunit.create({product:"inline",settings:b,templateSettings:{cdnUrl:"//"+r.cdn.internal,id:b.ads[0].creative.value},creativeLoad:function(C){var k=n.waterfall.select(C,"inline",g);return g=w?"instory":"standard",k.creative},render:f,open:a,close:m}),s.hookLoad({product:"inline",hookIds:b.vibrantParameters.hookId}),u.track(I,b.trackers,b.term),I.connect("opened",I,"impression"),I.connect(I.EVENT_CLICK,I,"click"),I.fire("open",y.viewSource)):i.notifyFailure("inline")});function m(o,v,b){s.adClose({product:o.product,hookId:o.settings.vibrantParameters.hookId,source:v||Z.AUTO}),b()}function f(o,v){w?o.position=new t.position.Instory(A,r):o.position=new t.position.Inline(A.getDomNode(),r),v(null,o)}function a(o,v,b){o=t.decoration.decorate(o,{decorationType:g}),s.adImpression({product:o.product,hookId:o.settings.vibrantParameters.hookId,setId:o.settings.vibrantParameters.setId,source:v}),b()}},l},hi=function(e,t){var r={inview:e.getInteger("partner.inview.collisionoffset",0),instory:e.getInteger("partner.instory.collisionoffset",0),inline:e.getInteger("partner.inline.collisionoffset",0),intext:e.getInteger("partner.intext.collisionoffset",0)},n=e.getBoolean("partner.allowaside",!1),p={H1:!0,H2:!0,H3:!0,SELECT:!0,ASIDE:!n},s={},u=function(){var c=e.getArray("partner.intext.nohooknodes",[]);return c.length>0&&(c=c.filter(function(l){return l!==""})),c}(),i=["inview","instory","inline"];return{getHookableTags:function(l,y,w,A,h){if(e.forceMode)return l;var d=function m(f){var a=f.parentNode;if(!t.isElement(a))return{hookable:!1,discard:!1};if(p[a.tagName])return{hookable:!1,discard:!0};if(u.length>0&&(t.matchesSelector(a,u)||t.parentHasSelector(a,u)))return{hookable:!1,discard:!0};var o=document.querySelectorAll(w);return Array.from(o).includes(a)?{hookable:!0,discard:!1}:m(a)},g=Array.from(l).filter(function(m){var f=m.id;if(s[f])return!1;var a=i.indexOf(y)!==-1,o=m.domNode;if(a&&t.detectCollisions(o.parentElement,r[y]))return!1;var v=d(o);return v.discard&&(s[f]=!0),v.hookable});return A?A(g,h):g}}},gi=function(e){var t=9999;function r(){this.nodeStatus={},this.productEventCallbacks={},this.maxAllowedNumProductPageHooks={},this.totalAllowedNumPageHooks=t}return r.prototype.setTotalMaxPageHooks=function(n){var p=parseInt(n,10);isNaN(p)&&(p=t),this.totalAllowedNumPageHooks=p},r.prototype.setMaxPageHooksForProduct=function(n,p){var s=parseInt(p,10);isNaN(s)&&(s=t),this.maxAllowedNumProductPageHooks[n]=s},r.prototype.isPageHookAllowed=function(p){if(this.totalAllowedNumPageHooks<1)return!1;var s=this.maxAllowedNumProductPageHooks[p];return!isNaN(s)&&s>0},r.prototype.getNumberOfAllowedPageHooks=function(p){var s=this.maxAllowedNumProductPageHooks[p];return isNaN(s)&&(s=0),(this.totalAllowedNumPageHooks<1||s<1)&&(s=0),s},r.prototype.decrementPageHookCount=function(p,s){this.maxAllowedNumProductPageHooks[p]-=s,this.totalAllowedNumPageHooks-=s},r.prototype.getRecalculatedNumUsedViewportHooks=function(n,p,s,u,i){var c=n.nodes,l=n.prefilterNodes,y=Object.keys(this.maxAllowedNumProductPageHooks),w=[],A=[],h=0,d=this,g;return y.forEach(function(m){m!==u&&(g=e.getHookableTags(c,m,p,l,s),Array.from(g).forEach(function(f){var a=f.getId();A.indexOf(a)===-1&&(f.product=m,w.push(f),A.push(a))}))}),Array.from(w).forEach(function(m){var f=m.getId(),a=m.product,o=d.getNodeStatus(a,f);if(o===i.TextNode.IN_FLIGHT)h++;else if(o===i.TextNode.LOCKED){var v=m.getHooks();v.forEach(function(b){b.isInViewport()&&h++})}}),h},r.prototype.getNodeStatus=function(p,s){return this.nodeStatus[p][s]},r.prototype.setNodeStatus=function(n,p,s){this.nodeStatus[n][p]=s},r.prototype.registerProduct=function(p,s){this.nodeStatus[p]||(this.nodeStatus[p]={}),this.productEventCallbacks[p]||(this.productEventCallbacks[p]={}),K(this.productEventCallbacks[p],s)},r.prototype.executeCallback=function(p,s,u){var i=this.productEventCallbacks[p];i&&i[s]&&i[s](u)},new r},mi=function(e,t,r,n){var p={NEW_HOOKS:"newHooks",HOVER:"hover",CLICK:"click"};return function(u){var i=[],c=u.ads,l=u.candidateNodes,y=u.viewSource,w=u.product;Array.from(l).forEach(function(A){var h=A.getId(),d=c[h]?c[h][0]:null,g;n.setNodeStatus(w,h,r.TextNode.LOCKED),d&&n.isPageHookAllowed(w)&&(g=t.create(A,c[h][0],w),g?(i.push(g),n.decrementPageHookCount(w||"intext",1)):e.hookFailure({product:w||"intext",hookId:d.vibrantParameters.hookId,reason:Je.TERM_NOT_FOUND}))}),i.forEach(function(A){A.on(Ne,function(){A.setTriggered(),n.executeCallback(w,p.HOVER,{hook:A,viewSource:ne.MOUSE_OVER,triggerSource:p.HOVER})}),A.on(Ce,function(){A.setTriggered(),n.executeCallback(w,p.CLICK,{hook:A,viewSource:ne.MOUSE_OVER,triggerSource:p.CLICK})})}),i.length>0&&(e.hookLoad({product:w,hookIds:i.map(function(A){return A.getId()}).join(",")}),n.executeCallback(w,p.NEW_HOOKS,{hooks:i,viewSource:y}))}},yi=function(e,t,r,n,p,s){var u={IDLE:1,FETCHING:2},i={nodes:[],candidateNodes:[],viewSource:null,count:0,ready:!1,state:u.IDLE},c=["intext","inview"];function l(){this.waitList={}}return l.prototype.designate=function(w){this.waitList.hasOwnProperty(w)||(this.waitList[w]=K({},i))},l.prototype.resolveFalse=function(w,A){this.waitList.hasOwnProperty(w)&&this.dataToFetch(w,[],[],0,A)},l.prototype.goFetch=function(w){this.waitList.hasOwnProperty(w.product)&&this.dataToFetch(w.product,w.nodes,w.candidateNodes,w.count,w.viewSource)},l.prototype.isFetching=function(w){return this.waitList[w].state===u.FETCHING},l.prototype.activeProducts=function(){return Object.keys(this.waitList)},l.prototype.dataToFetch=function(w,A,h,d,g){var m=this.waitList[w];return this.isFetching(w)||(m.nodes=m.nodes.concat(A),m.candidateNodes=m.candidateNodes.concat(h),m.viewSource=g,m.count=d,m.ready=!0,m.state=u.FETCHING),this.attemptFetch()},l.prototype.resetWaitList=function(){ye(this.waitList,function(w){K(w,i)})},l.prototype.attemptFetch=function(){var w=this,A=!w.activeProducts().some(function(h){return w.waitList[h].ready===!1});if(A)return this.fetch()},l.prototype.fetch=function(){var w=[],A={},h=[],d;if(ye(this.waitList,function(a,o){w=w.concat(a.nodes),A[o]=a.candidateNodes.slice(0),d=a.viewSource,h.push(a.count)}),this.resetWaitList(),!!w.length){var g=!1;p.getVisibleHooks()&&(g=p.getVisibleHooks().some(function(a){var o=a.getAdConfig(),v=o.ads[0].creative.creativeType;return v==="internal"&&c.includes(o.product)}));var m=A.hasOwnProperty("inview")&&s.revealsAllowed(),f={ids:w,count:Math.max.apply(null,h),internal:g,autoreveal:m};return new Promise(function(a){e.request("intext",f,function(o){var v={};for(var b in A)A.hasOwnProperty(b)&&(v.hasOwnProperty(b)||(v[b]={}));ye(o,function(I,T){var C=I[0].vibrantParameters.product,k=r[C];v.hasOwnProperty(k)||(v[k]={}),v[k][T]=I}),ye(v,function(I,T){n({ads:I,candidateNodes:A[T],viewSource:d,product:T})}),a()})})}},new l},wi=function(e,t,r,n,p,s,u){var i=9999,c={instory:1,inview:1,inline:3,intext:3},l={instory:5,inview:5,inline:5,intext:5},y="BODY",w=function(d){var g=!1;return d&&(g=e.get("partner."+d+".selectors",!1)),g||(g=e.get("partner.all.selectors",!1)),g||(g=e.get("partner.intext.selectors",y)),g},A=function(d){var g=d.product;["instory","inview","inline","intext"].indexOf(g)===-1?(u.warn("Invalid product ("+g+"), using default of intext"),this.product="intext"):this.product=g;var m="partner."+this.product+".";this.selector=w(this.product);var f=e.getInteger(m+"maxhooks",c[this.product]),a=e.getInteger(m+"pagemaxhooks",l[this.product]),o=e.getInteger("partner.all.maxhooks",i);isNaN(o)?(u.warn("Invalid total max viewport hooks, using default"),this.totalMaxViewportHooks=i):this.totalMaxViewportHooks=o;var v=e.getInteger("partner.all.pagemaxhooks",i);isNaN(v)?(u.warn("Invalid total max page hooks, using default"),this.totalMaxPageHooks=i):this.totalMaxPageHooks=v,this.fetchFormat=d.fetchFormat,this.callback=d.callback||!1,this.prefilterNodes=d.prefilterNodes||!1,isNaN(a)?(u.warn("Invalid product max page hooks, using default"),this.maxHooksPerPage=l[this.product]):this.maxHooksPerPage=a,p.setTotalMaxPageHooks(this.totalMaxPageHooks),p.setMaxPageHooksForProduct(this.product,this.maxHooksPerPage),p.registerProduct(this.product,d.eventCallbacks),n.designate(this.product),isNaN(f)&&(u.warn("Invalid product max viewport hooks, using default"),f=c[this.product]);var b=p.getNumberOfAllowedPageHooks(this.product);f>b&&(f=b),f>this.totalMaxViewportHooks&&(f=this.totalMaxViewportHooks),this.maxHooksPerViewport=f,this.discoveredNodes=[]};return A.prototype.isNumDiscoveredNodeHooksAtLimit=function(){var d=0;return Array.from(this.discoveredNodes).forEach(function(g){var m=g.node.getHooks();m&&m.length>0&&(d+=m.length)}),d>=this.totalMaxPageHooks},A.prototype.addToDiscoveredNodes=function(d){var g=this.discoveredNodes;Array.from(d).forEach(function(m){var f,a;for(f=0;f<g.length;f++)if(m.id===g[f].node.id){a=!0;break}if(!a&&m.domNode){var o=s.getTextNodeBounds(m.domNode);g.push({node:m,bottomPos:o.bottom,status:"pending"})}}),g.sort(function(m,f){return m.bottomPos-f.bottomPos})},A.prototype.invoke=function(d){var g=this,m=this.maxHooksPerViewport,f=[],a=[];if(this.viewSource=d.viewSource,!p.isPageHookAllowed(this.product)){u.trace("Ignoring hook for product "+this.product),n.resolveFalse(this.product,this.viewSource);return}var o=this.isNumDiscoveredNodeHooksAtLimit();if(o){u.trace("Number of hooks ("+o+") reached limit"),n.resolveFalse(this.product,this.viewSource);return}this.addToDiscoveredNodes(d.nodes);var v=r.getHookableTags(d.nodes,this.product,this.selector,this.prefilterNodes,this.discoveredNodes);if(v.forEach(function(C){var k=p.getNodeStatus(g.product,C.getId());k===t.TextNode.IN_FLIGHT?m--:k===t.TextNode.LOCKED?C.getHooks().forEach(function(N){N.isInViewport()&&m--}):a.push(C)}),m<=0||a.length===0){u.trace("No hooks ("+m+") or nodes ("+a.length+") found in node cache for product "+this.product),n.resolveFalse(this.product,this.viewSource);return}var b=p.getRecalculatedNumUsedViewportHooks(d,this.selector,this.discoveredNodes,this.product,t),I=this.maxHooksPerViewport-m+b;if(I>=this.totalMaxViewportHooks){u.trace("Total max viewport hooks ("+this.totalMaxViewportHooks+") reached, product: "+this.product),n.resolveFalse(this.product,this.viewSource);return}var T=[];Array.from(a).forEach(function(C){var k=C.getId(),N=function(R){f.push(ce(g.fetchFormat,R)),T.push(C)};p.setNodeStatus(g.product,k,t.TextNode.IN_FLIGHT),g.callback?g.callback(C,k,N):N({node:C,id:k})}),a=T,n.goFetch({product:this.product,nodes:f,count:m,viewSource:this.viewSource,candidateNodes:a})},A};function Ai(E){var e=Ei();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Ei(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var bi=function(e,t,r,n,p,s,u,i,c){var l=300,y=100,w=3e3,A=t.get("partner.intext",{}),h=A.get("coverhook",!1),d=7,g=11,m=t.get("partner.decorationtype","chrome"),f=[],a={},o={placeAboveHook:function(C,k,N){var S=C.clone();switch(S.setCenter(k.getCenter()),N){case"cover":case"1":S.shiftY(-(C.getHeight()-k.getHeight())/2-d);break;case"center":case"centre":break;default:S.shiftY(-(C.getHeight()+k.getHeight())/2)}return S},placeBelowHook:function(C,k,N){var S=C.clone();switch(S.setCenter(k.getCenter()),N){case"cover":case"1":S.shiftY((C.getHeight()-k.getHeight())/2+g);break;case"center":case"centre":break;default:S.shiftY((C.getHeight()+k.getHeight())/2)}return S}},v=function(T){oe(k,T);var C=Ai(k);function k(N){var S;te(this,k),S=C.call(this,N);var R=ae(S);return i.on(Oe,function(){R.closeOpenTooltips()}),S}return re(k)}(p.Observable);v.isAnyOpen=function(){return f.some(function(C){return C.isOpen()})},v.prototype.closeOpenTooltips=function(){i.fire(kt),f.forEach(function(C){C.isOpen()&&C.fire("close",Z.AUTO)})},v.prototype.invoke=function(C){var k=this,N=C.hook,S=N.getAdConfig(),R;if(!(N===this.activeHook&&this.activeUnit.isOpen())){var L=t.getInteger("programmaticOverride",0);if(L&&N.getWaterfallOverrideAllowed()){c.getAdForHook(N,function(D){if(D){var H=N.id,M=S.vibrantParameters.adProviderId,O=D.vibrantParameters.hookId,_=D.vibrantParameters.adProviderId;s.hookLoad({product:"intext",hookIds:O}),s.hookReplacement({product:"intext",oldHookId:H,newHookId:O,oldAdProviderId:M||-1,newAdProviderId:_||-1,reason:Je.OVERRIDE}),N.adConfig=D,N.id=O,C.adConfig=D}(D||N.liveLookupFailsShowUnderlyingAd)&&(N.resetWaterfallOverrideAllowed(),k.invoke(C),N.hookClickActive=!0)});return}R=a[N.getId()]||b(S,N,C),R.isOpen()?R.cancelScheduledClose():(this.closeOpenTooltips(),R.fire("open",C.viewSource||ne.MOUSE_OVER))}};function b(T,C,k){var N=m;T.autoCloseDelay=A.getInteger("autoclosedelay",null)||A.getInteger("closedelay",w);var S=e.adunit.create({product:"intext",settings:T,templateSettings:{cdnUrl:"//"+t.cdn.internal,id:T.ads[0].creative.value},creativeLoad:function(M){var O=r.waterfall.select(M,"tooltip",N);return N=O.decoration,O.creative},render:L,open:D,close:R});u.track(S,T.trackers,T.term),S.connect("opened",S,"impression"),S.connect(S.EVENT_CLICK,S,"click"),C.connect(Ne,S,S.EVENT_MOUSEIN),C.connect(_e,S,S.EVENT_MOUSEOUT),C.connect(Ce,S,S.EVENT_CLICK),k.triggerSource&&S.once("opened",function(){S.fire("delegate",{triggerSource:k.triggerSource,viewSource:k.viewSource,source:le.HOOK})}),S.on(S.EVENT_MOUSEOUT,function(){S.fire(S.EVENT_SCHEDULE_CLOSE,Z.AUTO)}),S.on(S.EVENT_MOUSEIN,function(){S.cancelScheduledClose()}),C.on(_e,function(){S.isOpen()&&S.fire(S.EVENT_SCHEDULE_CLOSE,Z.AUTO)}),f.push(S),a[C.getId()]=S;function R(H,M,O){var _;C.disconnectAll(S),delete a[C.getId()];var x=ue(function(){_&&_(),s.adClose({product:H.product,hookId:H.settings.vibrantParameters.hookId,source:M||Z.AUTO}),O()});we?window.setTimeout(x,l):_=p.bind(H.outerBox,"transitionend",x)}function L(H,M){var O=H.getTemplateHookParams()||{},_,x=H.getMergedCreativeParams()||{},U=x.coverHook;H.position=new e.position.Absolute(function(){return I(S.getPosition(),C.getPosition(),O,U)}),_=n.onPositionChange(C.getDomNode(),function(){H.fire("domChange")},y),H.on("close",_),M(null,H)}function D(H,M,O){H=e.decoration.decorate(H,{decorationType:N}),s.adImpression({product:H.product,hookId:H.settings.vibrantParameters.hookId,setId:H.settings.vibrantParameters.setId,source:M});var _=H.getTemplateHookParams()||{};C&&_.cursorStyle&&C.setCursorStyle(_.cursorStyle),O()}return S}function I(T,C,k,N){var S=n.getAbsoluteViewport(),R=k.coverhook||N||h,L=[],D=0,H,M,O;for(var _ in o)if(!!o.hasOwnProperty(_)){if(H=o[_](T,C,R),S.contains(H))return H;L.push(H)}return L.forEach(function(x){var U=S.getIntersection(x);U&&U.pixels()>D&&(D=U.pixels(),M=x,O=U)}),M?(M.shiftY(O.top-M.top||O.bottom-M.bottom),M.shiftX(O.left-M.left||O.right-M.right),M):C.top>S.bottom?L[0]:L[1]}return v};function ki(E){var e=Ti();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Ti(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var Ci=function(e,t,r){var n=5,p=1,s=1e3*60,u="VM_VVTIME",i=e.get("geo"),c=e.get("partner.vibrantview",{}),l=!c.getArray("geoblock",[]).includes(i.cc),y=!g(c.getInteger("minutes",n)),w=c.getBoolean("onload",e.getBoolean("mobile",!1)),A=c.getBoolean("onscroll",e.getBoolean("mobile",!1)),h=c.get("maxviews",p),d=function(m){oe(a,m);var f=ki(a);function a(){var o;return te(this,a),o=f.call(this),o.views=0,o._allowOnLoad=w,o._allowOnScroll=A,!l||!y||!w&&!A?ie(o):(o.on("scroll",function(b){var I=!(b.data.direction===0&&this._allowOnLoad),T=!(b.data.direction>0&&this._allowOnScroll);I&&T||this.views>=h&&this.fire("maxViewsReached")},ae(o)),o)}return re(a)}(t.Observable);d.prototype.invoke=function(){};function g(m){var f,a;return m===0||typeof Storage=="undefined"||(f=r.trackingAllowed()?parseInt(localStorage[u],10):void 0,isNaN(f))?!1:(a=+new Date-f,a<m*s)}return d};function Ii(E){var e=Si();return function(){var r=Y(E),n;if(e){var p=Y(this).constructor;n=Reflect.construct(r,arguments,p)}else n=r.apply(this,arguments);return ie(this,n)}}function Si(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}var Oi=function(e,t,r,n,p){var s={HIGHLIGHT:"highlight"},u="vm-wordflip",i=" vm-wordflip-default",c=" vm-wordflip-styled",l=2,y=20,w="-1000px",A=1800,h=250,d=550,g=.75,m=!1,f=function(o){oe(b,o);var v=Ii(b);function b(I){var T;te(this,b),T=v.call(this,I);var C=ae(T);return T.partnerControl=e.getBoolean("partner.intext.wordflip",!!e.mobile),T.triggerFlip=function(){return C.partnerControl?function(k){k._wordflip.flip()}:function(k){C.fire(k.getProduct()+":"+s.HIGHLIGHT,{hook:k,viewSource:ne.MOUSE_OVER})}}(),T.hookBucket=[],T.firstFlipped=!1,T.on("doflip",function(){C.hookBucket.some(function(k){if(k.isInViewportArea(g)&&!k.triggered&&!k._wordflip.flipped&&!m)return C.triggerFlip(k),!0})}),T.connect("scroll",ae(T),"doflip"),T.on("resize",function(){C.hookBucket.forEach(function(k){k._wordflip.positionWordflip()})}),p.on(Oe,function(){m&&m._wordflip.closeFlip()}),T}return re(b)}(r.Observable);f.prototype.invoke=function(o){var v=this;if(this.hooks=o.hook&&[o.hook]||o.hooks||n.getVisibleHooks(),!this.hooks.length)return;function b(I,T,C){return function(){v.fire(T,{hook:I,viewSource:C,triggerSource:T})}}this.hooks.forEach(function(I){var T=(((((I.adConfig||{}).ads[0]||{}).creative||{}).payload||{}).params||{}).keywordOnly;!I.eventsBound&&!T&&(I.eventsBound=!0,I._wordflip=new a(I,v),v.hookBucket.push(I),I.on(Ce,function(){}),I.on(Ne,function(){v.triggerFlip(I)}),I.on(_e,b(I,"mouseleave",ne.MOUSE_OVER)),t.onPositionChange(I.getDomNode(),function(){I._wordflip.positionWordflip()},h))}),v.fire("doflip")};function a(o,v){this.hook=o,this.channel=v,this.boxWidth=0,this.textNode=this.hook.getDomNode().firstChild,this.hookStyling=this.hook.adConfig.ads[0].hook||{},this.wordflipSetup(),this.hookStyling.text||this.hookStyling.icon?(this.hookText(),this.hookIcon()):this.defaultStyle(),this.positionWordflip(),this.flipEvents()}return a.prototype.flip=function(){if(m&&this.hook!==m)m._wordflip.closeFlip();else if(this.hook===m)return;m=this.hook,this.openFlip(),this.channel.fire(this.hook.getProduct()+":"+s.HIGHLIGHT,{hook:this.hook,viewSource:ne.MOUSE_OVER}),this.flipped=!0},a.prototype.openFlip=function(){var v=this;this.box.style.visibility="visible",this.box.style.opacity=1,we&&(this.box.style.filter="alpha(opacity = 100)"),this.closeDelay=window.setTimeout(function(){v.closeFlip()},A)},a.prototype.closeFlip=function(){var v,b;this.closeDelay&&window.clearTimeout(this.closeDelay),v=ue(function(){b&&b(),m=!1}),we?(window.setTimeout(v,d),this.box.style.filter="alpha(opacity = 0)"):(b=r.bind(this.box,"transitionend",v),window.setTimeout(v,d)),this.box.style.opacity=0},a.prototype.wordflipSetup=function(){this.box=document.createElement("div"),this.box.className=u,this.box.style.position="absolute",this.box.style.top=w,this.box.style.left=w,this.box.style.visibility="hidden",this.box.style.opacity=0,this.box.style.height=this.textNode.offsetHeight+l+"px"},a.prototype.positionWordflip=function(){this.box.style.width=this.boxWidth+"px",document.body.appendChild(this.box),this.hookCenter=t.getPosition(this.textNode).getCenter(),this.boxPos=t.getPosition(this.box),this.boxPos.setCenter(this.hookCenter),t.setPosition(this.box,this.boxPos)},a.prototype.hookIcon=function(){!this.hookStyling.icon||(this.icon=document.createElement("img"),this.icon.src=this.hookStyling.icon,this.box.appendChild(this.icon),this.boxWidth+=y+l*2)},a.prototype.hookText=function(){var v=this.hookStyling.text||this.hook.adConfig.term.keyword;this.textBox=document.createElement("span"),t.setTextContent(this.textBox,v),this.box.appendChild(this.textBox),this.box.className+=c,this.boxWidth=t.getTextDimensions(v).getWidth()+l},a.prototype.defaultStyle=function(){this.box.className+=i,this.boxWidth=this.textNode.offsetWidth+l*2},a.prototype.flipEvents=function(){r.bindConnect(this.box,"click",this.hook,Ce),e.mobile||(r.bindConnect(this.box,"mouseenter",this.hook,Ne),r.bindConnect(this.box,"mouseleave",this.hook,_e))},f},Ni=function(e,t,r,n,p){function s(){var u={};return u.daw=function(){var c=new n.Scroll,l=new n.Adhesion(t.get("partner.daw",{})),y=new e.Daw;c.initialise(),l.once("trigger",function(A){y.invoke(A.data)}),l.initialise(c)},r.isAllowed(Fe)&&(u.image=function(c){var l=new n.Image(t.get("partner.image",{})),y=n.Gallery.load(t.get("partner.gallery",{})),w=new e.Image;l.on("trigger",function(h){w.invoke(h.data)}),function(){var h;!y||(h=new e.Gallery({api:y.api}),y.on("trigger",function(g){w.invoke(g.data)}),w.on("galleryBehaviour",function(d){h.invoke(d.data)}))}(),l.initialise(c)},u.inline=function(c){var l,y=t.get("partner.inline",{});y.usesimpleelement?l=new n.SimpleElement(y):l=new n.ParagraphBreak(y);var w=new e.Inline;l.on("trigger",function(h){w.invoke(h.data)}),l.initialise(c)},function(){var c=t.getBoolean("partner.inview.mobileonly",!1),l=new n.TextNode,y=new e.Wordflip,w=new e.VibrantView,A=e.ScriptsLoader,h=ue(function(d){l.initialise(d)});u.intext=function(g,m){var f=new e.Tooltip,a=new e.Hook({product:m,fetchFormat:"{{id}}",eventCallbacks:{newHooks:o,hover:v,click:b}});l.on("trigger",function(T){a.invoke(T.data)}),w.on("trigger",function(T){m===T.data.hook.getProduct()&&f.invoke(T.data)});function o(I){y.invoke(I),w.invoke(I),A.invoke(I)}function v(I){f.invoke(I)}function b(I){f.invoke(I)}h(g)},u.inview=function(g,m){if(c)return;var f=new e.InView,a=new e.Hook({product:m,fetchFormat:"{{id}}:{{width}}:"+m,callback:f.processNode,eventCallbacks:{newHooks:v,hover:b,click:I}});l.on("trigger",function(C){a.invoke(C.data)}),w.on("trigger",function(C){m===C.data.hook.getProduct()&&f.invoke(C.data)});function o(T){e.AutoReveal.autoOpen(f,T)}function v(T){y.invoke(T),w.invoke(T),A.invoke(T),o(T)}function b(T){f.invoke(T)}function I(T){f.invoke(T)}g.on(pe,function(){o({hooks:p.getVisibleHooks(m),viewSource:ne.SCROLL})}),h(g)},u.instory=function(g,m){var f=new e.InStory,a=new e.Hook({product:m,fetchFormat:"{{id}}:{{width}}:"+m,callback:f.processNode,prefilterNodes:f.prefilterNodes,eventCallbacks:{newHooks:v,hover:b,click:I}});l.on("trigger",function(C){a.invoke(C.data)}),w.on("trigger",function(C){m===C.data.hook.getProduct()&&f.invoke(C.data)});function o(T){e.AutoReveal.autoOpen(f,T)}function v(T){y.invoke(T),w.invoke(T),A.invoke(T),T.hooks.forEach(function(C){f.invoke({hook:C,viewSource:300})})}function b(){}function I(){}g.on(pe,function(){o({hooks:p.getVisibleHooks(m),viewSource:ne.SCROLL})}),h(g)},u.adbar=function(){var g=new n.Scroll,m=new n.Adhesion(t.get("partner.adbar",{})),f=new e.AdBar;g.initialise(),m.once("trigger",function(o){f.invoke(o.data)}),m.initialise(g)},u.adbarlegacy=function(){e.AdBarLegacy()}}()),u}return{initialise:s}},_i=function(e,t,r,n,p,s){function u(){var i={};if(!!r.isAllowed(Fe)){var c=new n.Resize,l=new n.Scroll,y=new n.Gesture;return c.initialise(),l.initialise(),y.initialise(),i.image=function(A){var h=new n.Image(t.get("partner.image",{})),d=n.Gallery.load(t.get("partner.gallery",{})),g=new e.Image;h.on("trigger",function(f){g.invoke(f.data)}),function(){var f;!d||(f=new e.Gallery({api:d.api}),d.on("trigger",function(o){g.invoke(o.data)}),g.on("galleryBehaviour",function(a){f.invoke(a.data)}))}(),h.initialise(A)},i.inline=function(A){var h,d=t.get("partner.inline",{});d.usesimpleelement?h=new n.SimpleElement(d):h=new n.ParagraphBreak(d);var g=new e.Inline;h.on("trigger",function(f){g.invoke(f.data)}),h.initialise(A)},i.adhesion=function(){var A=new n.Adhesion(t.get("partner.adhesion",{})),h=new e.AdhesionBackfill({fetchFormat:"{{id}}:320:80"}),d=new e.AdhesionPlacement;c.connect("trigger",d,"resize"),l.connect("trigger",d,"scroll"),y.connect("zoom",d,"zoom"),h.on("adsReady",function(m){d.invoke(m.data)}),d.on("fetchAd",function(m){h.invoke(m.data)}),A.once("trigger",function(m){h.invoke(m.data)}),A.initialise(l)},function(){var A=t.getBoolean("partner.inview.desktoponly",!1),h=new n.TextNode,d=new e.VibrantView,g=new e.Wordflip,m=e.ScriptsLoader,f=ue(function(o){h.initialise(o)});c.connect("trigger",g,"resize"),l.connect("trigger",g,"scroll"),y.connect("zoom",g,"zoom"),y.connect("touchstart",g,"touchstart"),y.connect("touchend",g,"touchend"),c.connect("trigger",d,"resize"),l.connect("trigger",d,"scroll"),y.connect("zoom",d,"zoom"),y.connect("touchstart",d,"touchstart"),y.connect("touchend",d,"touchend"),i.intext=function(o,v){var b=v+":",I,T={newHooks:R,click:S},C=t.getBoolean("partner.intext.adhesion",!1);C?I=new e.Hook({product:v,placement:"hooked-adhesion",fetchFormat:"{{id}}:320:80",eventCallbacks:T}):I=new e.Hook({product:v,placement:"dropin",fetchFormat:"{{id}}:1:1",eventCallbacks:T});var k={};k.adhesion=new e.AdhesionPlacement,k.inview=new e.InView,k.dropin=new e.DropInPlacement,Object.keys(k).forEach(function(L){var D=k[L];c.connect("trigger",D,"resize"),l.connect("trigger",D,"scroll"),y.connect("zoom",D,"zoom"),y.connect("touchstart",D,"touchstart"),y.connect("touchend",D,"touchend")});function N(L){var D="adhesion",H;if(!(!L||!L.hook||!(H=L.hook.getAdConfig()))){var M={cdnUrl:"//"+t.cdn.internal,id:H.ads[0].creative.value};s.template.load(M,H,function(O,_){!O&&_&&(_.params.isCPE||(D="inview"),k[D].invoke(L))})}}g.on(b+"highlight",function(D){N(D.data)}),h.on("trigger",function(D){I.invoke(D.data)});function S(L){N(L)}function R(L){g.invoke(L),d.invoke(L),m.invoke(L)}f(o)},i.inview=function(o,v){if(A)return;var b=new e.InView,I=new e.Hook({product:v,fetchFormat:"{{id}}:{{width}}:"+v,callback:b.processNode,eventCallbacks:{newHooks:k,click:T}});h.on("trigger",function(S){I.invoke(S.data)});function T(N){b.invoke(N)}function C(N){e.AutoReveal.autoOpen(b,N)}function k(N){g.invoke(N),d.invoke(N),m.invoke(N),C(N)}d.on("trigger",function(S){v===S.data.hook.getProduct()&&b.invoke(S.data)}),o.on(pe,function(){C({hooks:p.getVisibleHooks(v),viewSource:ne.SCROLL})}),f(o)},i.instory=function(o,v){var b=new e.InStory,I=new e.Hook({product:v,fetchFormat:"{{id}}:{{width}}:"+v,callback:b.processNode,prefilterNodes:b.prefilterNodes,eventCallbacks:{newHooks:k,click:T}});h.on("trigger",function(S){I.invoke(S.data)});function T(N){b.invoke(N)}function C(N){for(var S=0;S<N.hooks.length;S++)N.hooks[S].getAdConfig()&&!N.hooks[S].autoOpened&&(b.invoke({hook:N.hooks[S],viewSource:N.viewSource}),N.hooks[S].autoOpened=!0)}function k(N){d.invoke(N),m.invoke(N),C(N)}d.on("trigger",function(S){v===S.data.hook.getProduct()&&b.invoke(S.data)}),o.on(pe,function(){C({hooks:p.getVisibleHooks(v),viewSource:ne.SCROLL})}),f(o)},i.adbar=function(){var o=new n.Scroll,v=new n.Adhesion(t.get("partner.adbar",{})),b=new e.AdBar;o.initialise(),v.once("trigger",function(T){b.invoke(T.data)}),v.initialise(o)}}(),i}}return{initialise:u}},Pi=function(e,t,r,n,p){function s(){var u={};if(!!r.isAllowed(Fe)){var i=new n.Resize,c=new n.Scroll,l=new n.Gesture;return i.initialise(),c.initialise(),l.initialise(),u.image=function(w){var A=new n.Image(t.get("partner.image",{})),h=n.Gallery.load(t.get("partner.gallery",{})),d=new e.Image;A.on("trigger",function(m){d.invoke(m.data)}),function(){var m;!h||(m=new e.Gallery({api:h.api}),h.on("trigger",function(a){d.invoke(a.data)}),d.on("galleryBehaviour",function(f){m.invoke(f.data)}))}(),A.initialise(w)},u.inline=function(w){var A,h=t.get("partner.inline",{});h.usesimpleelement?A=new n.SimpleElement(h):A=new n.ParagraphBreak(h);var d=new e.Inline;A.on("trigger",function(m){d.invoke(m.data)}),A.initialise(w)},u.adhesion=function(){var w=new n.Adhesion(t.get("partner.adhesion",{})),A=new e.AdhesionBackfill({fetchFormat:"{{id}}:728:90"}),h=new e.AdhesionPlacement;i.connect("trigger",h,"resize"),c.connect("trigger",h,"scroll"),l.connect("zoom",h,"zoom"),A.on("adsReady",function(g){h.invoke(g.data)}),h.on("fetchAd",function(d){A.invoke(d.data)}),w.once("trigger",function(g){A.invoke(g.data)}),w.initialise(c)},function(){var w=t.getBoolean("partner.inview.desktoponly",!1),A=new n.TextNode,h=new e.VibrantView,d=new e.Wordflip,g=e.ScriptsLoader,m=ue(function(a){A.initialise(a)});i.connect("trigger",d,"resize"),c.connect("trigger",d,"scroll"),l.connect("zoom",d,"zoom"),l.connect("touchstart",d,"touchstart"),l.connect("touchend",d,"touchend"),i.connect("trigger",h,"resize"),c.connect("trigger",h,"scroll"),l.connect("zoom",h,"zoom"),l.connect("touchstart",h,"touchstart"),l.connect("touchend",h,"touchend"),u.intext=function(a,o){var v=o+":",b=t.getBoolean("partner.intext.adhesion",!1),I,T,C={newHooks:N,click:k};b?(I=new e.AdhesionPlacement,T=new e.Hook({product:o,placement:"hooked-adhesion",fetchFormat:"{{id}}:728:90",eventCallbacks:C}),d.on(v+"highlight",function(R){I.invoke(R.data)}),i.connect("trigger",I,"resize"),c.connect("trigger",I,"scroll"),l.connect("zoom",I,"zoom"),l.connect("touchstart",I,"touchstart"),l.connect("touchend",I,"touchend")):(I=new e.DropInPlacement,T=new e.Hook({product:o,placement:"dropin",fetchFormat:"{{id}}:1:1",eventCallbacks:C})),A.on("trigger",function(R){T.invoke(R.data)});function k(S){I.invoke(S)}function N(S){d.invoke(S),h.invoke(S),g.invoke(S)}m(a)},u.inview=function(a,o){if(w)return;var v=new e.InView,b=new e.Hook({product:o,fetchFormat:"{{id}}:{{width}}:"+o,callback:v.processNode,eventCallbacks:{newHooks:C,click:I}});A.on("trigger",function(N){b.invoke(N.data)});function I(k){v.invoke(k)}function T(k){e.AutoReveal.autoOpen(v,k)}function C(k){d.invoke(k),h.invoke(k),g.invoke(k),T(k)}h.on("trigger",function(N){o===N.data.hook.getProduct()&&v.invoke(N.data)}),a.on(pe,function(){T({hooks:p.getVisibleHooks(o),viewSource:ne.SCROLL})}),m(a)},u.instory=function(a,o){if(w)return;var v=new e.InStory,b=new e.Hook({product:o,fetchFormat:"{{id}}:{{width}}:"+o,callback:v.processNode,prefilterNodes:v.prefilterNodes,eventCallbacks:{newHooks:C,click:I}});A.on("trigger",function(N){b.invoke(N.data)});function I(k){v.invoke(k)}function T(k){for(var N=0;N<k.hooks.length;N++)v.invoke({hook:k.hooks[N],viewSource:k.viewSource})}function C(k){h.invoke(k),g.invoke(k),T(k)}h.on("trigger",function(N){o===N.data.hook.getProduct()&&v.invoke(N.data)}),a.on(pe,function(){T({hooks:p.getVisibleHooks(o),viewSource:ne.SCROLL})}),m(a)},u.adbar=function(){var a=new n.Scroll,o=new n.Adhesion(t.get("partner.adbar",{})),v=new e.AdBar;a.initialise(),o.once("trigger",function(I){v.invoke(I.data)}),o.initialise(a)}}(),u}}return{initialise:s}},rt,We="VM";window[We]=(rt=window[We])!==null&&rt!==void 0?rt:{};var Ri=function(e){e=Yt(e);var t=Qt(e);window[We].debugLog=t;var r=qt(),n=$t(r),p=er(n,t),s=tr(r,t),u=Rr(window,s,e,t),i=cr(e,s,n,Ve,t),c=vr(e,t),l=pr(e,s,c,n,t),y=hr(e,s,l,c,u),w=yr(c,n,e,s,i,p),A=br(l),h=Tr(c,e,n),d=Cr(window,We,s,r),g=Ir(e,d,l,n,u),m=Sr(window,document,e,l);Or(n,l,t);var f=function(){var k=xr(d),N=Lr(document,e,r,s,l);return{template:k,creative:Br(r),position:Ur(s,r,n),adunit:Wr(window,s,r,k,l,t,e),videounit:et(window,document,e,s,r,l),cpeunit:Xr(window,e,s,r,l,et),customunit:qr(window,e,s,r,l,et,N),decoration:N}}(),a=function(){var k=Jr({standard:$r(f.creative,r,l,f.decoration),c2s:en(f.creative,s),banner:tn(f.creative,s,l,e,i,t,f.decoration),video:rn(f.creative,f.videounit),cpe:nn(f.creative,f.cpeunit),custom:on(f.creative,f.customunit)});return{waterfall:k}}(),o=function(){var k=un(document,e,s,r,Ve,l,t),N=dn(s,r,e),S=fn(s),R=vn(s),L=pn();return{hook:k,image:N,paragraph:S,simpleElement:R,textNode:L}}(),v=new Pr(w,e,s,o.image,h,o.textNode,t),b={Adhesion:mn(r),Image:An(r),Gallery:kn(window,e,r,s,o.image,w),ParagraphBreak:In(o.paragraph,r,m),SimpleElement:Nn(o.simpleElement,r,m),TextNode:Hn(e,s,r),Scroll:Mn(n,s,r),Resize:Un(n,r),Gesture:Wn(n,r)},I=function(){var k=zn(e,n,u),N=o.hook,S=o.textNode;return{AdhesionPlacement:jn(f,e,a,s,r,l,g),AdhesionBackfill:Zn(w,s,r,e),AdBarLegacy:qn(window,e,s),AdBar:Jn(w,f,e,a,r,l,g),AutoReveal:k,ScriptsLoader:$n(e),DropInPlacement:ei(f,e,a,r,l,g),InView:function(){var L=ti(e,s);return ri(f,e,a,s,r,l,g,n,L,w)}(),InStory:function(){var L=ii(e,s),D=ni(e,s);return oi(f,e,a,s,r,l,g,n,L,D)}(),Daw:ai(w,f,e,a,r,l,g),Image:function(){var L=si(e),D=ci(s,L);return ui(w,f,e,a,s,r,l,g,D,n)}(),Gallery:vi(r),Inline:pi(w,f,e,a,r,l,g,m),Tooltip:bi(f,e,a,s,r,l,g,n,w),Hook:function(){var L=hi(e,s),D=gi(L),H=mi(l,N,S,D),M=yi(w,r,Ve,H,N,k);return wi(e,S,L,M,D,s,t)}(),VibrantView:Ci(e,r,u),Wordflip:Oi(e,s,r,N,n)}}(),T=function(k){var N=k.data.pubXReached,S;N?(S=e.getInteger("partner.pubx.action",Ge),A.set(S)):A.set(Ge)};e.partner.dynamic&&e.partner.dynamic.forceclear&&n.on(gt,function(k){T(k)}),n.once(ht,function(C){T(C);var k;switch(e.get("platform")){case"desktop":k=Ni;break;case"mobile":k=_i;break;case"tablet":k=Pi;break;default:throw new Error("Unknown platform ".concat(e.get("platform"),"."))}var N=k(I,e,A,b,o.hook,f).initialise();e.getArray("partner.products").forEach(function(S){!N||!Object.hasOwnProperty.call(N,S)||m.isBlocked(S)||N[S](n,S)})}),function(){u.init();var k=e.get("partner.rundelay",0),N=e.get("partner.hook.style.custom",null),S=e.cdn.kormorantcss,R=S.replace("{{version}}",e.version);i.init(l),y.sync(),y.syncConsent(),s.appendStyleSheet("//"+R),N&&s.appendInlineStyle(N);var L=function(M){var O=M.indexOf("://");O===-1?O=0:O+=3;var _=M.length;M.substring(_-2)==="/"&&_--;var x=M.substring(O,_);return x.indexOf("/")===-1},D=function(){s.waitForReadyState(function(){v.run(n);var O=e.referer,_=window.top.document.URL;O?L(O)?t.warn("Referrer is a base URL: "+O):t.info("Using referrer: "+O):t.error("Referrer is empty. This will likely cause major problems."),O!==_&&t.warn("Configured referrer is different to the document URL ("+_+")"),l.pageTracking({referrer:ut.encodeURI(O)})})};k>0?window.setTimeout(D,k):D()}()};window.VM.initialise=Ri});
//# sourceMappingURL=kormorant-1.33.15.min.js.map
