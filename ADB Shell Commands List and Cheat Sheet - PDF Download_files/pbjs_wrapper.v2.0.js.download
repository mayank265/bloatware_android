(()=>{"use strict";const e={getTitle:()=>`%chb-${m}`,styles:{log:"color: white; font-weight: 700; background: #06d8c6; padding: 2px 4px; border-radius: 4px;",error:"color: white; font-weight: 700; background: #fd3c34; padding: 2px 4px; border-radius: 4px;",warn:"color: white; font-weight: 700; background: #ffff99; color: #444; padding: 2px 4px; border-radius: 4px;"},log(){window.wPbjs&&window.wPbjs.debug&&console.log.apply(console,[this.getTitle(),this.styles.log,...arguments])},error(){console.error.apply(console,[this.getTitle(),this.styles.error,...arguments])},warn(){window.wPbjs&&window.wPbjs.debug&&console.warn.apply(console,[this.getTitle(),this.styles.warn,...arguments])}};function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function i(t){try{const i=t.parent.frameElement.parentElement.id;return i?i.split("-").pop():(e.warn("powerad ID not set"),"")}catch{return e.warn("powerad ID not set"),""}}function n(){return!!window.localStorage}const d="https://hb.brainlyads.com",a=`${d}/metrics`,r="https://report2.hb.brainlyads.com",o=`${r}/statistics`,s=t(),c=12e5,u=[1,2],p=864e5,m="2.0",l=8e3;function b(e,t,i){if(!Array.isArray(t))return;let n=e.document.getElementsByTagName("script")[0],d=0;t.forEach((a=>{let r=e.document.createElement("script");r.async=!!a.async,r.type="text/javascript",r.src=a.src,"function"==typeof i&&(r.onload=function(){++d==t.length&&i()});try{n.parentNode.insertBefore(r,n)}catch(e){console.error(e)}}))}const w={getItem(e){const t=w.getJSON(e);return t?this.isExpire(t)?(localStorage.removeItem(e),null):t:null},getItemValue(e){const t=w.getItem(e);return t?t.value:null},getItemExpires(e){const t=w.getItem(e);return t?t.expires:null},setItem(e,t,i){const n={value:t,expires:(new Date).getTime()+i};w.setJSON(e,n)},updateItemValue(e,t){const i=w.getJSON(e);return!!i&&(i.value=t,w.setJSON(e,i),!0)},updateItemExpires(e,t){const i=w.getJSON(e);return!!i&&(i.expires=t,w.setJSON(e,i),!0)},getJSON(e){const t=localStorage.getItem(e);return t?function(e){try{return JSON.parse(e)}catch(e){return console.error(e),null}}(t):null},setJSON:(e,t)=>localStorage.setItem(e,JSON.stringify(t)),isExpire:e=>(new Date).getTime()>e.expires,garbageCollector(e,t=36e5){setTimeout((()=>{Object.keys(localStorage).forEach((t=>{0===t.indexOf(e)&&this.getItem(t)})),this.garbageCollector(e,t)}),t)}},g={key:{getSkip:(e,t,i)=>g.key.make("hb","skc",e,t,i,"s"),getRepeat:(e,t,i)=>g.key.make("hb","skc",e,t,i,"r"),getCap:(e,t,i)=>g.key.make("hb","skc",e,t,i,"c"),getBidderCap:(e,t)=>g.key.make("hb","bc",e,t),getAmazonCap:e=>g.key.make("hb","bac",e),make:(...e)=>e.join("_")},counter:{make:(e,t,i)=>(null===w.getItem(e)&&w.setItem(e,t,i),{count:()=>w.getItemValue(e),ttl:()=>w.getItemExpires(e),setCount(t,i){w.setItem(e,t,i)},incrCount(){w.updateItemValue(e,this.count()+1,i)}})},winbidder:{key:(e,t)=>`hb_${t}_${e}`,incr(e,t){const i=this.key(e,t),n=w.getItem(i);n?w.updateItemValue(i,n.value+1,n.ttl):w.setItem(i,1,p)},count(e,t){const i=this.key(e,t);return w.getItemValue(i)||0}},check:{amazonCap(e,t){if(!e||!t)return!1;const i=g.key.getAmazonCap(t),n=g.counter.make(i,0,p);return!!(n.count()>=e)||(n.incrCount(),!1)},bidderCap(e,t){if(!(e&&e.cap&&t&&t.unitId))return!1;const i=g.key.getBidderCap(e.bidder,t.unitId),n=g.counter.make(i,0,p),d=e.cap;return!!(n.count()>=d)||(n.incrCount(),!1)},perPageCap(e,t){if(!(e&&e.pageCap&&t&&t.unitId&&t.pageId))return!1;if(!e.pageCap.skip&&!e.pageCap.repeat&&!e.pageCap.cap)return!1;const i=p,{pageCap:n}=e,{unitId:d,pageId:a}=t,r=g.key.getSkip(e.bidder,d,a),o=g.key.getRepeat(e.bidder,d,a),s=g.key.getCap(e.bidder,d,a),c=n.skip,u=n.repeat,m=n.cap,l=g.counter.make(r,0,i),b=g.counter.make(o,0,i),w=g.counter.make(s,0,i),f=!!n.capPerFill,h=l.count(),y=b.count(),A=f?t.winbidder:w.count();if(m>0&&A>=m)return!0;if(c>0&&h<c)return l.incrCount(),!0;if(u>0){if(y<u)return b.incrCount(),0!==y||(!f&&m>0&&w.incrCount(),!1);{const e=w.ttl();return b.setCount(0,e-(new Date).getTime()),!0}}return!f&&m>0&&w.incrCount(),!1}},filterBidders:(e,t)=>e.filter((e=>{const i=g.winbidder.count(e.bidder,t.pageId);return!(g.check.bidderCap(e,t)||g.check.perPageCap(e,{...t,winbidder:i}))}))};function f(e){window.pbjs.eventBidWonFuncs[e]&&delete window.pbjs.eventBidWonFuncs[e]}function h(e){return{ver:"1.0",complete:1,nodes:[{asi:e.asi,sid:String(e.sellerId),hp:1}]}}function y(e){return{validation:"strict",config:h(e)}}function A(e,t){const i=e.frameData;C({version:"1.1",eventName:"gamFloorprice",data:{auctionId:i.wPbjsAuctionId,bidder:"gam",unitId:i.unitIds&&i.unitIds[Object.keys(i.unitIds)[0]],domain:i.domain,floorprice:parseFloat(t)},timestamp:Date.now()})}function v(e,t){let i="gam";t?t.gamImpression&&t.prebidImpression?(i=t.bidderCode,D({frameWindow:e,info:t,bidder:i})):t.gamImpression&&setTimeout(D,400,{frameWindow:e,info:t,bidder:i,isTimeout:!0}):D({frameWindow:e,info:t,bidder:i})}function D({frameWindow:e,info:t,bidder:i,isTimeout:n}){T({frameWindow:e,eventName:"gamImpression",info:t,bidder:i,isTimeout:n})}function j(e,t){let i="gam";t?t.gamRender&&t.prebidImpression?(i=t.bidderCode,I({frameWindow:e,info:t,bidder:i})):t.gamRender&&setTimeout(I,500,{frameWindow:e,info:t,bidder:i,isTimeout:!0}):I({frameWindow:e,info:t,bidder:i})}function I({frameWindow:e,info:t,bidder:i,isTimeout:n}){T({frameWindow:e,eventName:"gamRender",info:t,bidder:i,isTimeout:n})}function T({frameWindow:t,eventName:i,info:n,bidder:d,isTimeout:a}){const r=t.frameData;if(r.sentEvent[i])return;r.sentEvent[i]=!0,e.log(`wPbjs => (${t.frameData.divId}) send metric: ${i} ${a?"(timeout) ":""}>>>`,d,n);const o=n&&n.auctionId||r.wPbjsAuctionId;C({version:"1.2",eventName:i,data:{auctionId:o,bidder:d,unitId:r.unitId||r.unitIds&&r.unitIds[Object.keys(r.unitIds)[0]],domain:r.domain,refresh:r.kvRefresh,floorprice:window.pbjs.analyticAdapterOptions.data[o].unitRules[d]||void 0},timestamp:Date.now()})}function C(e){var t;window.pbjs._nextMillenniumStatistic?window.pbjs._nextMillenniumStatistic.add(e):(t=[e],fetch(o,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)}))}function S(){return window&&window.pbjs&&window.pbjs._getNMoriginReport&&window.pbjs._getNMoriginReport()||r}n()&&w.garbageCollector("hb_");const P={schain:void 0,schains:[],config:void 0};function B(t){e.log(`wPbjs => (${t.divId}) >>> checkConfigPbjs`),function(e){var t;(function(e){e.schain&&(P.schain=y(e.schain))})(e),P.config={debug:window.wPbjs.debug,priceGranularity:"high",consentManagement:{usp:{cmpApi:"iab",timeout:e.usPrivacyTimeout}},userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}}},schain:P.schain},function(e){e.isLiveRamp&&(P.config.userSync.userIds=[{name:"identityLink",params:{pid:e.liverampPartnerId},storage:{type:"cookie",name:"idl_env",expires:1}}],P.config.userSync.syncDelay=e.userSyncDelay)}(e),function(e){e.isGdrpIp&&(P.config.consentManagement.gdpr={cmpApi:"iab",defaultGdprScope:!0})}(e),function(e){e.pbsBidders.length&&(P.config.s2sConfig?e.pbsBidders.forEach((e=>{P.config.s2sConfig.some((t=>t==e))||P.config.s2sConfig.bidders.push(e)})):P.config.s2sConfig={accountId:"1",enabled:!0,bidders:e.pbsBidders,endpoint:"https://pbs.nextmillmedia.com/openrtb2/auction",adapter:"prebidServer",cookieSet:!0,syncEndpoint:"https://pbs.nextmillmedia.com/cookie_sync"})}(e),function(e){2==e.type&&(P.config.cache={url:e.cacheUrl})}(e),t=e.schains,Array.isArray(t)&&function(e){return e.map((e=>({bidders:e.bidders,config:{schain:{validation:"relaxed",config:h(e)}}})))}(t).forEach((e=>{const t=P.schains.indexOf((t=>t.bidders.length==e.bidders.length&&t.bidders.every((t=>e.bidders.includes(t)))));-1==t?P.schains.push(e):P.schains[t]=e})),function(e=[]){(function(e=[],t){return e.some((({bids:e=[]})=>e.some((e=>e.bidder===t))))})(e,"yahoossp")&&(P.config.yahoossp={mode:"all"})}(e.adUnits)}(t),function(t){window.pbjs.eventBidWonFuncs[t.pbjsAuctionId]={expire:Date.now()+c},1==t.type&&function(t){window.pbjs.eventBidWonFuncs[t.pbjsAuctionId].func=function(i){try{if(!t.adUnits.some((e=>e.code==i.adUnitCode)))return;t.winBid.prebidImpression=!0,v(t.frameWindow,t.winBid),j(t.frameWindow,t.winBid),n&&g.winbidder.incr(i.bidder,s),function(t,i){try{e.log("event bidWon: info",i),t.pWindow.paGlobal||(t.pWindow.paGlobal={}),t.pWindow.paGlobal.data||(t.pWindow.paGlobal.data={}),t.pWindow.paGlobal.data[i.paId]||(t.pWindow.paGlobal.data[i.paId]={}),t.pWindow.paGlobal.data[i.paId].winningBid=function(e){try{return JSON.parse(JSON.stringify(e))}catch(e){return console.error(e),null}}(i),function(e,t,i){t=`hb:${t}`;try{e.tWindow.postMessage(JSON.stringify({event:t,payload:i}),"*")}catch(e){console.error(e)}}(t,"bidWon",i)}catch(e){console.error(e)}}(window,function(e,t,i,n={}){return{paId:e,unitId:t,divId:i,bidderCode:n.bidderCode,mediaType:n.mediaType,adDomain:n.adserverTargeting?n.adserverTargeting.hb_adomain:""}}(t.paId,t.unitId,t.divId,i));const d=t.pbjsAuctionId,a=t.pbjsUnit;window.pbjs.eventBidWonFuncs[d].winBid=i,t.renderAdTime=Date.now(),t.eventBus.registerEndRenderAd(d),t.skipDFP&&t.adMetrics.flush(d,a,i),e.log(`wPbjs => (${t.divId}) >>> runned pbjs.renderAd`,i.adUnitCode,i);try{window.pWindow.hb_win||(window.pWindow.hb_win={});let e=t.unitIds[i.adUnitCode];window.pWindow.hb_win[e]||(window.pWindow.hb_win[e]={}),window.pWindow.hb_win[e][i.bidderCode]||(window.pWindow.hb_win[e][i.bidderCode]=0),window.pWindow.hb_win[e][i.bidderCode]++}catch(e){}let r=t.bidderOptions||{},o=t.size1x1||{};"gumgum"!=i.bidderCode&&"33across"!=i.bidderCode||(e.log("wPbjs => apAds_hide now fired (bidder: "+i.bidderCode+")"),t.frameWindow.document.dispatchEvent(t.apAdsHide),e.log("wPbjs => option remove code (bidder: "+i.bidderCode+")"),"gumgum"==i.bidderCode&&(window.pWindow.document.querySelector("head").appendChild(window.pWindow.document.createElement("script")).innerHTML=`setTimeout(function() {for(let i of window.document.querySelectorAll('[id^=ad_is]')) {try{i.remove();} catch(e) {console.log('error removing apAds ad (gumgum):');}}},${t.gumgumRemovalTime})`),"33across"==i.bidderCode&&(window.pWindow.document.querySelector("head").appendChild(window.pWindow.document.createElement("script")).innerHTML=`setTimeout(function() {for(let i of window.document.querySelectorAll('[class^="ttx"],[id^="tynt"]')) {try{i.remove();} catch(e) {console.log('error removing apAds ad (33across):');}}},${t.gumgumRemovalTime})`));let c=t.adUnits.find((e=>e.code===i.adUnitCode));if(!c)return void e.log(`wPbjs (${t.divId}) >>> error: ad unit not found`,i.adUnitCode);"undertone"==i.bidderCode&&(e.log("wPbjs => apAds now fired (bidder: "+i.bidderCode+")"),t.frameWindow.document.dispatchEvent(t.apAds),r[i.bidderCode].hideAd&&(e.log("wPbjs => apAds_hide now fired (bidder: "+i.bidderCode+")"),t.frameWindow.document.dispatchEvent(t.apAdsHide)),r[i.bidderCode].removeX&&(e.log("wPbjs => apAds_x now fired (bidder: "+i.bidderCode+")"),t.frameWindow.document.dispatchEvent(t.apAdsX)),r[i.bidderCode].removeCode&&(e.log("wPbjs => option remove code (bidder: "+i.bidderCode+")"),window.pWindow.document.querySelector("head").appendChild(window.pWindow.document.createElement("script")).innerHTML=`setTimeout(function() {try{window.document.querySelector('.ut_container').remove();} catch(e) {console.log('error removing apAds ad:');}},${t.gumgumRemovalTime})`),o[i.bidderCode]&&!c.sizes.some((e=>e[0]===i.width&&e[1]===i.height))&&r[i.bidderCode].inlineHeight&&(e.log("wPbjs => apAds_line now fired (bidder: "+i.bidderCode+")"),t.frameWindow.document.dispatchEvent(t.apAdsLine)));let u=!1;if("teads"==i.bidderCode&&o.teads&&r.teads.apAdsDiv&&(1===i.width&&1===i.height||!c.sizes.some((e=>e[0]===i.width&&e[1]===i.height)))){e.log("wPbjs => apAds_div now fired (bidder: "+i.bidderCode+")"),t.frameWindow.document.dispatchEvent(t.apAds),u=!0;let n=new CustomEvent("apAds_div",{detail:i.adUnitCode});t.frameWindow.document.dispatchEvent(n)}["justpremium","sublime","teads","triplelift"].indexOf(i.bidderCode)>-1&&o[i.bidderCode]&&!c.sizes.some((e=>e[0]===i.width&&e[1]===i.height))&&(r[i.bidderCode].stopRefresh&&(e.log("wPbjs => apAds now fired (bidder: "+i.bidderCode+")"),u||(t.frameWindow.document.dispatchEvent(t.apAds),u=!0)),r[i.bidderCode].inlineHeight&&(e.log("wPbjs => apAds_line now fired (bidder: "+i.bidderCode+")"),t.frameWindow.document.dispatchEvent(t.apAdsLine)),r[i.bidderCode].removeX&&(e.log("wPbjs => apAds_x now fired (bidder: "+i.bidderCode+")"),t.frameWindow.document.dispatchEvent(t.apAdsX)),r[i.bidderCode].hideAd&&(e.log("wPbjs => apAds_hide now fired (bidder: "+i.bidderCode+")"),t.frameWindow.document.dispatchEvent(t.apAdsHide))),setTimeout(f,1e4,t.pbjsAuctionId)}catch(e){console.error(e)}}}(t),2==t.type&&function(t){window.pbjs.eventBidWonFuncs[t.pbjsAuctionId].func=function(i){e.log(`wPbjs => (${t.divId}) event bidWon`);try{window.pWindow.hb_win||(window.pWindow.hb_win={});var n=t.unitIds[i.adUnitCode];window.pWindow.hb_win[n]||(window.pWindow.hb_win[n]={}),window.pWindow.hb_win[n][i.bidderCode]||(window.pWindow.hb_win[n][i.bidderCode]=0),window.pWindow.hb_win[n][i.bidderCode]++}catch(e){}}}(t)}(t)}function E(e,t,i){i.amazon||(i.amazon=!0,window.wPbjs.bidderTypeComplete(e,"amazon"))}const W=function(e){if(!e)return;if("string"==typeof e&&e.includes("x")&&(e=e.split("x").map((e=>parseInt(e)))),!e[0])return;let t=[];return Array.isArray(e[0])?e.forEach((e=>{t.push({w:e[0],h:e[1]})})):t.push({w:e[0],h:e[1]}),t},x={nm:function(e,t){let i=W(t.sizes||e.sizesAdUnit||e.size||e.sizes)||[300,250];return{bidder:"nm",endpoint:"https://pbs.nextmillmedia.com/openrtb2/auction",corsMode:"cors",body:{id:e.pbjsAuctionId,source:{tid:e.pbjsAuctionId,ext:{schain:{ver:"1.0",complete:1,nodes:[{asi:"nextmillennium.io",sid:"15170",hp:1}]}}},tmax:8e3,imp:[{id:e.divId,ext:t.bidderParams||{},banner:{format:i}}],test:t.test||0,ext:t.rootExt,site:{publisher:{id:t.siteId||1},page:document.domain},device:{w:window.innerWidth||screen.availWidth,h:window.innerHeight||screen.availHeight},regs:{ext:{us_privacy:"1---"}}}}},loopme:function(e,t){let i=W(t.sizes||e.sizesAdUnit||e.size||e.sizes)||[300,250];return{bidder:"loopMe",endpoint:"https://next-millennium-media-eu.loopmertb.com",corsMode:"no-cors",body:{id:e.pbjsAuctionId,source:{tid:e.pbjsAuctionId,ext:{schain:{ver:"1.0",complete:1,nodes:[{asi:"nextmillennium.io",sid:"15170",hp:1}]}}},tmax:l,imp:[{id:e.divId,ext:t.imp&&t.imp.biddersExt||{},banner:{w:i[0].w,h:i[0].h,format:i}}],ext:{},site:{page:document.domain},device:{w:window.innerWidth||screen.availWidth,h:window.innerHeight||screen.availHeight,ip:t.ip,os:t.os,osv:t.osv,ua:window.navigator.userAgent},at:1,cur:["USD"],regs:{ext:{us_privacy:"1---"}}}}}};function U(e,t){e.frameData.ortbWinBidChosen||(t&&e.frameData.ortbBids.push(t),++e.frameData.ortbCompletedBidders>=e.frameData.ortbTotalBidders&&function(e){if(e.frameData.ortbWinBidChosen)return R(e);if(e.frameData.ortbWinBidChosen=!0,!e.frameData.ortbBids.length)return R(e);let t,i=0;e.frameData.ortbBids.forEach((e=>{e.seatbid.forEach((e=>{e.bid.forEach((e=>{e.price>i&&(t=e,i=e.price)}))}))})),t&&i&&(e.frameData.ortbBid={cpm:i,bid:t,size:[t.w||300,t.h||250]}),R(e)}(e))}function R(e){if(e.frameData.ortbDone)return;e.frameData.ortbDone=!0;let t={};if(!(e.frameData.ortbBid&&e.frameData.ortbBid.cpm&&e.frameData.ortbBid.bid))return e.wPbjs.bidderTypeComplete(e,"openrtb");t={ortb_pb:e.frameData.ortbBid.cpm.toFixed(2),ortb_bidder:e.frameData.ortbBid.bidder||"unknown",ortb_size:(e.frameData.ortbBid.size||[300,250]).join("x"),auction_id:e.frameData.pbjsAuctionId},e.googletag.cmd.push((()=>{Object.entries(t).forEach((t=>{e.frameData.gptSlot.setTargeting(t[0],t[1])}))})),e.wPbjs.bidderTypeComplete(e,"openrtb")}function _(t){e.log(`wPbjs => (auctionId = ${t}) >>> prebid request`);let i=window.pbjs.analyticAdapterOptions.auctions[t];i.forEach((e=>{let t=window.wPbjs.frameDatas[e];!function(e){let t=Object.keys(e.deducts);if(!e.deducts||t.length)return null;let i={};for(let n=0;n<t.length;n++)i[t[n]]={bidCpmAdjustment:function(i){return i*e.deducts[t[n]]}};window.pbjs.bidderSettings=i}(t),t.ortbBidders.length&&!t.skipDFP&&(t.totalBidderTypes++,t.ortbBidders=t.ortbBidders.map((e=>x[e.bidder](t,e.params||{}))),function(e,t){if(!(t=t.filter((e=>e.endpoint&&e.body))).length)return U(e,e);e.frameData.ortbTotalBidders=t.length,t.forEach((t=>{fetch(t.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},mode:t.corsMode,body:JSON.stringify(t.body)}).then((e=>{if(200===e.status)return e.json()})).then((t=>{if(!t)return U(e);U(e,t)})).catch((i=>{console.error("error from ortb bidder: ",t.bidder||"",i),U(e)}))})),setTimeout((()=>{R(e)}),1500)}(t.frameWindow,t.ortbBidders))}));let n=function(t){let i=!1;return function(){e.log(`wPbjs => (auctionId = ${t}) >>> parse results - start`,i),i||(i=!0,window.pbjs.analyticAdapterOptions.auctions[t].forEach((i=>{let n=window.wPbjs.frameDatas[i];var d;e.log(`wPbjs => (auctionId = ${t}, divId = ${n.divId}) >>> select the winner`),n.startAuctionTime=Date.now(),n.eventBus.registerStartAuction(i),n.type&&1!=n.type?(d=n.frameWindow,e.log(`wPbjs => (${d.frameData.divId}) >>> run initAdserver video, isRun = ${d.frameData.isRequestEnd.pbjs}`),d.frameData.isRequestEnd.pbjs||(d.frameData.isRequestEnd.pbjs=!0,window.wPbjs.bidderTypeComplete(d,"prebid"))):function(t){e.log(`wPbjs => (${t.frameData.divId}) >>> func initAdserver - start, pbjs.initAdserverSet =`,t.frameData.isRequestEnd.pbjs),t.frameData.isRequestEnd.pbjs||(t.frameData.endAuctionTime=Date.now(),t.frameData.eventBus.registerEndAuction(t.frameData.pbjsAuctionId),t.frameData.isRequestEnd.pbjs=!0,t.frameData.skipDFP?function(t){e.log(`wPbjs => (${t.frameData.divId}) >>> initAdserverBannerSkipGAM`),t.googletag.cmd&&t.googletag.cmd[0]&&t.googletag.cmd[0]();let i=new CustomEvent("slotRenderEnded");i.isEmpty=!0,t.pbjs.que.push((function(){let n=O(t,k(t)),d=n.adUnitCode;if(e.log("wPbjs => func initAdserver - selectWin, winAdUnitCode =",d),n.isWin){i.isEmpty=!1,i.size=t.adUnitSize;let n=window.pbjs.getAdserverTargetingForAdUnitCode(d);e.log("wPbjs => func initAdserver - getAdserverTargetingForAdUnitCode, winTargetData =",n),t.frameData.renderData[d]=n,n=JSON.parse(JSON.stringify(n)),t.frameData.renderData[d].rendered=!1,t.dataPbjsWin={},t.dataPbjsWin[d]=n;let a=new Event("setTargeting");t.document.dispatchEvent(a),window.wPbjs.bidderTypeComplete(t,"prebid - skipDFP")}t.googletag.pubads().dispatchEvent(i)}))}(t):function(t){e.log(`wPbjs => (${t.frameData.divId}) >>> initAdserverBannerGAM`),t.googletag.cmd.push((function(){t.pbjs.que.push((function(){let i=O(t,k(t)),n=i.adUnitCode,d=i.bidData;if(e.log(`wPbjs => (${t.frameData.divId}) winAdUnitCode = ${n}`),t.frameData.customTargetings.forEach((e=>{Array.isArray(e)&&e.length>1&&t.frameData.gptSlot.setTargeting(String(e[0]),String(e[1]))})),i.gamCpm&&!i.isWin&&(t.frameData.gptSlot.setTargeting("fp_pb",i.gamCpm.toFixed(2)),t.frameData.gptSlot.setTargeting("nm_id",t.frameData.nmAd.id),A(t,i.gamCpm)),e.log(`wPbjs => (${t.frameData.divId}) >>> winAdUnitCode = ${n}`),i.isWin){e.log(`wPbjs => (${t.frameData.divId}) >>> set targetings, winAdUnitCode = ${n}`);let a=d.adserverTargeting;Object.keys(a).forEach((e=>{t.frameData.gptSlot.setTargeting(e,a[e])})),t.frameData.gptSlot.setTargeting("auctionId",t.frameData.pbjsAuctionId);let r=a&&parseFloat(a.hb_pb);t.frameData.gptSlot.setTargeting("orig_hb_pb",i.maxCpm.toFixed(2)),i.gamCpm&&i.maxCpm<i.gamCpm&&(r=i.gamCpm,t.frameData.gptSlot.setTargeting("hb_pb",r.toFixed(2)),A(t,i.gamCpm)),function({biddingRule:t,cpm:i,divId:n,gptSlot:d,targets:a,winAdUnitCode:r}){if(Number.isNaN(i)||!(a&&t[a.hb_bidder]&&t[a.hb_bidder].value))return;let o=1==t[a.hb_bidder].type&&t[a.hb_bidder].value||2==t[a.hb_bidder].type&&t[a.hb_bidder].value*i||0;if(!o)return;let s=i+o;s=s.toFixed(2),d.setTargeting(keyHbPb,s),e.log(`wPbjs => (${n}) set targetings, winAdUnitCode = `,r,"hb_bidder=",a.hb_bidder,"hb_pb=",a.hb_pb,"google hb_pb=",s);let c="hb_pb_"+a.hb_bidder;d.getTargeting(c).length&&(d.setTargeting(c,s),e.log(`wPbjs => (${n}) >>> set targetings, winAdUnitCode = `,r,"hb_bidder=",a.hb_bidder,"hb_pb=",a.hb_pb,"google "+c+"=",s))}({biddingRule:t.frameData.biddingRule,cpm:r,divId:t.frameData.divId,gptSlot:t.frameData.gptSlot,targets:a,winAdUnitCode:n})}else t.frameData.gptSlot.setTargeting("hb_pb","0.00"),t.frameData.gptSlot.setTargeting("orig_hb_pb","0.00");!function(t,i){try{const n=t.getTargetingKeys(),d={};n.forEach((e=>{d[e]=t.getTargeting(e)})),e.log(`wPbjs => (${i}) >>> GPT targetings`,d)}catch(t){e.error(t)}}(t.frameData.gptSlot,t.frameData.divId),window.wPbjs.bidderTypeComplete(t,"prebid")}))}))}(t))}(n.frameWindow)})))}}(t);window.pbjs.que.push((function(){try{i.forEach((e=>{let t=window.wPbjs.frameDatas[e];t.startAuctionTime=Date.now(),t.eventBus.registerStartAuction(e)})),window.pbjs.requestBids({auctionId:t,adUnitCodes:i.reduce(((e,t)=>e.concat(window.wPbjs.frameDatas[t].adUnits.map((e=>e.code)))),[]),bidsBackHandler:n,timeout:window.pbjs.bidTimeout})}catch(t){e.error(t)}})),setTimeout(n,3500)}function k(t){return e.log(`wPbjs => (${t.frameData.divId}) >>> getAllBidResponeses`),t.frameData.adUnits.map((e=>e.code)).reduce(((e,t)=>{let i=window.pbjs.getBidResponsesForAdUnitCode(t);return i&&(e[t]=i),e}),{})}function O(t,i){e.log(`wPbjs => (${t.frameData.divId}) >>> selectWin`,i);let n=t.frameData.unitRule,d=Object.keys(i),a=[];for(let n=0;n<d.length;n++){let r=z(t.frameData.adUnits.find((e=>e.code===d[n]))),o=0;a.push({winAdUnitCode:"",winAdUnitData:null});for(let s=0;s<i[d[n]].bids.length;s++)e.log(`wPbjs => (${t.frameData.divId}) Response: adUnitCode=`+d[n]+" cpm=$"+i[d[n]].bids[s].cpm+" bidder="+i[d[n]].bids[s].bidder+(r&&" unitSizes="+JSON.stringify(r)||"")+" responseSize=["+i[d[n]].bids[s].width+","+i[d[n]].bids[s].height+"]"),i[d[n]].bids[s].cpm>o&&(a[n].winAdUnitCode=d[n],a[n].winAdUnitData=i[d[n]].bids[s],o=i[d[n]].bids[s].cpm)}e.log(`wPbjs => (${t.frameData.divId}) winsAdUnit >>>`,a);let r,o={isWin:!1,adUnitCode:"",bidData:null,maxCpm:0,gamCpm:0},s=n.find((e=>"gam"===e.code));o.gamCpm=s&&s.price||0;for(let e=0;e<a.length;e++)a[e].winAdUnitCode&&a[e].winAdUnitData.cpm>o.maxCpm&&(o.adUnitCode=a[e].winAdUnitCode,o.bidData=a[e].winAdUnitData,o.maxCpm=a[e].winAdUnitData.cpm);if(e.log(`wPbjs => (${t.frameData.divId}) response >>>`,o),o.adUnitCode){r=t.frameData.adUnits.find((e=>e.code===o.adUnitCode));let i=n.find((e=>e.code===o.bidData.bidderCode)),d=i&&i.price;if(!d&&"rhythmone"==o.bidData.bidderCode){let e=r.bids.find((e=>"rhythmone"==e.bidder));d=e&&e.params&&e.params.floor||t.frameData.defaultFloorRhythmone}(!d||d&&d<=o.bidData.cpm)&&(o.isWin=!0,d&&d>0&&(e.log(`wPbjs => (${t.frameData.divId}) floorprice >>>`,d),t.frameData.unitIds.floorprice=d))}if(o.isWin){o.bidData.pbjsAuctionId=t.frameData.pbjsAuctionId;let i=z(r);t.adUnitSize=[o.bidData.width,o.bidData.height],e.log(`wPbjs => (${t.frameData.divId}) Winner: adUnitCode=`+o.adUnitCode+" cpm=$"+o.bidData.cpm+" bidder="+o.bidData.bidder+" unitSizes="+JSON.stringify(i)+" responseSize=["+o.bidData.width+","+o.bidData.height+"]");const n=o.bidData.bidderCode,d=o.bidData.auctionId;t.frameData.winBid={auctionId:d,bidderCode:n},1==t.frameData.unitType&&function({bid:t,divId:i,unitId:n,refresh:d,unitRule:a}){if(e.log(`wPbjs (${i}) >>> getNMTargetImp:`,t),"string"!=typeof t.auctionId)return;t.adserverTargeting.nm_aid=t.auctionId.replace(/\-/g,""),t.adserverTargeting.nm_uid=n||"",t.adserverTargeting.nm_ref=d,t.adserverTargeting.nm_fp=a[t.adserverTargeting.hb_bidder]||"";const r=S(),o=r.replace(/https?\:\/\//,"");t.adserverTargeting.nm_dom=o,t.adserverTargeting.nm_secure=/https\:\/\//.test(r)?1:0,e.log(`wPbjs (${i}) >>> getNMTargetImp:`,t.adserverTargeting)}({bid:o.bidData,divId:t.frameData.divId,unitId:t.frameData.unitId,refresh:t.frameData.kvRefresh,unitRule:window.pbjs.analyticAdapterOptions.data[o.bidData.auctionId].unitRules}),function(e,t){const i=e.frameData,n=t.auctionId||i.wPbjsAuctionId;C({version:"1.1",eventName:"winBid",data:{auctionId:n,bidder:t.bidder,unitId:i.unitIds&&i.unitIds[Object.keys(i.unitIds)[0]],domain:i.domain,refresh:i.kvRefresh,floorprice:window.pbjs.analyticAdapterOptions.data[n].unitRules[t.bidder]||void 0},timestamp:Date.now()})}(t,o.bidData)}return o}function z(e){return e&&e.mediaTypes?e.mediaTypes.banner?e.mediaTypes.banner.sizes:e.mediaTypes.video?e.mediaTypes.video.playerSize:"":""}const $=()=>performance&&performance.now()||Date.now(),F="empty";window.PWT=window.PWT||{},window.pWindow=void 0;try{window.parent.parent.document,window.pWindow=window.parent.parent.window}catch(e){try{window.parent.document,window.pWindow=window.parent.window}catch(e){window.pWindow=window}}window.tWindow=function e(t,i=0){if(i>10)return t;try{return t.parent.document,e(t.parent.window,++i)}catch(e){return t}}(window);const N=window.wPbjs=window.wPbjs||{frameDatas:{}};function M({endTime:t,auctionId:i,auctionIds:n}){window.pbjs.analyticAdapterOptions.auctions[i]=n.filter((e=>window.wPbjs.frameDatas[e])),window.pbjs.analyticAdapterOptions.auctions[i].forEach((e=>{window.wPbjs.frameDatas[e].wPbjsAuctionId=i})),window.pbjs.analyticAdapterOptions.auctions[i].length==n.length||t<=$()?function(t){(function(t){if(e.log(`setDataForStatistic (${t})`),!window.pbjs.analyticAdapterOptions.auctions[t])return;e.log(`setDataForStatistic (${t}) >>> auctionIds:`,window.pbjs.analyticAdapterOptions.auctions[t]);const i={},n={},d={};window.pbjs.analyticAdapterOptions.auctions[t].forEach((e=>{if(!window.wPbjs.frameDatas[e])return;const t=window.wPbjs.frameDatas[e];let a;if(Object.keys(t.unitIds).forEach((e=>{a||(a=t.unitIds[e]),i[e]=t.unitIds[e]})),Array.isArray(t.customTargetings)){let e=t.customTargetings.find((e=>"refresh"==e[0]));e&&(t.kvRefresh=parseInt(e[1])||0),(!d[a]||d[a]&&d[a]<t.kvRefresh)&&(d[a]=t.kvRefresh),n[a]||(n[a]=t.unitRule.reduce(((e,i)=>(e[i.code]=i.price,t.unitRules[i.code]=i.price,e)),{}))}})),window.pbjs.analyticAdapterOptions.data[t]={unitIds:i,unitRules:n,kvRefreshes:d},window.pbjs.adUnitExpire[t]=Date.now()+c,e.log(`setDataForStatistic (${t}) >>> stat data:`,window.pbjs.analyticAdapterOptions.data[t],i,n,d)})(t),e.log("wPbjs => pbjsConfig",P.config),window.pbjs.que.push((function(){window.pbjs.setConfig(P.config),P.schains.forEach((e=>{window.pbjs.setBidderConfig(e)}))})),_(t)}(i):setTimeout(M,5,{endTime:t,auctionId:i,auctionIds:n})}function q(t){if("function"==typeof t)try{t.call()}catch(t){e.error("Error processing command:",t.message,t.stack)}else e.error("Command is not a function")}window.wPbjs.cmd=window.wPbjs.cmd||[],window.wPbjs.debug="1"===function(e){let t=window.document.cookie.match(new RegExp("(?:^|; )"+"hbdebug".replace(/([\.$?*|{}\(\)\[\]\\\/\\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}()||window.pWindow.location&&window.pWindow.location.search&&window.pWindow.location.search.replace(/^\?/,"").split("&").some((e=>"hbdebug=1"===e)),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.analyticAdapterOptions={version:"1.1",data:{},auctions:{}},window.pbjs.bidTimeout=1500,window.pbjs.adUnitExpire={},window.pbjs.eventBidWonFuncs={},window.pbjs.que.push((function(){window.pbjs.aliasBidder("appnexus","appnexus1",{gvlid:32}),window.pbjs.enableAnalytics([{provider:"nextMillennium",options:window.pbjs.analyticAdapterOptions}]),window.pbjs.onEvent("bidWon",(function(e){const t=e.pbjsAuctionId||e.auctionId;window.pbjs.eventBidWonFuncs[t]&&window.pbjs.eventBidWonFuncs[t].func(e)}))})),N.add=function(t,d){if(t.debug&&(N.debug=!0),e.log(`wPbjs.add (${t&&t.divId}) >>>`,N),!t)return;const r={expire:Date.now()+12e5,frameWindow:d,startTime:Date.now()};if(N.frameDatas[t.auctionId]=d.frameData=r,r.pbjsAuctionId=t.auctionId,r.eventBus=function(){const t={startWrapper:"startWrapper",startAuction:"startAuction",endAuction:"endAuction",startRenderAd:"startRenderAd",endRenderAd:"endRenderAd",slotRenderEnded:"slotRenderEnded",slotOnload:"slotOnload",impressionViewable:"impressionViewable"},i={auctions:{}};let n={event:""};const d={debug:!1},a={events:i,state:n,eventsList:()=>Object.values(t),registerStartWrapper:function(){var e;i[e=t.startWrapper]=o(e),s(e),c(i[e]),i[e]},registerStartAuction:function(e){r(t.startAuction,e)},registerEndAuction:function(e){r(t.endAuction,e)},registerStartRenderAd:function(e){r(t.startRenderAd,e)},registerEndRenderAd:function(e){r(t.endRenderAd,e)},registerSlotRenderEnded:function(e){r(t.slotRenderEnded,e)},registerSlotOnload:function(e){r(t.slotOnload,e)},registerImpressionViewable:function(e){r(t.impressionViewable,e)},cleanAuction:function(e){delete i.auctions[e]},getStartWrapper:()=>i[t.startWrapper]||null,getStartAuction:e=>a.getAuctionEvent(e,t.startAuction),getEndAuction:e=>a.getAuctionEvent(e,t.endAuction),getStartRenderAd:e=>a.getAuctionEvent(e,t.startRenderAd),getEndRenderAd:e=>a.getAuctionEvent(e,t.endRenderAd),getSlotRenderEnded:e=>a.getAuctionEvent(e,t.slotRenderEnded),getSlotOnload:e=>a.getAuctionEvent(e,t.slotOnload),getImpressionViewable:e=>a.getAuctionEvent(e,t.impressionViewable),getAuctionEvent(e,t){const n=i.auctions[e];return n&&n[t]?n[t]:null},setDebug(e){d.debug=e}};return a;function r(e,t){return i.auctions[t]||(i.auctions[t]={}),i.auctions[t][e]=o(e),s(e),c(i.auctions[t][e]),i.auctions[t][e]}function o(e,t){const i={name:e,timestamp:Date.now(),performanceTime:performance?performance.now():null};return t&&(i.auctionId=t),i}function s(e){n.event=e}function c(t){if(!0===d.debug){const i=[t.auctionId?t.auctionId+":"+t.name:t.name,"Timestamp: "+t.timestamp,"PerfomanceTime: "+t.performanceTime];e.log(i.join("; "))}}}(),r.adMetrics=function(e,t){const i={flush:function(e,t,n){try{const d={name:t&&t.name,domain:t&&t.domain,bidder:n&&n.bidderCode,metrics:i.calculate(e)};return i.send(d)}catch(e){console.error(e)}},calculate:function(e){const i={auctionInit:n(e),auctionHolding:d(e),renderAd:r(e),slotRenderEnded:o(e),slotOnload:s(e),prebidStartDuration:t.startAuctionTime-t.startTime,auctionDuration:t.endAuctionTime-t.startAuctionTime,renderAdDuration:t.renderAdTime-t.endAuctionTime};return Object.keys(i).forEach((e=>{null===i[e]&&delete i[e]})),i},send(e){fetch(a,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)})}};return i;function n(t){return c(e.getStartWrapper(),e.getStartAuction(t))}function d(t){return c(e.getStartAuction(t),e.getEndAuction(t))}function r(t){return c(e.getStartRenderAd(t),e.getEndRenderAd(t))}function o(t){return c(e.getStartRenderAd(t),e.getSlotRenderEnded(t))}function s(t){return c(e.getStartRenderAd(t),e.getSlotOnload(t))}function c(e,t){let i=null;return e&&t?(i=e.hasOwnProperty("performanceTime")&&t.hasOwnProperty("performanceTime")?t.performanceTime-e.performanceTime:t.timestamp-e.timestamp,i=i>0?i:Math.abs(i),i=Math.round(i),i):i}}(r.eventBus,d),r.eventBus.registerStartWrapper(),t.prebidBidTimeout>window.pbjs.bidTimeout&&(window.pbjs.bidTimeout=t.prebidBidTimeout),r.winBid=null,r.gptSlot=null,r.type=u.some((e=>t.type==e))&&t.type||1,r.adUnitCodeToDFPPath=t.adUnitCodeToDFPPath||{},r.biddingRule=t.biddingRule||{},r.skipDFP=!!t.skipDFP,r.codeAdUnit=t.codeAdUnit||"",r.divId=t.divId||"",r.defaultFloorRhythmone=t.defaultFloorRhythmone||void 0,r.unitId=t.unitIndex||0,r.nmAd=t.nmAd||{},r.unitIds=t.unitIds||{},r.domain=t.unit&&t.unit.domain||void 0,r.pbjsUnit=t.unit,r.sizeFluid=t.sizeFluid,r.sizeFluidOnlyForGAM=t.sizeFluidOnlyForGAM,r.schain=t.schain,r.schains=t.schains||[],r.bidderOptions=t.bidderOptions,r.size1x1=t.size1x1,r.gumgumRemovalTime=t.gumgumRemovalTime,r.usPrivacyTimeout=t.usPrivacyTimeout,r.isLiveRamp=t.isLiveRamp,r.liverampPartnerId=t.liverampPartnerId,r.userSyncDelay=t.userSyncDelay,r.isGdrpIp=t.isGdrpIp,r.pbsBidders=t.pbsBidders,r.cacheUrl=t.cacheUrl,r.deducts=t.deducts,r.nearEnabled=t.nearEnabled,t.unitSizes){let i=t.unitSizes;e.log(`wPbjs => paUnitSizes >>> (unitId = ${r.unitId}) Array = ${Array.isArray(i)}`,typeof i,JSON.stringify(i),"sizesAdUnit >>>",JSON.stringify(t.sizesAdUnit));try{"string"==typeof t.unitSizes&&(t.unitSizes=JSON.parse(t.unitSizes)),Array.isArray(t.unitSizes)||(t.unitSizes=[])}catch(e){console.error("unitSizes parse >>> ",t.unitSizes,e),t.unitSizes=[]}Array.isArray(t.unitSizes)&&t.unitSizes.length&&(t.sizesAdUnit=t.unitSizes,t.adUnits.forEach((e=>{/^1\-.+/.test(e.code)&&(e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(e.mediaTypes.banner.sizes=t.sizesAdUnit),e.mediaTypes.video&&e.mediaTypes.video.playerSize&&(e.mediaTypes.video.playerSize=t.sizesAdUnit))}))),e.log(`wPbjs => set sizesAdUnit >>> (unitId = ${r.unitId})`,JSON.stringify(t.sizesAdUnit))}if(r.sizesAdUnit=t.sizesAdUnit,r.apAds=new Event("apAds"),r.apAdsLine=new Event("apAds_line"),r.apAdsX=new Event("apAds_x"),r.apAdsHide=new Event("apAds_hide"),d.adUnitSize=null,r.renderData={},r.isRequestEnd={amazon:!1,pbjs:!1},r.sentEvent={gamImpression:!1,gamRender:!1},r.paId=i(d),r.paUnitId=function(t){try{const n=function(t){try{const e=i(t,window);if(e)return window.tWindow.paGlobal.data[e]}catch{return e.warn("powerad unit not set"),null}}(t,window);if(n)return n.pli}catch{return e.warn("powerad unit id not set"),null}}(d),r.adUnits=[],r.unitRuleTestStatus=void 0,r.testStatus=null,r.amazonBids=!1,r.customTargetings=[],r.amazonCustomTargetings={},r.kvRefresh=0,r.winVideoAdUnitCode="",r.domain=void 0,r.unitType=2==t.type?2:1,r.totalBidderTypes=1,r.completedBidderTypes=0,r.ortbTotalBidders=0,r.ortbCompletedBidders=0,r.ortbWinBidChosen=!1,r.ortbDone=!1,r.ortbBidders=t.ortbBidders||[],r.ortbBid=null,r.ortbAdRendered=!1,r.ortbBids=[],r.unitRule=t.unitRule||[],r.unitRules={},r.unitRule&&t.unitRulePercent){const e=t.unitRulePercent;100*Math.random()<e.percent?r.unitRuleTestStatus=e.test_status:r.unitRuleTestStatus="Control"}if("string"==typeof t.customTargetings)try{t.customTargetings=JSON.parse(t.customTargetings)}catch(e){t.customTargetings=[]}t.adUnits&&(n&&(t.adUnits=t.adUnits.map((e=>(e.bids=g.filterBidders(e.bids,{unitId:r.unitId,pageId:s}),e)))),r.adUnits=t.adUnits),!t.skipDFP&&t.customTargetings&&(r.customTargetings=t.customTargetings),r.testStatus=r.unitRuleTestStatus||t.biddingRuleTestStatus,r.testStatus&&r.customTargetings.push(["testStatus",r.testStatus]);try{e.log("nmbid window.pWindow.nmBidMeta",window.pWindow.nmBidMeta)}catch(e){console.error(e)}r.nmBidTargeting=function(e,t){const i=function(e={},t){return t||(t=Object.keys(e)[0]),e[t]||{}}(e,t);return[["nmBidBrowserType",i.browserType||F],["nmBidDeviceType",i.deviceType||F],["nmBidCountryType",i.countryType||F],["nmBidHour","hour"in i?i.hour:F],["nmBidRefreshCount","refreshCount"in i?i.refreshCount:F],["nmBidCpm",i.cpm||F]]}(window.pWindow.nmBidMeta,r.paUnitId);try{e.log("nmbid frameData.nmBidTargeting",r.nmBidTargeting)}catch(e){console.error(e)}r.nmBidTargeting&&r.nmBidTargeting.length&&(e.log("wPbjs.run >>> nmBidTargeting >>>",r.nmBidTargeting),r.customTargetings=r.customTargetings.concat(r.nmBidTargeting)),B(r),t.amazonBids=t.amazonBids&&!g.check.amazonCap(t.amazonCap,r.unitId),t.amazonBids&&!r.skipDFP&&(r.totalBidderTypes++,function(e){const t=e.frameData;!function(e,t,i,n,d,a,r){function o(i,n){t[e]._Q.push([i,n])}t[e]||(t[e]={init:function(){o("i",arguments)},fetchBids:function(){o("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(a=i.createElement(n)).async=!0,a.src="//c.amazon-adsystem.com/aax2/apstag.js",(r=i.getElementsByTagName(n)[0]).parentNode.insertBefore(a,r))}("apstag",e,e.document,"script");let i,n={pubID:"79e40b05-e673-4b6c-85f9-79252a7f96a5",bidTimeout:2e3};n.schain=P.schain?P.schain.config:t.schain&&"object"==typeof t.schain?y(t.schain).config:void 0,setTimeout(E,t.prebidBidTimeout||1500,e,t.type,e.frameData.isRequestEnd);let d={slots:[{sizes:t.sizesAdUnit}]};1==t.type&&(n.adServer="googletag",d.slots[0].slotName=t.codeAdUnit,d.slots[0].slotID=t.divId,i=function(t){e.frameData.isRequestEnd.amazon||e.googletag.cmd.push((function(){e.apstag.setDisplayBids(),E(e,0,e.frameData.isRequestEnd)}))}),2==t.type&&(n.videoAdServer="DFP",d.slots[0].mediaType="video",d.slots[0].slotID="video_HB",i=function(i){if(!e.frameData.isRequestEnd.amazon){try{t.amazonCustomTargetings=i&&i[0]&&i[0].qsParams&&i[0].qsParams.split("&").reduce(((e,t)=>{if(t){let i=t.split("=");e[i[0]]=i[1]}return e}),{})||{}}catch(e){console.error(e),t.amazonCustomTargetings={}}E(e,0,e.frameData.isRequestEnd)}}),e.apstag.init(n),e.apstag.fetchBids(d,i)}(d),r.amazonBids=t.amazonBids),function(t,i){e.log(`wPbjs => (${t.frameData.divId}) loadScripts!!!!!`);let n=[];i.skipDFP||n.push({src:"https://www.googletagservices.com/tag/js/gpt.js",async:!0}),i.isBidderSublime&&n.push({src:`//sac.ayads.co/sublime/${i.sublimeZoneId}/prebid`,async:!1}),b(t,n)}(d,t),function(t){const i=t.frameData;if(e.log(`wPbjs => (${i.divId}) >>> getGptSlot`),i.skipDFP)return void(t.googletag.pubads=function(){return t.document.getElementById(i.divId)});let n=[];i.sizeFluid&&n.push("fluid"),(!i.sizeFluid||i.sizeFluid&&!i.sizeFluidOnlyForGAM)&&(n=n.concat(i.sizesAdUnit)),t.googletag.cmd.push((function(){t.googletag.pubads().disableInitialLoad(),i.gptSlot=t.googletag.defineSlot(i.codeAdUnit,n,i.divId).addService(t.googletag.pubads()),t.googletag.pubads().enableSingleRequest(),!0!==i.nearEnabled&&t.googletag.enableServices()}))}(d),r.nearEnabled&&!r.skipDFP&&function(t){t.googletag.cmd.push((function(){const i=t.npt||window.pWindow&&window.pWindow.npt;if(!i)return e.error("wPbjs => npt not found >>> initNear"),void t.googletag.enableServices();i.setIdCallback((function(e){t.googletag.pubads().setPublisherProvidedId(e._ncid),t.googletag.enableServices()})),i.process()}))}(d),window.pbjs.que.push((function(){window.pbjs.addAdUnits(r.adUnits)}))},N.run=function(i){if(e.log("wPbjs.run >>>",i),!Array.isArray(i)&&"string"!=typeof i)return void e.warn("wPbjs.run >>> The input parameter must be a string or an array");Array.isArray(i)||(i=[i]);let n=t();M({endTime:$()+200,auctionId:n,auctionIds:i})},N.delete=function(t,i){e.log("wPbjs.delete >>>",t),Array.isArray(t)||"string"==typeof t?(Array.isArray(t)||(t=[t]),window.pbjs.que.push((function(){t.forEach((e=>{N.frameDatas[e].adUnits.forEach((e=>{window.pbjs.removeAdUnit(e.code)})),delete N.frameDatas[e]}));let e=Object.keys(window.pbjs.analyticAdapterOptions.auctions).find((e=>window.pbjs.analyticAdapterOptions.auctions[e].some((e=>t.some((t=>t==e))))));e&&delete window.pbjs.analyticAdapterOptions.auctions[e],"function"==typeof i&&i()}))):e.warn("wPbjs.delete >>> The input parameter must be a string or an array")},N.bidderTypeComplete=function(t,i){e.log(`wPbjs => (${t.frameData.divId}) >>> bidderTypeComplete(${i})`),++t.frameData.completedBidderTypes==t.frameData.totalBidderTypes&&(1==t.frameData.unitType&&function(t){const i=t.frameData.pbjsAuctionId,n=t.frameData.pbjsUnit;if(t.frameData.eventBus.registerStartRenderAd(i),t.frameData.skipDFP)e.log(`wPbjs => (${t.frameData.divId}) >>> skipDFP - run renderAd`),function(t){if(e.log(`wPbjs => (${t.frameData.divId}) >>> renderAd - check renderData`,t.frameData.renderData),!t.frameData.renderData)return;e.log(`wPbjs => (${t.frameData.divId}) >>> renderAd - start`);let i=Object.keys(t.frameData.renderData);e.log(`wPbjs => (${t.frameData.divId}) func renderAd - codes = `,i),i.forEach((i=>{if(t.frameData.renderData[i].rendered)return;t.frameData.renderData[i].rendered=!0;let n=t.document.getElementById(t.frameData.divId);if(e.log(`wPbjs => (${t.frameData.divId}) func renderAd - block = `,n),!n)return;let d=t.document.createElement("iframe");d.id=`google_ads_iframe_${t.frameData.divId}_0`,d.setAttribute("frameborder",0),d.setAttribute("scrolling","no"),d.setAttribute("marginheight","0"),d.setAttribute("marginwidth","0"),d.setAttribute("hspace","0"),d.setAttribute("vspace","0"),d.setAttribute("topmargin",0),d.setAttribute("leftmargin",0),d.setAttribute("allowtransparency",!0),d.setAttribute("width",0),d.setAttribute("height",0),d.setAttribute("border","0px"),d.style.border="0",n.appendChild(d);let a=t.frameData.renderData[i],r=d.contentWindow.document;if(a&&a.hb_adid){e.log(`wPbjs => (${t.frameData.divId}) func renderAd - RUN pbjs.renderAd, adServerTargeting = `,a),t.pbjs.renderAd(r,a.hb_adid);const i=function({adserverTargeting:t,divId:i}){if(e.log(`wPbjs (${i}) >>> getSerializeStringImp:`,t),!t)return;const n=[t.nm_aid,t.nm_uid,t.hb_bidder,t.hb_pb,t.nm_ref,t.nm_fp].join(";");return e.log(`wPbjs (${i}) >>> serialize impression:`,n),n}({adserverTargeting:a,divId:t.frameData.divId});!function({frameWindow:e,hbImpr:t}){if(!t)return;const i=e.document.createElement("img");i.setAttribute("width","0"),i.setAttribute("height","0"),i.setAttribute("hspace","0"),i.setAttribute("vspace","0");const n=S();i.src=`${n}/statistics/img/impr?data=${t}`,e.document.body.appendChild(i)}({frameWindow:t,hbImpr:i})}t.frameData.renderData[i]}))}(t);else try{t.googletag.pubads().addEventListener("slotRenderEnded",(function(){t.frameData.eventBus.registerSlotRenderEnded(i),t.frameData.winBid&&(t.frameData.winBid.gamRender=!0),j(t,t.frameData.winBid)})),t.googletag.pubads().addEventListener("slotOnload",(function(){t.frameData.eventBus.registerSlotOnload(i);const e=t.pbjs.eventBidWonFuncs[i],d=e?e.winBid:null;d&&t.frameData.adMetrics.flush(i,n,d)})),t.googletag.pubads().addEventListener("impressionViewable",(function(){t.frameData.eventBus.registerImpressionViewable(i),t.frameData.winBid&&(t.frameData.winBid.gamImpression=!0),v(t,t.frameData.winBid)})),e.log(`wPbjs => (${t.frameData.divId}) >>> GPT refresh`,t.frameData.gptSlot),t.googletag.pubads().refresh([t.frameData.gptSlot])}catch(e){console.error(e)}}(t),2==t.frameData.unitType&&function(t){e.log(`wPbjs => (${t.frameData.divId}) >>> run video`);let i=O(t,k(t));t.frameData.winVideoAdUnitCode=i.adUnitCode;let{videoUrl:n,tracks:a}=function(e,t){let i,n;return e.frameData.skipDFP?t.isWin?(i=function(e){if(e&&e.bidData)return e.bidData.vastUrl?e.bidData.vastUrl:`https://cache.hb.brainlyads.com/cache?uuid=${e.bidData.adserverTargeting.hb_uuid}`}(t),i&&(n={impression:`${window.pbjs._getNMoriginReport&&window.pbjs._getNMoriginReport()||originServerReport}/track/video/impression?uuid=${t.bidData.adserverTargeting.hb_uuid}`})):i=`${d}/vast-cap.xml`:i=function(e){let t=e.frameData.winVideoAdUnitCode||Object.keys(e.frameData.adUnitCodeToDFPPath)[0],i=e.frameData.customTargetings.reduce(((e,t)=>(Array.isArray(t)&&t.length>1&&(e[String(t[0])]=String(t[1])),e)),e.frameData.amazonCustomTargetings);return window.pbjs.adServers.dfp.buildVideoUrl({adUnit:e.frameData.adUnits.find((function(e){return e.code==t})),bid:!e.frameData.winVideoAdUnitCode&&{}||void 0,params:{iu:e.frameData.adUnitCodeToDFPPath[t],cust_params:i,output:"vast"}})}(e),{videoUrl:i,tracks:n}}(t,i);t.frameData.winVideoAdUnitCode&&window.pbjs.markWinningBidAsUsed({adUnitCode:t.frameData.winVideoAdUnitCode}),e.log(`wPbjs => (${t.frameData.divId}) >>> vastURL =`,n,a||"");let r=t.document.getElementById(t.frameData.divId);r&&t.vastAd&&t.vastAd(n,r)}(t))},N.renderOrtbAd=function(t,i){let n=N.frameDatas[Object.keys(N.frameDatas).find((e=>e==i))];if(n.ortbAdRendered)return;if(n.ortbAdRendered=!0,!n.ortbBid||!n.ortbBid.bid)return;let d=n.frameWindow.document.createElement("iframe");d.setAttribute("frameborder",0),d.setAttribute("scrolling","no"),d.setAttribute("marginheight","0"),d.setAttribute("marginwidth","0"),d.setAttribute("hspace","0"),d.setAttribute("vspace","0"),d.setAttribute("topmargin",0),d.setAttribute("leftmargin",0),d.setAttribute("allowtransparency",!0),d.setAttribute("border","0px"),d.setAttribute("width",n.ortbBid.bid.w),d.setAttribute("height",n.ortbBid.bid.w),d.style.width=n.ortbBid.bid.w+"px",d.style.height=n.ortbBid.bid.h+"px";try{t.body.appendChild(d)}catch(t){return void e.error("failed to append ortb frame, ",t)}let a=d.contentDocument;a?(a.open(),a.write(n.ortbBid.bid.adm),a.close(),t.defaultView.frameElement.width=n.ortbBid.bid.w||300,t.defaultView.frameElement.height=n.ortbBid.bid.h||250):e.warn("failed to get frameDocument for ortb iframe")},N.renderAd=function(t,i){let n=N.frameDatas[Object.keys(N.frameDatas).find((e=>N.frameDatas[e]&&N.frameDatas[e].nmAd&&N.frameDatas[e].nmAd.id==i))];if(!n)return;e.log(`wPbjs => (${n.divId})renderAd - fakeAd nmAd.id=${n.nmAd.id}`),t.defaultView.frameElement.width=n.nmAd.size[0]||300,t.defaultView.frameElement.height=n.nmAd.size[1]||250;let a=n.nmAd.url||`${d}/images/${n.nmAd.img}`,r=t.createElement("img");r.src=a,r.style.padding="0px",r.style.margin="0px",r.style.border="0px",t.body.appendChild(r)},N.cmd.push=q,N.cmd.forEach((e=>{q(e)})),window.loadJSScripts=function(t,i){e.log("loadJSScripts!!!!!");let n=[];const a={src:`${d}/prebid.nm.1.0.js`,async:!0};n.push({src:"https://js-sec.indexww.com/ht/p/188333-91751857837145.js",async:!0});let r=[a],o=!1,s=()=>{o||(o=!0,b(t,r))};t.PWT.jsLoaded=s;let c=t.location.href,u="";if(c.indexOf("pwtv=")>0){let e=/pwtv=(.*?)(&|$)/g.exec(c);e.length>=2&&e[1].length>0&&(u=`/${e[1]}`)}n.push({src:`//ads.pubmatic.com/AdServer/js/pwt/157577/2378${u}/pwt.js`,async:!0}),b(t,n,i),setTimeout(s,100)},function e(){const t=Date.now();Object.keys(window.pbjs.adUnitExpire||{}).forEach((e=>{t>window.pbjs.adUnitExpire[e]&&(delete window.pbjs.adUnitExpire[e],window.pbjs.que.push((()=>{window.pbjs.analyticAdapterOptions.data[e]&&(Object.keys(window.pbjs.analyticAdapterOptions.data[e]).forEach((e=>{window.pbjs.removeAdUnit(e)})),delete window.pbjs.analyticAdapterOptions.data[e])})))})),Object.keys(window.pbjs.eventBidWonFuncs||{}).forEach((e=>{window.pbjs.eventBidWonFuncs[e]&&t>window.pbjs.eventBidWonFuncs[e].expire&&delete window.pbjs.eventBidWonFuncs[e]})),Object.keys(window.wPbjs&&window.wPbjs.frameDatas||{}).forEach((e=>{t>window.wPbjs.frameDatas[e].expire&&delete window.wPbjs.frameDatas[e].expire})),setTimeout(e,6e4)}()})();